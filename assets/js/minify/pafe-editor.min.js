function pafeGenerateElementID(a){for(var e="p",t="abcdefghijklmnopqrstuvwxyz",i=t.length,n=0;n<a-1;n++)e+=t.charAt(Math.floor(Math.random()*i));return e}function pafeReplaceID(a){return a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(new RegExp("0","g"),"a")).replace(new RegExp("1","g"),"b")).replace(new RegExp("2","g"),"c")).replace(new RegExp("3","g"),"d")).replace(new RegExp("4","g"),"e")).replace(new RegExp("5","g"),"f")).replace(new RegExp("6","g"),"g")).replace(new RegExp("7","g"),"h")).replace(new RegExp("8","g"),"i")).replace(new RegExp("9","g"),"j")}jQuery(document).ready(function(i){elementor.hooks.addAction("panel/open_editor/widget/pafe-form-builder-field",function(a,e,t){var i=a.$el.find(".elementor-form-field-shortcode"),n=a.$el.find('[data-setting="field_id"]'),a=pafeReplaceID(e.attributes.id);i.length&&(""!=(e=n.val().trim())?i.val('[field id="'+e+'"]'):(i.val(""),n.val(a).change(),i.val('[field id="'+a+'"]'))),n.on("change, keyup",function(){var a=n.val().trim();""!=a?i.val('[field id="'+a+'"]'):i.val("")})}),elementor.hooks.addAction("panel/open_editor/widget/pafe-form-booking",function(a,e,t){var i=a.$el.find(".elementor-form-field-shortcode"),n=a.$el.find('[data-setting="pafe_form_booking_id"]');i.length&&(""!=(a=n.val().trim())?i.val('[field id="'+a+'"]'):i.val("")),n.on("change, keyup",function(){var a=n.val().trim();""!=a?i.val('[field id="'+a+'"]'):i.val("")})}),elementor.hooks.addAction("panel/open_editor/widget/pafe-form-builder-field",function(a,e,t){var i,n=a.$el.find(".pafe-form-builder-live-preview-code"),l=a.$el.find('[data-setting="field_id"]'),o=a.$el.find(".pafe-form-builder-live-preview-image"),d=a.$el.find('[data-setting="live_preview_image_width"]'),s=a.$el.find('[data-setting="live_preview_image_height"]');s.length&&(""!=(i=l.val().trim())?o.val('<div class="pafe-live-preivew-image" data-pafe-form-builder-live-preview="'+i+'" data-image-width="'+d.val()+'" data-image-height="'+s.val()+'"></div>'):o.val("")),s.on("change, keyup",function(){var a=l.val().trim();""!=a?o.val('<div class="pafe-live-preivew-image" data-pafe-form-builder-live-preview="'+a+'" data-image-width="'+d.val()+'" data-image-height="'+s.val()+'"></div>'):o.val("")}),n.length&&(""!=(i=l.val().trim())?n.val('<span data-pafe-form-builder-live-preview="'+i+'"></span>'):n.val("")),l.on("change, keyup",function(){var a=l.val().trim();""!=a?n.val('<span data-pafe-form-builder-live-preview="'+a+'"></span>'):n.val("")})}),elementor.hooks.addAction("panel/open_editor/section",function(n,a,e){n.$el.on("click",function(){var a,e=n.$el.find(".elementor-form-field-shortcode"),t=n.$el.find('[data-setting="pafe_form_builder_repeater_id"]'),i=n.$el.find(".elementor-control-pafe_form_builder_repeater_shortcode");e.length&&(a=null==t.val()?"":t.val().trim(),void 0!==t.val()&&(""!=a?e.val('[repeater id="'+a+'"]'):e.val(""))),t.on("click, change, keyup",function(){var a=null==t.val()?"":t.val().trim();void 0!==t.val()&&(""!=a?e.val('[repeater id="'+a+'"]'):e.val(""))}),i.on("click",function(){var a=null==t.val()?"":t.val().trim();void 0!==t.val()&&(""!=a?e.val('[repeater id="'+a+'"]'):e.val(""))})})}),elementor.hooks.addAction("panel/open_editor/column",function(n,a,e){n.$el.on("click",function(){var a,e=n.$el.find(".elementor-form-field-shortcode"),t=n.$el.find('[data-setting="pafe_form_builder_repeater_id"]'),i=n.$el.find(".elementor-control-pafe_form_builder_repeater_shortcode");e.length&&(""!=(a=t.val().trim())?e.val('[repeater id="'+a+'"]'):e.val("")),t.on("click, change, keyup",function(){var a=t.val().trim();""!=a?e.val('[repeater id="'+a+'"]'):e.val("")}),i.on("click",function(){var a=t.val().trim();""!=a?e.val('[repeater id="'+a+'"]'):e.val("")})})}),i(document).on("click","[data-pafe-campaign-get-data-list]",function(){i(document).find("[data-pafe-campaign-get-data-list]").addClass("loading");var e=i(this).closest("#elementor-controls"),t=e.find("[data-pafe-campaign-get-data-list-results]"),a=e.find('[data-setting="activecampaign_api_key_source"]').val();campaign_key="custom"==a?(campaign_url=e.find('[data-setting="activecampaign_api_url"]').val(),e.find('[data-setting="activecampaign_api_key"]').val()):campaign_url=!1;a={action:"pafe_campaign_select_list",campaign_url:campaign_url,campaign_key:campaign_key};i.post(ajaxurl,a,function(a){a&&(t.html(a),e.find('[data-setting="activecampaign_list"]').change(),i(document).find("[data-pafe-campaign-get-data-list]").removeClass("loading"))})}),i(document).on("keyup, change",'[data-setting="activecampaign_list"]',function(){var e=i(this).closest("#elementor-controls"),a=e.find('[data-setting="activecampaign_api_key_source"]').val(),t=i(this).val();campaign_key="custom"==a?(campaign_url=e.find('[data-setting="activecampaign_api_url"]').val(),e.find('[data-setting="activecampaign_api_key"]').val()):campaign_url=!1;t={action:"pafe_campaign_fields",campaign_url:campaign_url,campaign_key:campaign_key,list_id:t};i.post(ajaxurl,t,function(a){a&&e.find("[data-pafe-campaign-get-fields]").html(a)})}),i(document).on("click","[data-pafe-hubspot-get-property-list]",function(){i("[data-pafe-hubspot-get-property-list]").addClass("loading");let a=i(this).closest("#elementor-controls");var e={action:"pafe_hubspot_contact_property_list",group:a.find('[data-setting="pafe_hubspot_group_key"]').val()};i.post(ajaxurl,e,function(a){a&&(i(".pafe-hubspot-property-list").html(a),i("[data-pafe-hubspot-get-property-list]").removeClass("loading"))})}),i(document).on("click","[data-pafe-hubspot-get-group-list]",function(){console.log("1"),i("[data-pafe-hubspot-get-group-list]").addClass("loading");i.post(ajaxurl,{action:"pafe_hubspot_group_list"},function(a){a&&(i(".pafe-hubspot-group-list").html(a),i("[data-pafe-hubspot-get-group-list]").removeClass("loading"))})}),i(document).on("click","[data-pafe-getresponse-get-data-list]",function(){i("[data-pafe-getresponse-get-data-list]").addClass("loading");var a=i(this).closest("#elementor-controls"),a={action:"pafe_getresponse_select_list",api:"custom"==a.find('[data-setting="getresponse_api_key_source"]').val()&&a.find('[data-setting="getresponse_api_key"]').val()};i.post(ajaxurl,a,function(a){a&&(i("#pafe-getresponse-list").html(a),i("[data-pafe-getresponse-get-data-list]").removeClass("loading"))})}),i(document).on("click","[data-pafe-getresponse-get-data-custom-fields]",function(){i("[data-pafe-getresponse-get-data-custom-fields]").addClass("loading");var a=i(this).closest("#elementor-controls"),a={action:"pafe_getresponse_custom_fields",api:"custom"==a.find('[data-setting="getresponse_api_key_source"]').val()&&a.find('[data-setting="getresponse_api_key"]').val()};i.post(ajaxurl,a,function(a){a&&(i("#pafe-getresponse-custom-fields").html(a),i("[data-pafe-getresponse-get-data-custom-fields]").removeClass("loading"))})}),i(document).on("click","[data-pafe-mailchimp-get-data-list]",function(){i(this).addClass("loading");var a=i(this).closest("#elementor-controls"),a={action:"pafe_mailchimp_select_list",api:"custom"==a.find('[data-setting="mailchimp_api_key_source_v3"]').val()&&a.find('[data-setting="mailchimp_api_key_v3"]').val()};i.post(ajaxurl,a,function(a){a&&(i("[data-pafe-mailchimp-get-data-list-results]").html(a),i("[data-pafe-mailchimp-get-data-list]").removeClass("loading"))})}),i(document).on("click","[data-pafe-mailchimp-get-group-and-field]",function(){i(this).attr("disabled","disabled"),i(this).addClass("loading");var a,e=i(this).closest("#elementor-controls"),t=e.find('[data-setting="mailchimp_list_id"]').val(),e={action:"pafe_mailchimp_merge_fields",api:a="custom"==e.find('[data-setting="mailchimp_api_key_source_v3"]').val()&&e.find('[data-setting="mailchimp_api_key_v3"]').val(),list_id:t},t={action:"pafe_mailchimp_get_groups",api:a,list_id:t};i.post(ajaxurl,t,function(a){a&&i("[data-pafe-mailchimp-get-groups]").html(a)}),i.post(ajaxurl,e,function(a){a&&(i("[data-pafe-mailchimp-get-data-merge-fields]").html(a),i("[data-pafe-mailchimp-get-group-and-field]").removeClass("loading"),i("[data-pafe-mailchimp-get-group-and-field]").removeAttr("disabled"))})}),i(document).on("click","[data-pafe-twilio-sendgrid-get-data-list]",function(){i(this).attr("disabled","disabled"),i(this).addClass("loading");var a={action:"pafe_twilio_sendgrid_get_list",api:i(this).closest("#elementor-controls").find('[data-setting="twilio_sendgrid_api_key"]').val()};i.post(ajaxurl,a,function(a){a&&(i("[data-pafe-twilio-sendgrid-get-data-list-results]").html(a),i("[data-pafe-twilio-sendgrid-get-data-list]").removeClass("loading"))})}),i(document).on("click","[data-piotnet-mailpoet-get-custom-fields]",function(){i(this).addClass("loading");i.post(ajaxurl,{action:"pafe_mailpoet_get_custom_fields"},function(a){a&&(i("[data-piotnet-mailpoet-result-custom-field]").html(a),i("[data-piotnet-mailpoet-get-custom-fields]").removeClass("loading"))})}),i(document).on("click","[data-pafe-zohocrm-get-tag-name]",function(){i(this).addClass("loading"),$parent=i(this).closest("#elementor-controls");var a=$parent.find('[data-setting="zohocrm_module"]').val(),a={action:"zoho_get_tag_name",module:a="custom"==a?$parent.find('[data-setting="zohocrm_custom_module"]').val():a};i.post(ajaxurl,a,function(a){i("#pafe-zohocrm-tag-name").html(a),i("[data-pafe-zohocrm-get-tag-name]").removeClass("loading")})}),i(document).on("click","[data-pafe-mailerlite_api_get_groups]",function(){i(this).addClass("loading");const a=i(this).closest("#elementor-controls");var e,t={action:"mailerlite_get_groups",apiKey:e="default"!==a.find('[data-setting="mailerlite_api_key_source_v2"]').val()&&a.find('[data-setting="mailerlite_api_key_v2"]').val()};i.post(ajaxurl,t,function(a){a&&i("[data-pafe-mailerlite-api-get-groups-results]").html(a)}),i.post(ajaxurl,{action:"mailerlite_get_fields",apiKey:e},function(a){a&&(i("[data-pafe-mailerlite-api-get-fields-results]").html(a),i("[data-pafe-mailerlite_api_get_groups]").removeClass("loading"))})}),i(document).on("click","[data-pafe-sendinblue-get-list]",function(){i(this).addClass("loading");const a=i(this).closest("#elementor-controls");let e;var t=a.find('[data-setting="sendinblue_api_key_source"]').val();e="default"!=t&&a.find('[data-setting="sendinblue_api_key"]').val();t={action:"pafe_sendinblue_get_list",apiKey:e};i.post(ajaxurl,t,function(a){a&&i("[data-pafe-sendinblue-api-get-list-results]").html(a)});t={action:"pafe_sendinblue_get_attributes",apiKey:e};i.post(ajaxurl,t,function(a){a&&(i("[data-pafe-sendinblue-api-get-attributes-result]").html(a),i("[data-pafe-sendinblue-get-list]").removeClass("loading"))})}),i(document).on("click","[data-pafe-convertkit-get-data]",function(){i(this).addClass("loading");let a,e=i(this).closest("#elementor-controls");var t=e.find('[data-setting="convertkit_api_key_source"]').val();a="default"!=t&&e.find('[data-setting="convertkit_api_key"]').val(),convertkitDataForm={action:"pafe_convertkit_get_form",api_key:a},i.post(ajaxurl,convertkitDataForm,function(a){i("[data-pafe-convertkit-get-data-results]").html(a),i("[data-pafe-convertkit-get-data]").removeClass("loading")}),convertkitDataField={action:"pafe_convertkit_get_fields",api_key:a},i.post(ajaxurl,convertkitDataField,function(a){i("[data-pafe-convertkit-fields]").html(a)})}),i(document).on("click","[data-pafe-constant-contact-get-tag-name]",function(){i(this).addClass("loading");i.post(ajaxurl,{action:"pafe_constant_contact_get_custom_field"},function(a){a&&(i("#pafe-constant-contact-tag-name").html(a),i("[data-pafe-constant-contact-get-tag-name]").removeClass("loading"))})}),i(document).on("click","[data-pafe-constant-contact-get-list]",function(){i(this).addClass("loading");i.post(ajaxurl,{action:"pafe_constant_contact_get_list"},function(a){a&&(i("#pafe-constant-contact-list").html(a),i("[data-pafe-constant-contact-get-list]").removeClass("loading"))})})});
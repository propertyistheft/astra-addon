function pafeAddressAutocompleteInitMap(){document.querySelectorAll("[data-pafe-form-builder-address-autocomplete]").forEach(function(t,e,i){var a=new google.maps.places.Autocomplete(t),r=t.getAttribute("data-pafe-form-builder-address-autocomplete-country"),n=t.getAttribute("data-pafe-form-builder-google-maps-lat"),o=t.getAttribute("data-pafe-form-builder-google-maps-lng"),s=t.getAttribute("data-pafe-form-builder-google-maps-zoom");"All"==r?a.setComponentRestrictions({country:[]}):a.setComponentRestrictions({country:r});var l,d,c,u,r=t.closest(".elementor-element").querySelectorAll("[data-pafe-form-builder-address-autocomplete-map]");0<r.length&&(o={lat:parseFloat(n),lng:parseFloat(o)},s=parseInt(s),l=new google.maps.Map(r[0],{center:o,zoom:s}),d=new google.maps.InfoWindow,c=t.closest(".elementor-element").querySelectorAll(".infowindow-content")[0],d.setContent(c),u=new google.maps.Marker({map:l,anchorPoint:new google.maps.Point(0,-29)}),a.addListener("place_changed",function(){d.close(),u.setVisible(!1);var e,t=a.getPlace();t.geometry?(t.geometry.viewport?l.fitBounds(t.geometry.viewport):(l.setCenter(t.geometry.location),l.setZoom(17)),u.setPosition(t.geometry.location),u.setVisible(!0),e="",t.address_components&&(e=[t.address_components[0]&&t.address_components[0].short_name||"",t.address_components[1]&&t.address_components[1].short_name||"",t.address_components[2]&&t.address_components[2].short_name||""].join(" ")),c.children["place-icon"].src=t.icon,c.children["place-name"].textContent=t.name,c.children["place-address"].textContent=e,d.open(l,u)):window.alert("No details available for input: '"+t.name+"'")})),a.addListener("place_changed",function(){var e=a.getPlace();t.setAttribute("data-pafe-form-builder-google-maps-lat",e.geometry.location.lat()),t.setAttribute("data-pafe-form-builder-google-maps-lng",e.geometry.location.lng()),t.setAttribute("data-pafe-form-builder-google-maps-formatted-address",e.formatted_address),t.setAttribute("data-pafe-form-builder-google-maps-zoom","17"),document.querySelectorAll("[data-pafe-form-builder-calculated-fields-distance-calculation]").forEach(function(e,t,i){var a,r,n;a=null!==e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from")?e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from"):document.getElementById(e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from-field-shortcode").replace('[field id="',"form-field-").replace('"]',"")).getAttribute("data-pafe-form-builder-google-maps-formatted-address"),r=null!==e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to")?e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to"):($destination=document.getElementById(e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to-field-shortcode").replace('[field id="',"form-field-").replace('"]',"")),$destination.getAttribute("data-pafe-form-builder-google-maps-formatted-address")),""!=a&&""!=r&&(n=e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-unit"),calculateDistance(a,r,e.closest(".pafe-field-container").querySelector(".pafe-calculated-fields-form__value"),n,e))}),null!=jQuery(t).attr("data-pafe-form-builder-address-autocomplete")&&jQuery(t).change()})})}function calculateDistance(e,t,a,r,n){""!=e&&""!=t&&(new google.maps.DistanceMatrixService).getDistanceMatrix({origins:[e],destinations:[t],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},function(e,t){var i;t!=google.maps.DistanceMatrixStatus.OK||(e.originAddresses[0],e.destinationAddresses[0],"ZERO_RESULTS"===e.rows[0].elements[0].status||(i=e.rows[0].elements[0].distance,t=e.rows[0].elements[0].duration,e=i.value/1e3,i=i.value/1609.34,t.text,t.value,new Event("change"),"km"==r?(a.innerHTML=e.toFixed(2),n.value=e.toFixed(2)):(a.innerHTML=i.toFixed(2),n.value=i.toFixed(2)),jQuery(n).change()))})}function callback(e,t){if(t!=google.maps.DistanceMatrixStatus.OK)console.log(err);else{var i=e.originAddresses[0],a=e.destinationAddresses[0];if("ZERO_RESULTS"!==e.rows[0].elements[0].status){var r=e.rows[0].elements[0].distance,t=e.rows[0].elements[0].duration;console.log(e.rows[0].elements[0].distance);e=r.value/1e3,r=r.value/1609.34,t.text,t.value;return console.log(r.toFixed(2)+"miles"),e.toFixed(2)}console.log("Better get on a plane. There are no roads between "+i+" and "+a)}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}jQuery(document).ready(function(e){e(document).on("elementor/popup/show",function(){pafeAddressAutocompleteInitMap()})}),jQuery(document).ready(function(e){}),jQuery(document).ready(function(e){e(document).on("click","#pafe-form-builder-trigger-success-YOUR-FORM-ID",function(e){}),e(document).on("click","#pafe-form-builder-trigger-failed-YOUR-FORM-ID",function(e){})}),function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"object"==typeof exports&&"string"!=typeof exports.nodeName?t(exports):t(e.IBAN={})}(this,function(e){Array.prototype.map||(Array.prototype.map=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var a=new Array(i),r=2<=arguments.length?arguments[1]:void 0,n=0;n<i;n++)n in t&&(a[n]=e.call(r,t[n],n,t));return a});var i="A".charCodeAt(0),a="Z".charCodeAt(0);function r(e){return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split("").map(function(e){var t=e.charCodeAt(0);return i<=t&&t<=a?t-i+10:e}).join("")}function n(e){for(var t,i=e;2<i.length;)t=i.slice(0,9),i=parseInt(t,10)%97+i.slice(t.length);return parseInt(i,10)%97}function o(e){return e.replace(d,"").toUpperCase()}function t(e,t,i,a){this.countryCode=e,this.length=t,this.structure=i,this.example=a}t.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=(e=this.structure.match(/(.{3})/g).map(function(e){var t,i=e.slice(0,1),e=parseInt(e.slice(1),10);switch(i){case"A":t="0-9A-Za-z";break;case"B":t="0-9A-Z";break;case"C":t="A-Za-z";break;case"F":t="0-9";break;case"L":t="a-z";break;case"U":t="A-Z";break;case"W":t="0-9a-z"}return"(["+t+"]{"+e+"})"}),new RegExp("^"+e.join("")+"$")));var e},t.prototype.isValid=function(e){return this.length==e.length&&this.countryCode===e.slice(0,2)&&this._regex().test(e.slice(4))&&1==n(r(e))},t.prototype.toBBAN=function(e,t){return this._regex().exec(e.slice(4)).slice(1).join(t)},t.prototype.fromBBAN=function(e){if(!this.isValidBBAN(e))throw new Error("Invalid BBAN");var t=("0"+(98-n(r(this.countryCode+"00"+e)))).slice(-2);return this.countryCode+t+e},t.prototype.isValidBBAN=function(e){return this.length-4==e.length&&this._regex().test(e)};var s={};function l(e){s[e.countryCode]=e}l(new t("AD",24,"F04F04A12","AD1200012030200359100100")),l(new t("AE",23,"F03F16","AE070331234567890123456")),l(new t("AL",28,"F08A16","AL47212110090000000235698741")),l(new t("AT",20,"F05F11","AT611904300234573201")),l(new t("AZ",28,"U04A20","AZ21NABZ00000000137010001944")),l(new t("BA",20,"F03F03F08F02","BA391290079401028494")),l(new t("BE",16,"F03F07F02","BE68539007547034")),l(new t("BG",22,"U04F04F02A08","BG80BNBG96611020345678")),l(new t("BH",22,"U04A14","BH67BMAG00001299123456")),l(new t("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1")),l(new t("BY",28,"A04F04A16","BY13NBRB3600900000002Z00AB00")),l(new t("CH",21,"F05A12","CH9300762011623852957")),l(new t("CR",22,"F04F14","CR72012300000171549015")),l(new t("CY",28,"F03F05A16","CY17002001280000001200527600")),l(new t("CZ",24,"F04F06F10","CZ6508000000192000145399")),l(new t("DE",22,"F08F10","DE89370400440532013000")),l(new t("DK",18,"F04F09F01","DK5000400440116243")),l(new t("DO",28,"U04F20","DO28BAGR00000001212453611324")),l(new t("EE",20,"F02F02F11F01","EE382200221020145685")),l(new t("EG",29,"F04F04F17","EG800002000156789012345180002")),l(new t("ES",24,"F04F04F01F01F10","ES9121000418450200051332")),l(new t("FI",18,"F06F07F01","FI2112345600000785")),l(new t("FO",18,"F04F09F01","FO6264600001631634")),l(new t("FR",27,"F05F05A11F02","FR1420041010050500013M02606")),l(new t("GB",22,"U04F06F08","GB29NWBK60161331926819")),l(new t("GE",22,"U02F16","GE29NB0000000101904917")),l(new t("GI",23,"U04A15","GI75NWBK000000007099453")),l(new t("GL",18,"F04F09F01","GL8964710001000206")),l(new t("GR",27,"F03F04A16","GR1601101250000000012300695")),l(new t("GT",28,"A04A20","GT82TRAJ01020000001210029690")),l(new t("HR",21,"F07F10","HR1210010051863000160")),l(new t("HU",28,"F03F04F01F15F01","HU42117730161111101800000000")),l(new t("IE",22,"U04F06F08","IE29AIBK93115212345678")),l(new t("IL",23,"F03F03F13","IL620108000000099999999")),l(new t("IS",26,"F04F02F06F10","IS140159260076545510730339")),l(new t("IT",27,"U01F05F05A12","IT60X0542811101000000123456")),l(new t("IQ",23,"U04F03A12","IQ98NBIQ850123456789012")),l(new t("JO",30,"A04F22","JO15AAAA1234567890123456789012")),l(new t("KW",30,"U04A22","KW81CBKU0000000000001234560101")),l(new t("KZ",20,"F03A13","KZ86125KZT5004100100")),l(new t("LB",28,"F04A20","LB62099900000001001901229114")),l(new t("LC",32,"U04F24","LC07HEMM000100010012001200013015")),l(new t("LI",21,"F05A12","LI21088100002324013AA")),l(new t("LT",20,"F05F11","LT121000011101001000")),l(new t("LU",20,"F03A13","LU280019400644750000")),l(new t("LV",21,"U04A13","LV80BANK0000435195001")),l(new t("MC",27,"F05F05A11F02","MC5811222000010123456789030")),l(new t("MD",24,"U02A18","MD24AG000225100013104168")),l(new t("ME",22,"F03F13F02","ME25505000012345678951")),l(new t("MK",19,"F03A10F02","MK07250120000058984")),l(new t("MR",27,"F05F05F11F02","MR1300020001010000123456753")),l(new t("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S")),l(new t("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR")),l(new t("NL",18,"U04F10","NL91ABNA0417164300")),l(new t("NO",15,"F04F06F01","NO9386011117947")),l(new t("PK",24,"U04A16","PK36SCBL0000001123456702")),l(new t("PL",28,"F08F16","PL61109010140000071219812874")),l(new t("PS",29,"U04A21","PS92PALS000000000400123456702")),l(new t("PT",25,"F04F04F11F02","PT50000201231234567890154")),l(new t("QA",29,"U04A21","QA30AAAA123456789012345678901")),l(new t("RO",24,"U04A16","RO49AAAA1B31007593840000")),l(new t("RS",22,"F03F13F02","RS35260005601001611379")),l(new t("SA",24,"F02A18","SA0380000000608010167519")),l(new t("SC",31,"U04F04F16U03","SC18SSCB11010000000000001497USD")),l(new t("SE",24,"F03F16F01","SE4550000000058398257466")),l(new t("SI",19,"F05F08F02","SI56263300012039086")),l(new t("SK",24,"F04F06F10","SK3112000000198742637541")),l(new t("SM",27,"U01F05F05A12","SM86U0322509800000000270100")),l(new t("ST",25,"F08F11F02","ST68000100010051845310112")),l(new t("SV",28,"U04F20","SV62CENR00000000000000700025")),l(new t("TL",23,"F03F14F02","TL380080012345678910157")),l(new t("TN",24,"F02F03F13F02","TN5910006035183598478831")),l(new t("TR",26,"F05F01A16","TR330006100519786457841326")),l(new t("UA",29,"F25","UA511234567890123456789012345")),l(new t("VA",22,"F18","VA59001123000012345678")),l(new t("VG",24,"U04F16","VG96VPVG0000012345678901")),l(new t("XK",20,"F04F10F02","XK051212012345678906")),l(new t("AO",25,"F21","AO69123456789012345678901")),l(new t("BF",27,"F23","BF2312345678901234567890123")),l(new t("BI",16,"F12","BI41123456789012")),l(new t("BJ",28,"F24","BJ39123456789012345678901234")),l(new t("CI",28,"U02F22","CI70CI1234567890123456789012")),l(new t("CM",27,"F23","CM9012345678901234567890123")),l(new t("CV",25,"F21","CV30123456789012345678901")),l(new t("DZ",24,"F20","DZ8612345678901234567890")),l(new t("IR",26,"F22","IR861234568790123456789012")),l(new t("MG",27,"F23","MG1812345678901234567890123")),l(new t("ML",28,"U01F23","ML15A12345678901234567890123")),l(new t("MZ",25,"F21","MZ25123456789012345678901")),l(new t("SN",28,"U01F23","SN52A12345678901234567890123")),l(new t("GF",27,"F05F05A11F02","GF121234512345123456789AB13")),l(new t("GP",27,"F05F05A11F02","GP791234512345123456789AB13")),l(new t("MQ",27,"F05F05A11F02","MQ221234512345123456789AB13")),l(new t("RE",27,"F05F05A11F02","RE131234512345123456789AB13")),l(new t("PF",27,"F05F05A11F02","PF281234512345123456789AB13")),l(new t("TF",27,"F05F05A11F02","TF891234512345123456789AB13")),l(new t("YT",27,"F05F05A11F02","YT021234512345123456789AB13")),l(new t("NC",27,"F05F05A11F02","NC551234512345123456789AB13")),l(new t("BL",27,"F05F05A11F02","BL391234512345123456789AB13")),l(new t("MF",27,"F05F05A11F02","MF551234512345123456789AB13")),l(new t("PM",27,"F05F05A11F02","PM071234512345123456789AB13")),l(new t("WF",27,"F05F05A11F02","WF621234512345123456789AB13"));var d=/[^a-zA-Z0-9]/g,c=/(.{4})(?!$)/g;function u(e){return"string"==typeof e||e instanceof String}e.isValid=function(e){if(!u(e))return!1;e=o(e);var t=s[e.slice(0,2)];return!!t&&t.isValid(e)},e.toBBAN=function(e,t){void 0===t&&(t=" "),e=o(e);var i=s[e.slice(0,2)];if(!i)throw new Error("No country with code "+e.slice(0,2));return i.toBBAN(e,t)},e.fromBBAN=function(e,t){var i=s[e];if(!i)throw new Error("No country with code "+e);return i.fromBBAN(o(t))},e.isValidBBAN=function(e,t){if(!u(t))return!1;e=s[e];return e&&e.isValidBBAN(o(t))},e.printFormat=function(e,t){return void 0===t&&(t=" "),o(e).replace(c,"$1"+t)},e.electronicFormat=o,e.countries=s}),function(e,c){var a,t=e.jQuery||e.Cowboy||(e.Cowboy={});t.throttle=a=function(r,n,o,s){var l,d=0;function e(){var e=this,t=+new Date-d,i=arguments;function a(){d=+new Date,o.apply(e,i)}s&&!l&&a(),l&&clearTimeout(l),s===c&&r<t?a():!0!==n&&(l=setTimeout(s?function(){l=c}:a,s===c?r-t:r))}return"boolean"!=typeof n&&(s=o,o=n,n=c),t.guid&&(e.guid=o.guid=o.guid||t.guid++),e},t.debounce=function(e,t,i){return i===c?a(e,t,!1):a(e,i,!1!==t)}}(this),function(t){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,document,window,navigator)}):jQuery||"object"!=typeof exports?t(jQuery,document,window,navigator):t(require("jquery"),document,window,navigator)}(function(o,s,l,e,d){"use strict";var t,i=0,a=(t=/msie\s\d+/i,0<(e=e.userAgent).search(t)&&t.exec(e).toString().split(" ")[1]<9&&(o("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(i){var a=this,r=[].slice;if("function"!=typeof a)throw new TypeError;var n=r.call(arguments,1),o=function(){if(this instanceof o){var e=function(){};e.prototype=a.prototype;var t=new e,e=a.apply(t,n.concat(r.call(arguments)));return Object(e)===e?e:t}return a.apply(i,n.concat(r.call(arguments)))};return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var a=Object(this),r=a.length>>>0;if(0==r)return-1;t=+t||0;if(Math.abs(t)===1/0&&(t=0),r<=t)return-1;for(i=Math.max(0<=t?t:r-Math.abs(t),0);i<r;){if(i in a&&a[i]===e)return i;i++}return-1});function r(e,t,i){this.VERSION="2.3.0",this.input=e,this.plugin_count=i,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,t=t||{},this.$cache={win:o(l),body:o(s.body),input:o(e),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var a,r,n=this.$cache.input,i=n.prop("value"),e={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null};for(r in"INPUT"!==n[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",n[0]),(a={skin:n.data("skin"),type:n.data("type"),min:n.data("min"),max:n.data("max"),from:n.data("from"),to:n.data("to"),step:n.data("step"),min_interval:n.data("minInterval"),max_interval:n.data("maxInterval"),drag_interval:n.data("dragInterval"),values:n.data("values"),from_fixed:n.data("fromFixed"),from_min:n.data("fromMin"),from_max:n.data("fromMax"),from_shadow:n.data("fromShadow"),to_fixed:n.data("toFixed"),to_min:n.data("toMin"),to_max:n.data("toMax"),to_shadow:n.data("toShadow"),prettify_enabled:n.data("prettifyEnabled"),prettify_separator:n.data("prettifySeparator"),force_edges:n.data("forceEdges"),keyboard:n.data("keyboard"),grid:n.data("grid"),grid_margin:n.data("gridMargin"),grid_num:n.data("gridNum"),grid_snap:n.data("gridSnap"),hide_min_max:n.data("hideMinMax"),hide_from_to:n.data("hideFromTo"),prefix:n.data("prefix"),postfix:n.data("postfix"),max_postfix:n.data("maxPostfix"),decorate_both:n.data("decorateBoth"),values_separator:n.data("valuesSeparator"),input_values_separator:n.data("inputValuesSeparator"),disable:n.data("disable"),block:n.data("block"),extra_classes:n.data("extraClasses")}).values=a.values&&a.values.split(","),a)a.hasOwnProperty(r)&&(a[r]!==d&&""!==a[r]||delete a[r]);i!==d&&""!==i&&((i=i.split(a.input_values_separator||t.input_values_separator||";"))[0]&&i[0]==+i[0]&&(i[0]=+i[0]),i[1]&&i[1]==+i[1]&&(i[1]=+i[1]),t&&t.values&&t.values.length?(e.from=i[0]&&t.values.indexOf(i[0]),e.to=i[1]&&t.values.indexOf(i[1])):(e.from=i[0]&&+i[0],e.to=i[1]&&+i[1])),o.extend(e,t),o.extend(e,a),this.options=e,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()}r.prototype={init:function(e){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),e?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var e='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(e),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var e=this.options.min,t=this.options.max,i=this.options.from,a=this.options.to;e<i&&a===t?this.$cache.s_from.addClass("type_last"):a<t&&this.$cache.s_to.addClass("type_last")},changeLevel:function(e){switch(e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),a&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),a&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(e){var t,i;this.target||(t=(i="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,t+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:t}))},pointerMove:function(e){this.dragging&&(e=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX,this.coords.x_pointer=e-this.coords.x_gap,this.calc())},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,a&&o("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(o.contains(this.$cache.cont[0],e.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&("both"===e&&this.setTempMinInterval(),e=e||(this.target||"from"),this.current_plugin=this.plugin_count,this.target=e,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),a&&o("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(e,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&(this.current_plugin=this.plugin_count,this.target=e,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(e,t){if(!(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)){switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:t.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(e){var t=this.coords.p_pointer,i=(this.options.max-this.options.min)/100,i=this.options.step/i;e?t+=i:t-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");var e,t;this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(e=this._prettify(this.options.min),t=this._prettify(this.options.max),this.result.min_pretty=e,this.result.max_pretty=t,this.$cache.min.html(this.decorate(e,this.options.min)),this.$cache.max.html(this.decorate(t,this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var e=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=e},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(e){if(this.options&&(this.calc_count++,10!==this.calc_count&&!e||(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var t=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,t=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,t=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(t)),this.target){case"base":var i=(this.options.max-this.options.min)/100,a=(this.result.from-this.options.min)/i,r=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(a),this.coords.p_from_real=this.toFixed(a),this.coords.p_to_real=this.toFixed(r),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(t),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(t),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(t),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;t=this.toFixed(t+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var n=this.convertToRealPercent(t),i=this.result.from_percent,a=this.result.to_percent-i,r=a/2,i=n-r,r=n+r;i<0&&(r=(i=0)+a),100<r&&(i=(r=100)-a),this.coords.p_from_real=this.calcWithStep(i),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(r),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(e){return e/(100-this.coords.p_handle)*100},convertToFakePercent:function(e){return e/100*(100-this.coords.p_handle)},getHandleX:function(){var e=100-this.coords.p_handle,t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return t<0?t=0:e<t&&(t=e),t},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(e){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=e?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),this.coords.w_rs===this.coords.w_rs_old&&!this.force_redraw||(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",this.old_from===this.result.from&&!this.force_redraw||(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),this.old_to===this.result.to&&!this.force_redraw||(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){var e,t,i,a,r,n;this.options&&(e=this.options.values.length,t=this.options.p_values,this.options.hide_from_to||("single"===this.options.type?(a=e?this.decorate(t[this.result.from]):(n=this._prettify(this.result.from),this.decorate(n,this.result.from)),this.$cache.single.html(a),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"):(n=e?(this.options.decorate_both?(a=this.decorate(t[this.result.from]),a+=this.options.values_separator,a+=this.decorate(t[this.result.to])):a=this.decorate(t[this.result.from]+this.options.values_separator+t[this.result.to]),r=this.decorate(t[this.result.from]),this.decorate(t[this.result.to])):(n=this._prettify(this.result.from),i=this._prettify(this.result.to),this.options.decorate_both?(a=this.decorate(n,this.result.from),a+=this.options.values_separator,a+=this.decorate(i,this.result.to)):a=this.decorate(n+this.options.values_separator+i,this.result.to),r=this.decorate(n,this.result.from),this.decorate(i,this.result.to)),this.$cache.single.html(a),this.$cache.from.html(r),this.$cache.to.html(n),this.calcLabels(),i=Math.min(this.labels.p_single_left,this.labels.p_from_left),a=this.labels.p_single_left+this.labels.p_single_fake,r=this.labels.p_to_left+this.labels.p_to_fake,n=Math.max(a,r),this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",n=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",r):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(a,r))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),i<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",n>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible")))},drawShadow:function(){var e,t,i=this.options,a=this.$cache,r="number"==typeof i.from_min&&!isNaN(i.from_min),n="number"==typeof i.from_max&&!isNaN(i.from_max),o="number"==typeof i.to_min&&!isNaN(i.to_min),s="number"==typeof i.to_max&&!isNaN(i.to_max);"single"===i.type?i.from_shadow&&(r||n)?(e=this.convertToPercent(r?i.from_min:i.min),t=this.convertToPercent(n?i.from_max:i.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,a.shad_single[0].style.display="block",a.shad_single[0].style.left=e+"%",a.shad_single[0].style.width=t+"%"):a.shad_single[0].style.display="none":(i.from_shadow&&(r||n)?(e=this.convertToPercent(r?i.from_min:i.min),t=this.convertToPercent(n?i.from_max:i.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),t=this.toFixed(t-this.coords.p_handle/100*t),e+=this.coords.p_handle/2,a.shad_from[0].style.display="block",a.shad_from[0].style.left=e+"%",a.shad_from[0].style.width=t+"%"):a.shad_from[0].style.display="none",i.to_shadow&&(o||s)?(o=this.convertToPercent(o?i.to_min:i.min),i=this.convertToPercent(s?i.to_max:i.max)-o,o=this.toFixed(o-this.coords.p_handle/100*o),i=this.toFixed(i-this.coords.p_handle/100*i),o+=this.coords.p_handle/2,a.shad_to[0].style.display="block",a.shad_to[0].style.left=o+"%",a.shad_to[0].style.width=i+"%"):a.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(e,t){var i=this.options.max-this.options.min,a=i/100;return i?(a=(t?e:e-this.options.min)/a,this.toFixed(a)):(this.no_diapason=!0,0)},convertToValue:function(e){var t,i,a=this.options.min,r=this.options.max,n=a.toString().split(".")[1],o=r.toString().split(".")[1],s=0,l=0;if(0===e)return this.options.min;if(100===e)return this.options.max;n&&(s=t=n.length),o&&(s=i=o.length),t&&i&&(s=i<=t?t:i),a<0&&(a=+(a+(l=Math.abs(a))).toFixed(s),r=+(r+l).toFixed(s));var e=(r-a)/100*e+a,a=this.options.step.toString().split(".")[1],e=a?+e.toFixed(a.length):(e/=this.options.step,+(e*=this.options.step).toFixed(0));return l&&(e-=l),(e=a?+e.toFixed(a.length):this.toFixed(e))<this.options.min?e=this.options.min:e>this.options.max&&(e=this.options.max),e},calcWithStep:function(e){var t=Math.round(e/this.coords.p_step)*this.coords.p_step;return 100<t&&(t=100),100===e&&(t=100),this.toFixed(t)},checkMinInterval:function(e,t,i){var a,r=this.options;return r.min_interval?(a=this.convertToValue(e),t=this.convertToValue(t),"from"===i?t-a<r.min_interval&&(a=t-r.min_interval):a-t<r.min_interval&&(a=t+r.min_interval),this.convertToPercent(a)):e},checkMaxInterval:function(e,t,i){var a,r=this.options;return r.max_interval?(a=this.convertToValue(e),t=this.convertToValue(t),"from"===i?t-a>r.max_interval&&(a=t-r.max_interval):a-t>r.max_interval&&(a=t+r.max_interval),this.convertToPercent(a)):e},checkDiapason:function(e,t,i){var a=this.convertToValue(e),e=this.options;return"number"!=typeof t&&(t=e.min),"number"!=typeof i&&(i=e.max),a<t&&(a=t),i<a&&(a=i),this.convertToPercent(a)},toFixed:function(e){return+e.toFixed(20)},_prettify:function(e){return this.options.prettify_enabled?(this.options.prettify&&"function"==typeof this.options.prettify?this.options:this).prettify(e):e},prettify:function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(e,t){return this.options.force_edges&&(e<0?e=0:100-t<e&&(e=100-t)),this.toFixed(e)},validate:function(){var e,t,i=this.options,a=this.result,r=i.values,n=r.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),n)for(i.p_values=[],i.min=0,i.max=n-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,t=0;t<n;t++)e=+r[t],e=isNaN(e)?r[t]:(r[t]=e,this._prettify(e)),i.p_values.push(e);"number"==typeof i.from&&!isNaN(i.from)||(i.from=i.min),"number"==typeof i.to&&!isNaN(i.to)||(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),a&&(a.min!==i.min&&(a.min=i.min),a.max!==i.max&&(a.max=i.max),(a.from<a.min||a.from>a.max)&&(a.from=i.from),(a.to<a.min||a.to>a.max)&&(a.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(e,t){var i="",a=this.options;return a.prefix&&(i+=a.prefix),i+=e,a.max_postfix&&(a.values.length&&e===a.p_values[a.max]||t===a.max)&&(i+=a.max_postfix,a.postfix&&(i+=" ")),a.postfix&&(i+=a.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var e,t,i,a,r,n,o=this.options,s=o.max-o.min,l=o.grid_num,d=0,c=4,u="";for(this.calcGridMargin(),o.grid_snap&&(l=s/o.step),50<l&&(l=50),i=this.toFixed(100/l),4<l&&(c=3),7<l&&(c=2),14<l&&(c=1),28<l&&(c=0),e=0;e<l+1;e++){for(a=c,100<(d=this.toFixed(i*e))&&(d=100),r=((this.coords.big[e]=d)-i*(e-1))/(a+1),t=1;t<=a&&0!==d;t++)u+='<span class="irs-grid-pol small" style="left: '+this.toFixed(d-r*t)+'%"></span>';u+='<span class="irs-grid-pol" style="left: '+d+'%"></span>',n=this.convertToValue(d),u+='<span class="irs-grid-text js-grid-text-'+e+'" style="left: '+d+'%">'+(n=o.values.length?o.p_values[n]:this._prettify(n))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(u),this.cacheGridLabels()}},cacheGridLabels:function(){for(var e,t=this.coords.big_num,i=0;i<t;i++)e=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(e);this.calcGridLabels()},calcGridLabels:function(){for(var e,t=[],i=[],a=this.coords.big_num,r=0;r<a;r++)this.coords.big_w[r]=this.$cache.grid_labels[r].outerWidth(!1),this.coords.big_p[r]=this.toFixed(this.coords.big_w[r]/this.coords.w_rs*100),this.coords.big_x[r]=this.toFixed(this.coords.big_p[r]/2),t[r]=this.toFixed(this.coords.big[r]-this.coords.big_x[r]),i[r]=this.toFixed(t[r]+this.coords.big_p[r]);for(this.options.force_edges&&(t[0]<-this.coords.grid_gap&&(t[0]=-this.coords.grid_gap,i[0]=this.toFixed(t[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[a-1]>100+this.coords.grid_gap&&(i[a-1]=100+this.coords.grid_gap,t[a-1]=this.toFixed(i[a-1]-this.coords.big_p[a-1]),this.coords.big_x[a-1]=this.toFixed(this.coords.big_p[a-1]-this.coords.grid_gap))),this.calcGridCollision(2,t,i),this.calcGridCollision(4,t,i),r=0;r<a;r++)e=this.$cache.grid_labels[r][0],this.coords.big_x[r]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[r]+"%")},calcGridCollision:function(e,t,i){for(var a,r,n=this.coords.big_num,o=0;o<n&&!(n<=(a=o+e/2));o+=e)r=this.$cache.grid_labels[a][0],i[o]<=t[a]?r.style.visibility="visible":r.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=o.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),o.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},o.fn.ionRangeSlider=function(e){return this.each(function(){o.data(this,"ionRangeSlider")||o.data(this,"ionRangeSlider",new r(this,e,i++))})},function(){for(var n=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!l.requestAnimationFrame;++t)l.requestAnimationFrame=l[e[t]+"RequestAnimationFrame"],l.cancelAnimationFrame=l[e[t]+"CancelAnimationFrame"]||l[e[t]+"CancelRequestAnimationFrame"];l.requestAnimationFrame||(l.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),a=Math.max(0,16-(i-n)),r=l.setTimeout(function(){e(i+a)},a);return n=i+a,r}),l.cancelAnimationFrame||(l.cancelAnimationFrame=function(e){clearTimeout(e)})}()});var _createClass=function(){function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}}();(function(){var i,h,n,a,o=[].indexOf;function r(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,r),this.clicked=this.clicked.bind(this),this.picker=t,this.opts=i,this.option=jQuery(e),this.create_node()}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,s),this.sync_picker_with_select=this.sync_picker_with_select.bind(this),this.opts=t,this.select=jQuery(e),this.multiple="multiple"===this.select.attr("multiple"),null!=this.select.data("limit")&&(this.opts.limit=parseInt(this.select.data("limit"))),this.build_and_append_picker()}jQuery.fn.extend({imagepicker:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.each(function(){var e;if((e=jQuery(this)).data("picker")&&e.data("picker").destroy(),e.data("picker",new i(this,a(t))),null!=t.initialized)return t.initialized.call(e.data("picker"))})}}),a=function(e){var t={hide_select:!0,show_label:!1,initialized:void 0,changed:void 0,clicked:void 0,selected:void 0,limit:void 0,limit_reached:void 0,font_awesome:!1};return jQuery.extend(t,e)},n=function(e,t){var i,a,r,n;if(!e||!t||e.length!==t.length)return!1;for(e=e.slice(0),t=t.slice(0),e.sort(),t.sort(),i=a=0,r=e.length;a<r;i=++a)if(n=e[i],t[i]!==n)return!1;return!0},_createClass(s,[{key:"destroy",value:function(){for(var e,t=0,i=(e=this.picker_options).length;t<i;t++)e[t].destroy();return this.picker.remove(),this.select.off("change",this.sync_picker_with_select),this.select.removeData("picker"),this.select.show()}},{key:"build_and_append_picker",value:function(){return this.opts.hide_select&&this.select.hide(),this.select.on("change",this.sync_picker_with_select),null!=this.picker&&this.picker.remove(),this.create_picker(),this.select.after(this.picker),this.sync_picker_with_select()}},{key:"sync_picker_with_select",value:function(){for(var e,t,i=[],a=0,r=(t=this.picker_options).length;a<r;a++)(e=t[a]).is_selected()?i.push(e.mark_as_selected()):i.push(e.unmark_as_selected());return i}},{key:"create_picker",value:function(){return this.picker=jQuery("<ul class='thumbnails image_picker_selector'></ul>"),this.picker_options=[],this.recursively_parse_option_groups(this.select,this.picker),this.picker}},{key:"recursively_parse_option_groups",value:function(r,e){for(var t,i,a,n,o,s,l,d,c=0,u=(s=r.children("optgroup")).length;c<u;c++)o=s[c],o=jQuery(o),(t=jQuery("<ul></ul>")).append(jQuery("<li class='group_title'>"+o.attr("label")+"</li>")),e.append(jQuery("<li class='group'>").append(t)),this.recursively_parse_option_groups(o,t);for(d=[],i=0,a=(l=function(){for(var e,t=[],i=0,a=(e=r.children("option")).length;i<a;i++)n=e[i],t.push(new h(n,this,this.opts));return t}.call(this)).length;i<a;i++)n=l[i],this.picker_options.push(n),n.has_image()&&d.push(e.append(n.node));return d}},{key:"has_implicit_blanks",value:function(){var r;return 0<function(){for(var e,t=[],i=0,a=(e=this.picker_options).length;i<a;i++)(r=e[i]).is_blank()&&!r.has_image()&&t.push(r);return t}.call(this).length}},{key:"selected_values",value:function(){return this.multiple?this.select.val()||[]:[this.select.val()]}},{key:"toggle",value:function(e,t){var i,a=this.selected_values(),r=e.value().toString();if(this.multiple?0<=o.call(this.selected_values(),r)?((i=this.selected_values()).splice(jQuery.inArray(r,a),1),this.select.val([]),this.select.val(i)):null!=this.opts.limit&&this.selected_values().length>=this.opts.limit?null!=this.opts.limit_reached&&this.opts.limit_reached.call(this.select):this.select.val(this.selected_values().concat(r)):this.has_implicit_blanks()&&e.is_selected()?this.select.val(""):this.select.val(r),!n(a,this.selected_values())&&(this.select.change(),null!=this.opts.changed))return this.opts.changed.call(this.select,a,this.selected_values(),t)}}]),i=s,_createClass(r,[{key:"destroy",value:function(){return this.node.find(".thumbnail").off("click",this.clicked)}},{key:"has_image",value:function(){return null!=this.option.data("img-src")}},{key:"is_blank",value:function(){return!(null!=this.value()&&""!==this.value())}},{key:"is_selected",value:function(){var e=this.picker.select.val();return this.picker.multiple?0<=jQuery.inArray(this.value(),e):this.value()===e}},{key:"mark_as_selected",value:function(){return this.node.find(".thumbnail").addClass("selected")}},{key:"unmark_as_selected",value:function(){return this.node.find(".thumbnail").removeClass("selected")}},{key:"value",value:function(){return this.option.val()}},{key:"label",value:function(){return this.option.data("img-label")?this.option.data("img-label"):this.option.text()}},{key:"clicked",value:function(e){if(this.picker.toggle(this,e),null!=this.opts.clicked&&this.opts.clicked.call(this.picker.select,this,e),null!=this.opts.selected&&this.is_selected())return this.opts.selected.call(this.picker.select,this,e)}},{key:"create_node",value:function(){var e,t,i;return this.node=jQuery("<li/>"),this.option.data("font_awesome")?(e=jQuery("<i>")).attr("class","fa-fw "+this.option.data("img-src")):(e=jQuery("<img class='image_picker_image'/>")).attr("src",this.option.data("img-src")),i=jQuery("<div class='thumbnail'>"),(t=this.option.data("img-class"))&&(this.node.addClass(t),e.addClass(t),i.addClass(t)),(t=this.option.data("img-alt"))&&e.attr("alt",t),i.on("click",this.clicked),i.append(e),this.opts.show_label&&i.append(jQuery("<p/>").html(this.label())),this.node.append(i),this.node}}]),h=r}).call(void 0),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){var i;c.extend(c.fn,{validate:function(e){if(this.length){var a=c.data(this[0],"validator");return a||(this.attr("novalidate","novalidate"),a=new c.validator(e,this[0]),c.data(this[0],"validator",a),a.settings.onsubmit&&(this.on("click.validate",":submit",function(e){a.submitButton=e.currentTarget,c(this).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.on("submit.validate",function(i){function e(){var e,t;return a.submitButton&&(a.settings.submitHandler||a.formSubmitted)&&(e=c("<input type='hidden'/>").attr("name",a.submitButton.name).val(c(a.submitButton).val()).appendTo(a.currentForm)),!(a.settings.submitHandler&&!a.settings.debug)||(t=a.settings.submitHandler.call(a,a.currentForm,i),e&&e.remove(),void 0!==t&&t)}return a.settings.debug&&i.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,e()):a.form()?a.pendingRequest?!(a.formSubmitted=!0):e():(a.focusInvalid(),!1)})),a)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,i;return c(this[0]).is("form")?e=this.validate().form():(i=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(i=i.concat(t.errorList))}),t.errorList=i),e},rules:function(e,t){var i,a,r,n,o,s=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=s&&(!s.form&&l&&(s.form=this.closest("form")[0],s.name=this.attr("name")),null!=s.form)){if(e)switch(i=c.data(s.form,"validator").settings,a=i.rules,r=c.validator.staticRules(s),e){case"add":c.extend(r,c.validator.normalizeRule(t)),delete r.messages,a[s.name]=r,t.messages&&(i.messages[s.name]=c.extend(i.messages[s.name],t.messages));break;case"remove":return t?(o={},c.each(t.split(/\s/),function(e,t){o[t]=r[t],delete r[t]}),o):(delete a[s.name],r)}return(e=c.validator.normalizeRules(c.extend({},c.validator.classRules(s),c.validator.attributeRules(s),c.validator.dataRules(s),c.validator.staticRules(s)),s)).required&&(n=e.required,delete e.required,e=c.extend({required:n},e)),e.remote&&(n=e.remote,delete e.remote,e=c.extend(e,{remote:n})),e}}}),c.extend(c.expr.pseudos||c.expr[":"],{blank:function(e){return!c.trim(""+c(e).val())},filled:function(e){e=c(e).val();return null!==e&&!!c.trim(""+e)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(i,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(i),c.validator.format.apply(this,e)}:(void 0===e||(2<arguments.length&&e.constructor!==Array&&(e=c.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),c.each(e,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),i)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):c(e)).addClass(t).removeClass(i)},unhighlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):c(e)).removeClass(t).addClass(i)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t,i,a=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");!this.form&&a&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name")),r===this.form&&(t=c.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),(a=t.settings)[i]&&!c(this).is(a.ignore)&&a[i].call(t,this,e))}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,r=this.currentForm,a=this.groups={};c.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){a[t]=i})}),i=this.settings.rules,c.each(i,function(e,t){i[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,i,a=this.clean(e),r=this.validationTargetFor(a),n=this,o=!0;return void 0===r?delete this.invalid[a.name]:(this.prepareElement(r),this.currentElements=c(r),(i=this.groups[r.name])&&c.each(this.groups,function(e,t){t===i&&e!==r.name&&((a=n.validationTargetFor(n.clean(n.findByName(e))))&&a.name in n.invalid&&(n.currentElements.push(a),o=n.check(a)&&o))}),t=!1!==this.check(r),o=o&&t,this.invalid[r.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),o},showErrors:function(t){var i;t&&(i=this,c.extend(this.errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:i.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var i=this,a={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name"),t=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");return!e&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),t&&(this.form=c(this).closest("form")[0],this.name=e),!(this.form!==i.currentForm||e in a||!i.objectLength(c(this).rules())||(a[e]=!0,0))})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=c(e),i=e.type,a=void 0!==t.attr("contenteditable")&&"false"!==t.attr("contenteditable");return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&void 0!==e.validity?e.validity.badInput?"NaN":t.val():(t=a?t.text():t.val(),"file"===i?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(i=t.lastIndexOf("/"))?t.substr(i+1):0<=(i=t.lastIndexOf("\\"))?t.substr(i+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,a,r,n=c(t).rules(),o=c.map(n,function(e,t){return t}).length,s=!1,l=this.elementValue(t);for(i in"function"==typeof n.normalizer?r=n.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r&&(l=r.call(t,l),delete n.normalizer),n){a={method:i,parameters:n[i]};try{if("dependency-mismatch"===(e=c.validator.methods[i].call(this,l,t,a.parameters))&&1===o){s=!0;continue}if(s=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!s)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){"string"==typeof t&&(t={method:t});var i=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,t.parameters,e):a.test(i)&&(i=c.validator.format(i.replace(a,"{$1}"),t.parameters)),i},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t);this.errorList.push({message:i,element:e,method:t.method}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e,t,i=0;this.errorList[i];i++)t=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,e=this.validElements();e[i];i++)this.settings.unhighlight.call(this,e[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i,a,r,n=this.errorsFor(e),o=this.idOrName(e),s=c(e).attr("aria-describedby");n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(t)):(i=n=c("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,c(e)):i.insertAfter(e),n.is("label")?n.attr("for",o):0===n.parents("label[for='"+this.escapeCssMeta(o)+"']").length&&(o=n.attr("id"),s?s.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(s+=" "+o):s=o,c(e).attr("aria-describedby",s),(a=this.groups[e.name])&&(r=this,c.each(r.groups,function(e,t){t===a&&c("[name='"+r.escapeCssMeta(e)+"']",r.currentForm).attr("aria-describedby",n.attr("id"))})))),!t&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,e)),this.toShow=this.toShow.add(n)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),e=c(e).attr("aria-describedby"),t="label[for='"+t+"'], label[for='"+t+"'] *";return e&&(t=t+", #"+this.escapeCssMeta(e).replace(/\s+/g,", #")),this.errors().filter(t)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return t="string"==typeof t&&t||"remote",c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=c(e).attr("class");return e&&c.each(e.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,i,a){/min|max|step/.test(i)&&(null===t||/number|range|text/.test(t))&&(a=Number(a),isNaN(a)&&(a=void 0)),a||0===a?e[i]=a:t===i&&"range"!==t&&(e[i]=!0)},attributeRules:function(e){var t,i,a={},r=c(e),n=e.getAttribute("type");for(t in c.validator.methods)i="required"===t?(i=e.getAttribute(t),""===i&&(i=!0),!!i):r.attr(t),this.normalizeAttributeRule(a,n,t,i);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(e){var t,i,a={},r=c(e),n=e.getAttribute("type");for(t in c.validator.methods)i=r.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),""===i&&(i=!0),this.normalizeAttributeRule(a,n,t,i);return a},staticRules:function(e){var t={},i=c.data(e.form,"validator");return i.settings.rules&&(t=c.validator.normalizeRule(i.settings.rules[e.name])||{}),t},normalizeRules:function(a,r){return c.each(a,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!c(t.depends,r.form).length;break;case"function":i=t.depends.call(r,r)}i?a[e]=void 0===t.param||t.param:(c.data(r.form,"validator").resetElements(c(r)),delete a[e])}}else delete a[e]}),c.each(a,function(e,t){a[e]=c.isFunction(t)&&"normalizer"!==e?t(r):t}),c.each(["minlength","maxlength"],function(){a[this]&&(a[this]=Number(a[this]))}),c.each(["rangelength","range"],function(){var e;a[this]&&(c.isArray(a[this])?a[this]=[Number(a[this][0]),Number(a[this][1])]:"string"==typeof a[this]&&(e=a[this].replace(/[\[\]]/g,"").split(/[\s,]+/),a[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=a.min&&null!=a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),null!=a.minlength&&null!=a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength)),a},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},c.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,i){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==i?i:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):null!=e&&0<e.length;t=c(t).val();return t&&0<t.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:(i=!1,function(e,t){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,i){e=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=e},maxlength:function(e,t,i){e=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e<=i},rangelength:function(e,t,i){e=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||e>=i[0]&&e<=i[1]},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&e<=i[1]},step:function(e,t,i){function a(e){return(e=(""+e).match(/(?:\.(\d+))?$/))&&e[1]?e[1].length:0}function r(e){return Math.round(e*Math.pow(10,n))}var n,o=c(t).attr("type"),s="Step attribute on input type "+o+" is not supported.",l=new RegExp("\\b"+o+"\\b"),d=!0;if(o&&!l.test(["text","number","range"].join()))throw new Error(s);return n=a(i),(a(e)>n||r(e)%r(i)!=0)&&(d=!1),this.optional(t)||d},equalTo:function(e,t,i){i=c(i);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===i.val()},remote:function(a,r,e,n){if(this.optional(r))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var o,t,s=this.previousValue(r,n);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),s.originalMessage=s.originalMessage||this.settings.messages[r.name][n],this.settings.messages[r.name][n]=s.message,e="string"==typeof e?{url:e}:e,t=c.param(c.extend({data:a},e.data)),s.old===t?s.valid:(s.old=t,(o=this).startRequest(r),(t={})[r.name]=a,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+r.name,dataType:"json",data:t,context:o.currentForm,success:function(e){var t,i=!0===e||"true"===e;o.settings.messages[r.name][n]=s.originalMessage,i?(t=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(r),o.formSubmitted=t,o.successList.push(r),o.invalid[r.name]=!1,o.showErrors()):(t={},e=e||o.defaultMessage(r,{method:n,parameters:a}),t[r.name]=s.message=e,o.invalid[r.name]=!0,o.showErrors(t)),s.valid=i,o.stopRequest(r,i)}},e)),"pending")}}});var a,r={};return c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,i){var a=e.port;"abort"===e.mode&&(r[a]&&r[a].abort(),r[a]=i)}):(a=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,i=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(r[i]&&r[i].abort(),r[i]=a.apply(this,arguments),r[i]):a.apply(this,arguments)}),c}),function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate.min"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(s){return s.validator.addMethod("maxWords",function(e,t,i){return this.optional(t)||r(e).match(/\b\w+\b/g).length<=i},s.validator.format("Please enter {0} words or less.")),s.validator.addMethod("minWords",function(e,t,i){return this.optional(t)||r(e).match(/\b\w+\b/g).length>=i},s.validator.format("Please enter at least {0} words.")),s.validator.addMethod("rangeWords",function(e,t,i){var a=r(e),e=/\b\w+\b/g;return this.optional(t)||a.match(e).length>=i[0]&&a.match(e).length<=i[1]},s.validator.format("Please enter between {0} and {1} words.")),s.validator.addMethod("abaRoutingNumber",function(e){var t=0,i=e.split(""),a=i.length;if(9!==a)return!1;for(var r=0;r<a;r+=3)t+=3*parseInt(i[r],10)+7*parseInt(i[r+1],10)+parseInt(i[r+2],10);return 0!==t&&t%10==0},"Please enter a valid routing number."),s.validator.addMethod("accept",function(e,t,i){var a,r,n="string"==typeof i?i.replace(/\s/g,""):"image/*",i=this.optional(t);if(i)return i;if("file"===s(t).attr("type")&&(n=n.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),t.files&&t.files.length))for(r=new RegExp(".?("+n+")$","i"),a=0;a<t.files.length;a++)if(!t.files[a].type.match(r))return!1;return!0},s.validator.format("Please enter a value with a valid mimetype.")),s.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),s.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;for(var i=e.replace(/ /g,""),a=0,r=i.length,n=0;n<r;n++)a+=(r-n)*i.substring(n,n+1);return a%11==0},"Please specify a valid bank account number"),s.validator.addMethod("bankorgiroaccountNL",function(e,t){return this.optional(t)||s.validator.methods.bankaccountNL.call(this,e,t)||s.validator.methods.giroaccountNL.call(this,e,t)},"Please specify a valid bank or giro account number"),s.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e.toUpperCase())},"Please specify a valid BIC code"),s.validator.addMethod("cifES",function(e,t){"use strict";if(this.optional(t))return!0;var i,a,r=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),n=e.substring(0,1),o=e.substring(1,8),t=e.substring(8,9),s=0,l=0;if(9!==e.length||!r.test(e))return!1;for(i=0;i<o.length;i++)a=parseInt(o[i],10),i%2==0?l+=(a*=2)<10?a:a-9:s+=a;return r=(10-(s+l).toString().substr(-1)).toString(),r=9<parseInt(r,10)?"0":r,e="JABCDEFGHI".substr(r,1).toString(),n.match(/[ABEH]/)?t===r:!n.match(/[KPQS]/)&&t===r||t===e},"Please specify a valid CIF number."),s.validator.addMethod("cnhBR",function(e){if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var t,i,a,r=0,n=0,o=e.charAt(0);if(new Array(12).join(o)===e)return!1;for(a=9,i=0;i<9;++i,--a)r+=+e.charAt(i)*a;for(10<=(t=r%11)&&(t=0,n=2),i=r=0,a=1;i<9;++i,++a)r+=+e.charAt(i)*a;return 10<=(o=r%11)?o=0:o-=n,String(t).concat(o)===e.substr(-2)},"Please specify a valid CNH number"),s.validator.addMethod("cnpjBR",function(e,t){"use strict";if(this.optional(t))return!0;if(14!==(e=e.replace(/[^\d]+/g,"")).length)return!1;if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var i=e.length-2,a=e.substring(0,i),r=e.substring(i),n=0,o=i-7,s=i;1<=s;s--)n+=a.charAt(i-s)*o--,o<2&&(o=9);t=n%11<2?0:11-n%11;if(t!==parseInt(r.charAt(0),10))return!1;i+=1,a=e.substring(0,i),n=0,o=i-7;for(var l=i;1<=l;l--)n+=a.charAt(i-l)*o--,o<2&&(o=9);return(t=n%11<2?0:11-n%11)===parseInt(r.charAt(1),10)},"Please specify a CNPJ value number"),s.validator.addMethod("cpfBR",function(e,t){"use strict";if(this.optional(t))return!0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var i,a=0,r=parseInt(e.substring(9,10),10),n=parseInt(e.substring(10,11),10),t=function(e,t){e=10*e%11;return 10!==e&&11!==e||(e=0),e===t};if(""===e||"00000000000"===e||"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e)return!1;for(i=1;i<=9;i++)a+=parseInt(e.substring(i-1,i),10)*(11-i);if(t(a,r)){for(a=0,i=1;i<=10;i++)a+=parseInt(e.substring(i-1,i),10)*(12-i);return t(a,n)}return!1},"Please specify a valid CPF number"),s.validator.addMethod("creditcard",function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i,a,r=0,n=0,o=!1;if((e=e.replace(/\D/g,"")).length<13||19<e.length)return!1;for(i=e.length-1;0<=i;i--)a=e.charAt(i),n=parseInt(a,10),o&&9<(n*=2)&&(n-=9),r+=n,o=!o;return r%10==0},"Please enter a valid credit card number."),s.validator.addMethod("creditcardtypes",function(e,t,i){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var a=0;return i.mastercard&&(a|=1),i.visa&&(a|=2),i.amex&&(a|=4),i.dinersclub&&(a|=8),i.enroute&&(a|=16),i.discover&&(a|=32),i.jcb&&(a|=64),i.unknown&&(a|=128),i.all&&(a=255),1&a&&(/^(5[12345])/.test(e)||/^(2[234567])/.test(e))||2&a&&/^(4)/.test(e)?16===e.length:4&a&&/^(3[47])/.test(e)?15===e.length:8&a&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&a&&/^(2(014|149))/.test(e)?15===e.length:32&a&&/^(6011)/.test(e)||64&a&&/^(3)/.test(e)?16===e.length:64&a&&/^(2131|1800)/.test(e)?15===e.length:!!(128&a)},"Please enter a valid credit card number."),s.validator.addMethod("currency",function(e,t,i){var a="string"==typeof i,r=a?i:i[0],i=!!a||i[1],r=r.replace(/,/g,""),r="^["+(r=i?r+"]":r+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";return r=new RegExp(r),this.optional(t)||r.test(e)},"Please specify a valid currency"),s.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},s.validator.messages.date),s.validator.addMethod("dateITA",function(e,t){var i,a,r,n=!1,n=!!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e)&&(r=e.split("/"),i=parseInt(r[0],10),a=parseInt(r[1],10),e=parseInt(r[2],10),(r=new Date(Date.UTC(e,a-1,i,12,0,0,0))).getUTCFullYear()===e&&r.getUTCMonth()===a-1&&r.getUTCDate()===i);return this.optional(t)||n},s.validator.messages.date),s.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},s.validator.messages.date),s.validator.addMethod("extension",function(e,t,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+i+")$","i"))},s.validator.format("Please enter a value with a valid extension.")),s.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),s.validator.addMethod("greaterThan",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-greaterThan-blur").length&&i.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan",function(){s(t).valid()}),e>i.val()},"Please enter a greater value."),s.validator.addMethod("greaterThanEqual",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-greaterThanEqual-blur").length&&i.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual",function(){s(t).valid()}),e>=i.val()},"Please enter a greater value."),s.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var i,a,r,n,t=e.replace(/ /g,"").toUpperCase(),o="",s=!0,l="";if(t.length<5)return!1;if(void 0!==(e={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[t.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+e+"$","").test(t))return!1;for(i=t.substring(4,t.length)+t.substring(0,4),r=0;r<i.length;r++)"0"!==(a=i.charAt(r))&&(s=!1),s||(o+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(a));for(n=0;n<o.length;n++)l=(""+l+o.charAt(n))%97;return 1===l},"Please specify a valid IBAN"),s.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),s.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),s.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),s.validator.addMethod("lessThan",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-lessThan-blur").length&&i.addClass("validate-lessThan-blur").on("blur.validate-lessThan",function(){s(t).valid()}),e<i.val()},"Please enter a lesser value."),s.validator.addMethod("lessThanEqual",function(e,t,i){i=s(i);return this.settings.onfocusout&&i.not(".validate-lessThanEqual-blur").length&&i.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual",function(){s(t).valid()}),e<=i.val()},"Please enter a lesser value."),s.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),s.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),s.validator.addMethod("maxfiles",function(e,t,i){return!!this.optional(t)||!("file"===s(t).attr("type")&&t.files&&t.files.length>i)},s.validator.format("Please select no more than {0} files.")),s.validator.addMethod("maxsize",function(e,t,i){if(this.optional(t))return!0;if("file"===s(t).attr("type")&&t.files&&t.files.length)for(var a=0;a<t.files.length;a++)if(t.files[a].size>i)return!1;return!0},s.validator.format("File size must not exceed {0} bytes each.")),s.validator.addMethod("maxsizetotal",function(e,t,i){if(this.optional(t))return!0;if("file"===s(t).attr("type")&&t.files&&t.files.length)for(var a=0,r=0;r<t.files.length;r++)if(i<(a+=t.files[r].size))return!1;return!0},s.validator.format("Total size of all files must not exceed {0} bytes.")),s.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),s.validator.addMethod("mobileRU",function(e,t){e=e.replace(/\(|\)|\s+|-/g,"");return this.optional(t)||9<e.length&&/^((\+7|7|8)+([0-9]){10})$/.test(e)},"Please specify a valid mobile number"),s.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),s.validator.addMethod("netmask",function(e,t){return this.optional(t)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(e)},"Please enter a valid netmask."),s.validator.addMethod("nieES",function(e,t){"use strict";if(this.optional(t))return!0;var i=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),t=e.substr(e.length-1).toUpperCase();return!(10<(e=e.toString().toUpperCase()).length||e.length<9||!i.test(e))&&(e=9===(e=e.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?e.substr(0,8):e.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(e,10)%23)===t)},"Please specify a valid NIE number."),s.validator.addMethod("nifES",function(e,t){"use strict";return!!this.optional(t)||!!(e=e.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):!!/^[KLM]{1}/.test(e)&&e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,1)%23))},"Please specify a valid NIF number."),s.validator.addMethod("nipPL",function(e){"use strict";if(10!==(e=e.replace(/[^0-9]/g,"")).length)return!1;for(var t=[6,5,7,2,3,4,5,6,7],i=0,a=0;a<9;a++)i+=t[a]*e[a];var r=i%11;return(10==r?0:r)===parseInt(e[9],10)},"Please specify a valid NIP number."),s.validator.addMethod("nisBR",function(e){var t,i,a,r,n=0;if(11!==(e=e.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;for(i=parseInt(e.substring(10,11),10),t=parseInt(e.substring(0,10),10),a=2;a<12;a++)r=10===a?2:a,11===a&&(r=3),n+=t%10*r,t=parseInt(t/10,10);return i===(i=1<(i=n%11)?11-i:0)},"Please specify a valid NIS/PIS number"),s.validator.addMethod("notEqualTo",function(e,t,i){return this.optional(t)||!s.validator.methods.equalTo.call(this,e,t,i)},"Please enter a different value, values must not be the same."),s.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),s.validator.addMethod("pattern",function(e,t,i){return!!this.optional(t)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(e))},"Invalid format."),s.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),s.validator.addMethod("phonePL",function(e,t){e=e.replace(/\s+/g,"");return this.optional(t)||/^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(e)},"Please specify a valid phone number"),s.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),s.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||9<e.length&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),s.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||9<e.length&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number"),s.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP válido."),s.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(e)},"Please specify a valid postal code"),s.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),s.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),s.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),s.validator.addMethod("require_from_group",function(e,t,i){var a=s(i[1],t.form),r=a.eq(0),n=r.data("valid_req_grp")?r.data("valid_req_grp"):s.extend({},this),i=a.filter(function(){return n.elementValue(this)}).length>=i[0];return r.data("valid_req_grp",n),s(t).data("being_validated")||(a.data("being_validated",!0),a.each(function(){n.element(this)}),a.data("being_validated",!1)),i},s.validator.format("Please fill at least {0} of these fields.")),s.validator.addMethod("skip_or_fill_minimum",function(e,t,i){var a=s(i[1],t.form),r=a.eq(0),n=r.data("valid_skip")?r.data("valid_skip"):s.extend({},this),o=a.filter(function(){return n.elementValue(this)}).length,i=0===o||o>=i[0];return r.data("valid_skip",n),s(t).data("being_validated")||(a.data("being_validated",!0),a.each(function(){n.element(this)}),a.data("being_validated",!1)),i},s.validator.format("Please either skip these fields or fill at least {0} of them.")),s.validator.addMethod("stateUS",function(e,t,i){var a=void 0===i,r=!a&&void 0!==i.caseSensitive&&i.caseSensitive,n=!a&&void 0!==i.includeTerritories&&i.includeTerritories,i=!a&&void 0!==i.includeMilitary&&i.includeMilitary,n=n||i?n&&i?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":n?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$";return n=r?new RegExp(n):new RegExp(n,"i"),this.optional(t)||n.test(e)},"Please specify a valid state"),s.validator.addMethod("strippedminlength",function(e,t,i){return s(e).text().length>=i},s.validator.format("Please enter at least {0} characters")),s.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),s.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),s.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},s.validator.messages.url),s.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;for(var t,i,a,r,n,o=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],s=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],l=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],d=0,c=0;c<17;c++){if(a=l[c],i=e.slice(c,c+1),8===c&&(n=i),isNaN(i)){for(t=0;t<o.length;t++)if(i.toUpperCase()===o[t]){i=s[t],i*=a,isNaN(n)&&8===t&&(n=o[t]);break}}else i*=a;d+=i}return 10===(r=d%11)&&(r="X"),r===n},"The specified vehicle identification number (VIN) is invalid."),s.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),s.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),s;function r(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}}),function(){var s={},e=function(e,t,i){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===i)throw"no definition function for "+e;s[e]={deps:t,defn:i,instance:void 0}},l=function(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=s[e],i=t.deps,a=t.defn,r=i.length,n=new Array(r),o=0;o<r;++o)n[o]=l(i[o]);a=a.apply(null,n);if(void 0===a)throw"module ["+e+"] returned undefined";t.instance=a}(e),t.instance},i=e;(e=function(e,t){i(e,[],function(){return t})})("1",document),e("2",window),i("0",["1","2"],function(g,v){return function(e){function u(){return p.tinymce}var h,l,d,c=[],p=e||v,f=p.jQuery;f.fn.tinymce=function(o){var e,t,a,s=this,r="";if(!s.length)return s;if(!o)return u()?u().get(s[0].id):null;s.css("visibility","hidden");function i(){var r=[],n=0;d||(m(),d=!0),s.each(function(e,t){var i=t.id,a=o.oninit;i||(t.id=i=u().DOM.uniqueId()),u().get(i)||(i=u().createEditor(i,o),r.push(i),i.on("init",function(){var e,t=a;s.css("visibility",""),a&&++n==r.length&&("string"==typeof t&&(e=-1===t.indexOf(".")?null:u().resolve(t.replace(/\.\w+$/,"")),t=u().resolve(t)),t.apply(e||u(),r))}))}),f.each(r,function(e,t){t.render()})}var n;return p.tinymce||l||!(e=o.script_url)?1===l?c.push(i):i():(l=1,t=e.substring(0,e.lastIndexOf("/")),-1!=e.indexOf(".min")&&(r=".min"),p.tinymce=p.tinyMCEPreInit||{base:t,suffix:r},-1!=e.indexOf("gzip")&&(a=o.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(r)+"&themes="+escape(o.theme||"modern")+"&plugins="+escape(o.plugins||"")+"&languages="+(a||""),p.tinyMCE_GZ||(p.tinyMCE_GZ={start:function(){function i(e){u().ScriptLoader.markDone(u().baseURI.toAbsolute(e))}i("langs/"+a+".js"),i("themes/"+o.theme+"/theme"+r+".js"),i("themes/"+o.theme+"/langs/"+a+".js"),f.each(o.plugins.split(","),function(e,t){t&&(i("plugins/"+t+"/plugin"+r+".js"),i("plugins/"+t+"/langs/"+a+".js"))})},end:function(){}})),(n=g.createElement("script")).type="text/javascript",n.onload=n.onreadystatechange=function(e){e=e||v.event,2===l||"load"!=e.type&&!/complete|loaded/.test(n.readyState)||(u().dom.Event.domLoaded=1,l=2,o.script_loaded&&o.script_loaded(),i(),f.each(c,function(e,t){t()}))},n.src=e,g.body.appendChild(n)),s},f.extend(f.expr[":"],{tinymce:function(e){return!!(e.id&&"tinymce"in p&&((e=u().get(e.id))&&e.editorManager===u()))}});var m=function(){function a(e){"remove"===e&&this.each(function(e,t){t=d(t);t&&t.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){t=u().get(t.id.replace(/_parent$/,""));t&&t.remove()})}function s(i){var e;if(null!=i)a.call(this),this.each(function(e,t){(t=u().get(t.id))&&t.setContent(i)});else if(0<this.length&&(e=u().get(this[0].id)))return e.getContent()}function l(e){return!!(e&&e.length&&p.tinymce&&e.is(":tinymce"))}var d=function(e){var t=null;return e&&e.id&&p.tinymce&&(t=u().get(e.id)),t},c={};f.each(["text","html","val"],function(e,t){var n=c[t]=f.fn[t],o="text"===t;f.fn[t]=function(e){var t=this;if(!l(t))return n.apply(t,arguments);if(e!==h)return s.call(t.filter(":tinymce"),e),n.apply(t.not(":tinymce"),arguments),t;var a="",r=arguments;return(o?t:t.eq(0)).each(function(e,t){var i=d(t);a+=i?o?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):n.apply(f(t),r)}),a}}),f.each(["append","prepend"],function(e,t){var a=c[t]=f.fn[t],r="prepend"===t;f.fn[t]=function(i){var e=this;return l(e)?i!==h?("string"==typeof i&&e.filter(":tinymce").each(function(e,t){t=d(t);t&&t.setContent(r?i+t.getContent():t.getContent()+i)}),a.apply(e.not(":tinymce"),arguments),e):void 0:a.apply(e,arguments)}}),f.each(["remove","replaceWith","replaceAll","empty"],function(e,t){var i=c[t]=f.fn[t];f.fn[t]=function(){return a.call(this,t),i.apply(this,arguments)}}),c.attr=f.fn.attr,f.fn.attr=function(e,t){var i=this,a=arguments;if(!e||"value"!==e||!l(i))return c.attr.apply(i,a);if(t!==h)return s.call(i.filter(":tinymce"),t),c.attr.apply(i.not(":tinymce"),a),i;var r=i[0],i=d(r);return i?i.getContent({save:!0}):c.attr.apply(f(r),a)}}}}),l("0")()}();var $jscomp=$jscomp||{},signaturePad;function parseFloatWithRemoveSepChar(e,t,i){return"string"==typeof e&&("string"==typeof t&&(e=e.replaceAll(t,"")),"string"==typeof i&&"."!==i&&(e=e.replaceAll(i,"."))),parseFloat(e)}function clearValidity(e){e=jQuery(e).closest(".elementor-field-subgroup");$firstOption=e.find(".elementor-field-option input"),$firstOption.each(function(){jQuery(this)[0].setCustomValidity("")})}$jscomp.scope={},$jscomp.findInternal=function(e,t,i){e instanceof String&&(e=String(e));for(var a=e.length,r=0;r<a;r++){var n=e[r];if(t.call(i,n,r,e))return{i:r,v:n}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},$jscomp.getGlobal=function(e){return("undefined"==typeof window||window!==e)&&"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,i,a){if(t){for(i=$jscomp.global,e=e.split("."),a=0;a<e.length-1;a++){var r=e[a];r in i||(i[r]={}),i=i[r]}(t=t(a=i[e=e[e.length-1]]))!=a&&null!=t&&$jscomp.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=e(require("jquery")):e(t||i)}(function(o){function s(d,_,b){var y={invalid:[],getCaret:function(){try{var e=0,t=d.get(0),i=document.selection,t=t.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((i=i.createRange()).moveStart("character",-y.val().length),e=i.text.length):!t&&"0"!==t||(e=t),e}catch(e){}},setCaret:function(e){try{var t;d.is(":focus")&&((t=d.get(0)).setSelectionRange?t.setSelectionRange(e,e):((t=t.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()))}catch(e){}},events:function(){d.on("keydown.mask",function(e){d.data("mask-keycode",e.keyCode||e.which),d.data("mask-previus-value",d.val()),d.data("mask-previus-caret-pos",y.getCaret()),y.maskDigitPosMapOld=y.maskDigitPosMap}).on(o.jMaskGlobals.useInput?"input.mask":"keyup.mask",y.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){d.keydown().keyup()},100)}).on("change.mask",function(){d.data("changed",!0)}).on("blur.mask",function(){n===y.val()||d.data("changed")||d.trigger("change"),d.data("changed",!1)}).on("blur.mask",function(){n=y.val()}).on("focus.mask",function(e){!0===b.selectOnFocus&&o(e.target).select()}).on("focusout.mask",function(){b.clearIfNotMatch&&!a.test(y.val())&&y.val("")})},getRegexMask:function(){for(var e,t,i,a,r=[],n=0;n<_.length;n++)(e=w.translation[_.charAt(n)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(e=e.recursive)?(r.push(_.charAt(n)),a={digit:_.charAt(n),pattern:t}):r.push(i||e?t+"?":t)):r.push(_.charAt(n).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),a&&(r=r.replace(new RegExp("("+a.digit+"(.*"+a.digit+")?)"),"($1)?").replace(new RegExp(a.digit,"g"),a.pattern)),new RegExp(r)},destroyEvents:function(){d.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var t=d.is("input")?"val":"text";return t=0<arguments.length?(d[t]()!==e&&d[t](e),d):d[t]()},calculateCaretPosition:function(e){var t=y.getMasked(),i=y.getCaret();if(e!==t){for(var a=d.data("mask-previus-caret-pos")||0,t=t.length,r=e.length,n=e=0,o=0,s=0,l=i;l<t&&y.maskDigitPosMap[l];l++)n++;for(l=i-1;0<=l&&y.maskDigitPosMap[l];l--)e++;for(l=i-1;0<=l;l--)y.maskDigitPosMap[l]&&o++;for(l=a-1;0<=l;l--)y.maskDigitPosMapOld[l]&&s++;r<i?i=10*t:i<=a&&a!==r?y.maskDigitPosMapOld[i]||(i=(a=i)-(s-o)-e,y.maskDigitPosMap[i]&&(i=a)):a<i&&(i=i+(o-s)+n)}return i},behaviour:function(e){e=e||window.event,y.invalid=[];var t=d.data("mask-keycode");if(-1===o.inArray(t,w.byPassKeys)){t=y.getMasked();var i=y.getCaret(),a=d.data("mask-previus-value")||"";return setTimeout(function(){y.setCaret(y.calculateCaretPosition(a))},o.jMaskGlobals.keyStrokeCompensation),y.val(t),y.setCaret(i),y.callbacks(e)}},getMasked:function(e,t){var i,a,r,n=[],o=void 0===t?y.val():t+"",s=0,l=_.length,d=0,c=o.length,u=1,h="push",p=-1,f=0;for(t=[],r=b.reverse?(h="unshift",u=-1,a=0,s=l-1,d=c-1,function(){return-1<s&&-1<d}):(a=l-1,function(){return s<l&&d<c});r();){var m=_.charAt(s),g=o.charAt(d),v=w.translation[m];v?(g.match(v.pattern)?(n[h](g),v.recursive&&(-1===p?p=s:s===a&&s!==p&&(s=p-u),a===p&&(s-=u)),s+=u):g===i?(f--,i=void 0):v.optional?(s+=u,d-=u):v.fallback?(n[h](v.fallback),s+=u,d-=u):y.invalid.push({p:d,v:g,e:v.pattern}),d+=u):(e||n[h](m),g===m?(t.push(d),d+=u):(i=m,t.push(d+f),f++),s+=u)}return e=_.charAt(a),l!==c+1||w.translation[e]||n.push(e),n=n.join(""),y.mapMaskdigitPositions(n,t,c),n},mapMaskdigitPositions:function(e,t,i){for(e=b.reverse?e.length-i:0,y.maskDigitPosMap={},i=0;i<t.length;i++)y.maskDigitPosMap[t[i]+e]=1},callbacks:function(e){function t(e,t,i){"function"==typeof b[e]&&t&&b[e].apply(this,i)}var i=y.val(),a=i!==n,r=[i,e,d,b];t("onChange",!0==a,r),t("onKeyPress",!0==a,r),t("onComplete",i.length===_.length,r),t("onInvalid",0<y.invalid.length,[i,e,d,y.invalid,b])}};d=o(d);var a,w=this,n=y.val();_="function"==typeof _?_(y.val(),void 0,d,b):_,w.mask=_,w.options=b,w.remove=function(){var e=y.getCaret();return w.options.placeholder&&d.removeAttr("placeholder"),d.data("mask-maxlength")&&d.removeAttr("maxlength"),y.destroyEvents(),y.val(w.getCleanVal()),y.setCaret(e),d},w.getCleanVal=function(){return y.getMasked(!0)},w.getMaskedVal=function(e){return y.getMasked(!1,e)},w.init=function(e){if(e=e||!1,b=b||{},w.clearIfNotMatch=o.jMaskGlobals.clearIfNotMatch,w.byPassKeys=o.jMaskGlobals.byPassKeys,w.translation=o.extend({},o.jMaskGlobals.translation,b.translation),w=o.extend(!0,{},w,b),a=y.getRegexMask(),e)y.events(),y.val(y.getMasked());else{b.placeholder&&d.attr("placeholder",b.placeholder),d.data("mask")&&d.attr("autocomplete","off");for(var t=!(e=0);e<_.length;e++){var i=w.translation[_.charAt(e)];if(i&&i.recursive){t=!1;break}}t&&d.attr("maxlength",_.length).data("mask-maxlength",!0),y.destroyEvents(),y.events(),e=y.getCaret(),y.val(y.getMasked()),y.setCaret(e)}},w.init(!d.is("input"))}o.maskWatchers={};function t(){var e=o(this),t={},i=e.attr("data-mask");if(e.attr("data-mask-reverse")&&(t.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(t.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(t.selectOnFocus=!0),l(e,i,t))return e.data("mask",new s(this,i,t))}var l=function(e,t,i){i=i||{};var a=o(e).data("mask"),r=JSON.stringify;e=o(e).val()||o(e).text();try{return"function"==typeof t&&(t=t(e)),"object"!=typeof a||r(a.options)!==r(i)||a.mask!==t}catch(e){}},e=function(e){var t=document.createElement("div"),i=(e="on"+e)in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),i};o.fn.mask=function(e,t){t=t||{};function i(){if(l(this,e,t))return o(this).data("mask",new s(this,e,t))}var a=this.selector,r=(n=o.jMaskGlobals).watchInterval,n=t.watchInputs||n.watchInputs;return o(this).each(i),a&&""!==a&&n&&(clearInterval(o.maskWatchers[a]),o.maskWatchers[a]=setInterval(function(){o(document).find(a).each(i)},r)),this},o.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},o.fn.unmask=function(){return clearInterval(o.maskWatchers[this.selector]),delete o.maskWatchers[this.selector],this.each(function(){var e=o(this).data("mask");e&&e.remove().removeData("mask")})},o.fn.cleanVal=function(){return this.data("mask").getCleanVal()},o.applyDataMask=function(e){((e=e||o.jMaskGlobals.maskElements)instanceof o?e:o(e)).filter(o.jMaskGlobals.dataMaskAttr).each(t)},e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&e("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},o.jMaskGlobals=o.jMaskGlobals||{},(e=o.jMaskGlobals=o.extend(!0,{},e,o.jMaskGlobals)).dataMask&&o.applyDataMask(),setInterval(function(){o.jMaskGlobals.watchDataMask&&o.applyDataMask()},e.watchInterval)},window.jQuery,window.Zepto),function(d){function c(e,t,i){"mousedown"==e?(t.timeout=setTimeout(function(){t.actualInterval=setInterval(function(){i()},100)},200),i()):(t.timeout&&clearTimeout(t.timeout),t.actualInterval&&clearInterval(t.actualInterval))}d.fn.niceNumber=function(e){var l=d.extend({autoSize:!0,autoSizeBuffer:1,buttonDecrement:"-",buttonIncrement:"+",buttonPosition:"around"},e);return this.each(function(){var t=this,i=d(t),a=null,r=null;void 0!==i.attr("max")&&!1!==i.attr("max")&&(a=parseFloat(i.attr("max"))),void 0!==i.attr("min")&&!1!==i.attr("min")&&(r=parseFloat(i.attr("min"))),r&&!t.value&&i.val(r);var e=d("<div/>",{class:"nice-number"}).insertAfter(t),n={},o=d("<button/>").attr("type","button").html(l.buttonDecrement).on("mousedown mouseup mouseleave",function(e){c(e.type,n,function(){(null==r||r<parseFloat(t.value))&&t.value--}),"mouseup"!=e.type&&"mouseleave"!=e.type||i.trigger("input"),i.change()}),s=d("<button/>").attr("type","button").html(l.buttonIncrement).on("mousedown mouseup mouseleave",function(e){c(e.type,n,function(){(null==a||a>parseFloat(t.value))&&t.value++}),"mouseup"!=e.type&&"mouseleave"!=e.type||i.trigger("input"),i.change()});switch(l.buttonPosition){case"left":o.appendTo(e),s.appendTo(e),i.appendTo(e);break;case"right":i.appendTo(e),o.appendTo(e),s.appendTo(e);break;case"around":default:o.appendTo(e),i.appendTo(e),s.appendTo(e)}l.autoSize&&(i.width(i.val().length+l.autoSizeBuffer+"ch"),i.on("keyup input",function(){i.animate({width:i.val().length+l.autoSizeBuffer+"ch"},200)}))})}}(jQuery),function($){var WidgetPafeFormBuilderHandlerDate=function($scope,$){var $elements=$scope.find(".elementor-date-field"),addDatePicker;$elements.length&&(addDatePicker=function addDatePicker($element){var minDate,maxDate,options,options;$($element).hasClass("elementor-use-native")||$($element).hasClass("flatpickr-custom-options")||(minDate=$($element).attr("min")?flatpickr.parseDate($($element).attr("min"),"Y-m-d"):null,maxDate=$($element).attr("max")?flatpickr.parseDate($($element).attr("max"),"Y-m-d"):null,options={minDate:minDate,maxDate:maxDate,dateFormat:$($element).attr("data-date-format")||null,defaultDate:$($element).attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onReady:function(e){e=parseInt(e[0]/864e5,10);$($element).attr("data-pafe-form-builder-date-calculate",e)},onClose:function(e){e=parseInt(e[0]/864e5,10);$($element).attr("data-pafe-form-builder-date-calculate",e)}},null!=$($element).data("pafe-form-builder-date-range")&&(options={minDate:minDate,maxDate:maxDate,dateFormat:$($element).attr("data-date-format")||null,defaultDate:$($element).attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onClose:function(date){var startDay=flatpickr.formatDate(date[0],"m/d/Y"),endDay=flatpickr.formatDate(date[1],"m/d/Y"),newStartDate=new Date(startDay).getTime(),newEndDate=new Date(endDay).getTime(),newStartDate=eval(newStartDate/1e3+3600),newEndDate=eval(newEndDate/1e3+3600),countDays=eval(newEndDate-newStartDate),countDays=eval(countDays/86400+1);$($element).attr("data-pafe-form-builder-date-range-days",countDays)},mode:"range"}),"english"!=$($element).data("pafe-form-builder-date-language")&&(options.locale=$($element).attr("data-pafe-form-builder-date-language")),$element.flatpickr(options))},$.each($elements,function(e,t){addDatePicker(t)}))},WidgetPafeFormBuilderHandlerTime=function(e,a){var e=e.find(".elementor-time-field"),r=e.attr("data-time-minute-increment");e.length&&a.each(e,function(e,t){var i;a(i=t).hasClass("elementor-use-native")||(t=!1,null!=a(i).attr("data-pafe-form-builder-time-24hr")&&(t=!0),i.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,minuteIncrement:r,time_24hr:t,dateFormat:a(i).attr("data-time-format")||null,defaultDate:a(i).attr("data-pafe-form-builder-value")||null}))})},WidgetPafeFormBuilderHandlerImageSelect=function(e,s){e=e.find("[data-pafe-form-builder-image-select]");e.length&&s.each(e,function(e,a){var r=s(a).data("pafe-form-builder-image-select"),n=s(a).find("option"),o={show_label:!0};null!=s(a).attr("data-pafe-form-builder-image-select-limit-multiple")&&(o.limit=s(a).attr("data-pafe-form-builder-image-select-limit-multiple")),s(a).closest(".elementor-field").addClass("pafe-image-select-field"),s(a).closest(".pafe-image-select-field").find(".image_picker_selector").remove(),n.eq(0).attr("value").trim(),n.each(function(e,t){var i;""==n.eq(0).attr("value").trim()&&0!=e&&(i=r[e-1].url,s(this).html(),s(this).attr("data-img-src",i),s(a).imagepicker(o)),""!=n.eq(0).attr("value").trim()&&null!=r[e]&&(i=r[e].url,s(this).html(),s(this).attr("data-img-src",i),s(a).imagepicker(o)),s(a).closest(".pafe-image-select-field").find(".thumbnail.selected").closest("li").addClass("disabled")})})},WidgetPafeFormBuilderHandlerStripe=function(e,k){e=e.find("[data-pafe-form-builder-stripe]");e.length&&k.each(e,function(e,t){var i=k("[data-pafe-stripe]").data("pafe-stripe");if(void 0!==i){var s=Stripe(i),a=k(this).attr("data-pafe-form-builder-stripe-font-family"),i=s.elements({fonts:[{cssSrc:a}]}),a=k(this).attr("data-pafe-form-stripe-custom-style");if(a)var r=JSON.parse(a);else{let e=k(this).attr("data-pafe-form-builder-stripe-style");e=JSON.parse(e);r={base:{backgroundColor:e.backgroundColor,color:e.color,fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:e.fontSize,"::placeholder":{color:e.placeholderColor}},invalid:{color:"#fa755a",iconColor:"#fa755a"}};e.iconColor&&(r.base.iconColor=e.iconColor)}var l=i.create("card",{style:r});l.mount(t);k(t).data("pafe-form-builder-form-id")}k(document).on("click","[data-pafe-form-builder-submit-form-id][data-pafe-form-builder-stripe-submit]",function(){var v,e,_,b,y,w,$,n,o;null!=k(this).data("pafe-form-builder-stripe-submit")&&(v=k(this).data("pafe-form-builder-submit-form-id"),e=k(document).find("[data-pafe-form-builder-form-id="+v+"]"),_=k(this).data("pafe-form-builder-required-text"),b=[],y=0,w=new FormData,$=!1,n=k(this),o=n.closest(".elementor-element"),e.each(function(){if(null==k(this).data("pafe-form-builder-stripe")&&null==k(this).data("pafe-form-builder-html")){var e=k(this).closest(".elementor-field-type-checkbox.elementor-field-required"),t=0;0<e.length&&(t=e.find("input[type=checkbox]:checked").length),null!=k(this).attr("oninvalid")&&(_=k(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),null!=k(this).attr("data-pafe-is-repassword")&&""!=k(this).attr("data-pafe-is-repassword")&&(a=k('[name="form_fields['+k(this).attr("data-pafe-is-repassword")+']"]').val(),r=k(this).attr("data-pafe-repassword-msg"),String(a)!==String(k(this).val())?(this.setCustomValidity(r),y++,k(this).on("keyup",function(){this.setCustomValidity("")})):this.setCustomValidity("")),void 0!==k(this).attr("data-pafe-confirm-field")&&!1!==k(this).attr("data-pafe-confirm-field")&&(s=k('[name="form_fields['+k(this).attr("data-pafe-confirm-field")+']"]').val(),d=k(this).attr("data-pafe-confirm-msg"),String(s)!==String(k(this).val())?(this.setCustomValidity(d),y++,k(this).on("keyup",function(){this.setCustomValidity("")})):this.setCustomValidity(""));var a=k(this)[0].checkValidity(),r=k(k(this)[0]).next()[0];if(k(r).hasClass("flatpickr-mobile")&&(a=r.checkValidity()),!a&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=k(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&0==k(this).closest("[data-pafe-signature]").length||0==t&&0<e.length&&"none"!=k(this).closest(".elementor-element").css("display"))"none"==k(this).css("display")||null!=k(this).data("pafe-form-builder-image-select")||null!=k(this).data("pafe-form-builder-select-autocomplete")||0<e.length?k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(_):$||null!=k(this).data("pafe-form-builder-image-select")||(k(this)[0].reportValidity(),$=!0),y++;else if(""==k(this).val()&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"true"==k(this).attr("aria-required")&&void 0!==k(this).attr("data-pafe-form-builder-select-autocomplete"))k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(_),y++;else{null!=k(this).data("pafe-form-builder-image-select")&&(k(this).closest(".pafe-image-select-field").find(".image_picker_selector").find(".selected").length<k(this).data("pafe-form-builder-image-select-min-select")?(k(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").html(k(this).data("pafe-form-builder-image-select-min-select-message")),y++):k(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").remove()),k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),null!=k(this).data("pafe-flatpickr-custom-options")&&""==k(this).val()&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=k(this).attr("required")&&(k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(_),y++),0<k(this).closest("[data-pafe-signature]").length&&(k(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==k(this).val()&&0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"required"==k(this).attr("required")&&(k(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(_),y++));var i,n=k(this).attr("type"),o=k(this).attr("name"),s=k(this).closest("[data-pafe-form-builder-repeater-form-id]"),l="",d="",r="",a=-1,t=0;if(0<s.length&&($repeaterParents=k(this).parents("[data-pafe-form-builder-repeater-form-id]"),d=s.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var e=k(this).data("pafe-form-builder-repeater-id"),t=k(document).find('[data-pafe-form-builder-repeater-form-id="'+v+'"][data-pafe-form-builder-repeater-id="'+e+'"]');repeaterParentIndex=k(this).index()-t.index(),l+=e+"|index"+repeaterParentIndex+"|"+o.replace("[]","").replace("form_fields[","").replace("]","")+","}),r=s.data("pafe-form-builder-repeater-label"),e=k(document).find('[data-pafe-form-builder-repeater-id="'+s.data("pafe-form-builder-repeater-id")+'"]'),t=s.siblings('[data-pafe-form-builder-repeater-id="'+s.data("pafe-form-builder-repeater-id")+'"]').length+1,a=s.index()-e.index()),"file"==n)if(k(this).hasClass("error"))y++;else{let i=[];var c,o=k(this).attr("id").replace("form-field-","");k.each(k(this)[0].files,function(e,t){i.push(t.name),w.append(o+"[]",t)}),(c={}).label=k(this).closest(".elementor-field-group").find(".elementor-field-label").html(),c.name=o,c.value="",c.type=k(this).attr("type"),c.upload=1,c.file_name=i,c.repeater_id=l,c.repeater_id_one=d,c.repeater_label=r,c.repeater_index=a,c.repeater_length=t,null!=k(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(c.repeater_remove_this_field="1"),null!=k(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(c.repeater_remove_this_field="1"),null!=k(this).data("attach-files")&&(c["attach-files"]=1),b.push(c)}else{if(-1!==o.indexOf("[]")){var u=[];"checkbox"==n?k(this).closest(".elementor-element").find('[name="'+o+'"]:checked').each(function(){u.push(k(this).val())}):null==(u=k(this).val())&&(u=[]);for(var h,p,f=i="",m=[],g=0;g<u.length;g++)null!=k(this).data("pafe-form-builder-send-data-by-label")&&(h=u[g],"checkbox"==n?0<(p=k(this).closest(".elementor-element").find('[value="'+h+'"]')).length&&(f+=p.data("pafe-form-builder-send-data-by-label")+","):0<(p=k(this).find('[value="'+h+'"]')).length&&(f+=p.html()+",")),i+=u[g]+",",null!=k(this).attr("data-pafe-form-booking-item-options")&&(h=u[g],0<(p=k(this).closest(".elementor-element").find('[value="'+h+'"]')).length&&m.push(p.attr("data-pafe-form-booking-item-options")));i=i.replace(/,(\s+)?$/,"")}else"radio"==n||"checkbox"==n?(null!=k(this).data("pafe-form-builder-send-data-by-label")&&(f=k(this).closest(".elementor-element").find('[name="'+o+'"]:checked').data("pafe-form-builder-send-data-by-label")),i=(i=k(this).closest(".elementor-element").find('[name="'+o+'"]:checked').val())||""):null!=k(this).data("pafe-form-builder-calculated-fields")?i=k(this).siblings(".pafe-calculated-fields-form").text():(null!=k(this).data("pafe-form-builder-send-data-by-label")&&(null!==k(this).val()&&(h=k(this).val().trim()),0<(p=k(this).find('[value="'+h+'"]')).length&&(f=p.html())),null!==k(this).val()&&(i=k(this).val().trim()));null!=i&&((c={}).label=k(this).closest(".elementor-field-group").find(".elementor-field-label").html(),c.name=o.replace("[]","").replace("form_fields[","").replace("]",""),c.value=i,null!=u&&(c.value_multiple=u),c.type=k(this).attr("type"),void 0!==k(this).attr("data-pafe-form-builder-address-autocomplete")&&(c.lat=k(this).attr("data-pafe-form-builder-google-maps-lat"),c.lng=k(this).attr("data-pafe-form-builder-google-maps-lng"),c.zoom=k(this).attr("data-pafe-form-builder-google-maps-zoom")),void 0!==m&&0<m.length&&(c.booking=m),""!=f&&(c.value_label=f),0<k(this).closest(".elementor-field-type-calculated_fields").length&&(c.calculation_results=k(this).val().trim()),0==k(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&(c.repeater_id=l,c.repeater_id_one=d,c.repeater_index=a,c.repeater_label=r,c.repeater_length=t,null!=k(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(c.repeater_remove_this_field="1")),null!=k(this).attr("data-pafe-remove-value")&&"false"!=k(this).attr("data-pafe-remove-value")&&k(this).val()==k(this).attr("data-pafe-remove-value")&&(c.value=""),b.push(c))}}}}),0==y&&s.createToken(l).then(function(e){var a,t,i,r;e.error||(k(document).find('[data-pafe-form-builder-form-id="'+v+'"]').closest(".elementor-element").css({opacity:.45}),n.closest(".elementor-element").css({opacity:.45}),n.closest(".elementor-element").addClass("elementor-form-waiting"),o.find(".elementor-message").removeClass("visible"),a=0,null!=n.data("pafe-form-builder-stripe-amount")?a=n.data("pafe-form-builder-stripe-amount"):null!=n.data("pafe-form-builder-stripe-amount-field")&&(t=n.data("pafe-form-builder-stripe-amount-field").replace('[field id="',"").replace('"]',""),a=k(document).find('[data-pafe-form-builder-form-id="'+v+'"][name="form_fields['+t+']"]').val()),i="",null!=n.data("pafe-form-builder-stripe-customer-info-field")&&(t=n.data("pafe-form-builder-stripe-customer-info-field").replace('[field id="',"").replace('"]',""),i=k(document).find('[data-pafe-form-builder-form-id="'+v+'"][name="form_fields['+t+']"]').val()),k(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),k(document).find('input[name="form_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').val(),e.token.id,w.append("action","pafe_ajax_stripe_intents"),w.append("post_id",o.find('input[name="post_id"]').closest("[data-elementor-id]").data("elementor-id")),w.append("form_id",o.find('input[name="form_id"]').val()),w.append("fields",JSON.stringify(b)),w.append("referrer",window.location.href),w.append("remote_ip",k(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+v+'"]').val()),w.append("stripeToken",e.token.id),w.append("amount",a),w.append("description",i),null!=k(this).data("pafe-form-builder-woocommerce-product-id")&&w.append("product_id",k(this).data("pafe-form-builder-woocommerce-product-id")),null!=n.data("pafe-form-builder-submit-post-edit")&&w.append("edit",n.data("pafe-form-builder-submit-post-edit")),null!=n.data("pafe-form-builder-submit-recaptcha")?(r=n.data("pafe-form-builder-submit-recaptcha"),grecaptcha.ready(function(){grecaptcha.execute(r,{action:"create_comment"}).then(function(e){w.append("recaptcha",e),s.createPaymentMethod("card",l,{}).then(function(e){e.error||(w.append("payment_method_id",e.paymentMethod.id),k.ajax({url:k("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:w,processData:!1,contentType:!1,success:function(e){var t=k(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),i=JSON.stringify(b);handleServerResponse(JSON.parse(e),t,v,i,a,s,w,o,k(this));l.clear()},error:function(){k(document).find('[data-pafe-form-builder-form-id="'+v+'"]').closest(".elementor-element").css({opacity:1}),o.css({opacity:1}),o.removeClass("elementor-form-waiting"),o.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),o.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),l.clear()}}))})})})):s.createPaymentMethod("card",l,{}).then(function(e){e.error||(w.append("payment_method_id",e.paymentMethod.id),k.ajax({url:k("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:w,processData:!1,contentType:!1,success:function(e){var t=k(document).find('input[name="post_id"][data-pafe-form-builder-hidden-form-id="'+v+'"]').eq(0).closest("[data-elementor-id]").data("elementor-id"),i=JSON.stringify(b);handleServerResponse(JSON.parse(e),t,v,i,a,s,w,o,k(this));l.clear()},error:function(){k(document).find('[data-pafe-form-builder-form-id="'+v+'"]').closest(".elementor-element").css({opacity:1}),o.css({opacity:1}),o.removeClass("elementor-form-waiting"),o.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),o.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),l.clear()}}))}))}))})})};function handleServerResponse(t,i,a,r,n,o,s,l,d){t.error?submitStripeForm("failed",l,a,s,d,t):t.requires_action?t.subscriptions?o.handleCardPayment(t.payment_intent_client_secret).then(function(e){e.error||submitStripeForm("succeeded",l,a,s,d,t)}):o.handleCardAction(t.payment_intent_client_secret).then(function(e){e.error?submitStripeForm("failed",l,a,s,d,t):(s.delete("payment_method_id"),s.append("payment_intent_id",e.paymentIntent.id),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:s,processData:!1,contentType:!1,success:function(e){handleServerResponse(JSON.parse(e),i,a,r,n,o,s)}}))}):submitStripeForm("succeeded",l,a,s,d,t)}function submitStripeForm(r,e,n,t,i,a){var o=$(document).find('[data-pafe-form-builder-submit-form-id="'+n+'"]').closest(".elementor-element");"failed"==r?($(document).find('[data-pafe-form-builder-form-id="'+n+'"]').closest(".elementor-element").css({opacity:1}),o.css({opacity:1}),o.removeClass("elementor-form-waiting"),o.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-submit-form-id="'+n+'"]').closest(".elementor-element").css({opacity:1}),o.find("[data-pafe-form-builder-trigger-failed]").trigger("click")):(t.delete("stripeToken"),t.delete("action"),t.append("action","pafe_ajax_form_builder"),t.append("payment_intent_id",a.payment_intent_id),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:t,processData:!1,contentType:!1,success:function(e){var t,i,a;$(document).find('[data-pafe-form-builder-form-id="'+n+'"]').closest(".elementor-element").css({opacity:1}),o.css({opacity:1}),o.removeClass("elementor-form-waiting"),-1!==(e=e.trim()).indexOf(",")&&((t=JSON.parse(e)).custom_message&&o.find("[data-pafe-form-builder-message]").html(t.custom_message),o.find(".elementor-message").each(function(){var e;""!=t.post_url&&(e=$(this).html().replace("[post_url]",'<a href="'+t.post_url+'">'+t.post_url+"</a>"),$(this).html(e))}),"succeeded"==r||"active"==r?(o.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),o.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(o.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-form-id="'+n+'"]').closest(".elementor-element").css({opacity:1}),$(document).find('[data-pafe-form-builder-submit-form-id="'+n+'"]').closest(".elementor-element").css({opacity:1}),o.find("[data-pafe-form-builder-trigger-failed]").trigger("click")),""!=t.status?o.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"):(o.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible"),$(document).find('[data-pafe-form-builder-form-id="'+n+'"]').closest(".elementor-element").css({opacity:1}),$(document).find('[data-pafe-form-builder-submit-form-id="'+n+'"]').closest(".elementor-element").css({opacity:1}),""!=t.register_message&&o.find(".pafe-form-builder-alert--mail .elementor-message-danger").html(t.register_message.replace(/###/g,","))),0!=o.find('input[name="redirect"]').length&&(i=o.find('input[name="redirect"]').val().trim(),a=o.find('input[name="redirect"]').attr("data-pafe-form-builder-open-new-tab"),-1!==e.indexOf(",")&&"1"!=t.failed_status&&(""!=t.post_url&&"[post_url]"==i?window.location.href=t.post_url:""!=t.redirect&&("yes"==a?window.open(t.redirect,"_blank"):window.location.href=t.redirect))),0!=$(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+n+'"]').length&&$submit.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+n+'"]').trigger("click"),t.popup&&0!=$(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+n+'"]').length&&$submit.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+n+'"]').trigger("click"),0!=$(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+n+'"]').length&&$submit.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+n+'"]').trigger("click"))}}))}var WidgetPafeNumberSpinerHandler=function(e,i){e=e.find('[data-pafe-form-builder-spiner] input[type="number"]');e.length&&i.each(e,function(e,t){i(t).niceNumber({autoSize:!1})})};function getIndexColumn(e){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=e.slice(0,1).toUpperCase(),e=e.slice(1,2).toUpperCase();return""==e?t.indexOf(i):26*(t.indexOf(i)+1)+t.indexOf(e)}$(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerDate),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerTime),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerImageSelect),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeFormBuilderHandlerStripe),elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",WidgetPafeNumberSpinerHandler)})}(jQuery),jQuery(document).ready(function(F){F(document).on("change",'[name="upload_field"]',function(){var e=F(this).closest("form"),t=F(this),i=t.data("accept");null==i&&(i="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),null!=i&&""==i.trim()&&(i="jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,odt,avi,ogg,m4a,mov,mp3,mp4,mpg,wav,wmv"),e.validate({rules:{upload_field:{extension:i,maxsize:1048576*parseInt(t.data("maxsize"))}},messages:{upload_field:{extension:t.data("types-message"),maxsize:t.data("maxsize-message")}}}),e.submit(function(e){e.preventDefault()}),e.trigger("submit")}),window.pafeValidateFields=function(e){var r=0;return e.each(function(){var e,t,i,a;null==F(this).data("pafe-form-builder-stripe")&&null==F(this).data("pafe-form-builder-html")&&((t=0)<(e=F(this).closest(".elementor-field-type-checkbox.elementor-field-required")).length&&(t=e.find("input[type=checkbox]:checked").length),null!=F(this).attr("oninvalid")&&(requiredText=F(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),i=F(this)[0].checkValidity(),a=F(F(this)[0]).next()[0],F(a).hasClass("flatpickr-mobile")&&(i=a.checkValidity()),!i&&0==F(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=F(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&null==F(this).data("pafe-form-builder-honeypot")&&0==F(this).closest("[data-pafe-signature]").length||0==t&&0<e.length&&"none"!=F(this).closest(".elementor-element").css("display")?("none"==F(this).css("display")||"none"==F(this).closest("div").css("display")||null!=F(this).data("pafe-form-builder-image-select")||0<e.length?F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(requiredText):null==F(this).data("pafe-form-builder-image-select")&&F(this)[0].reportValidity(),r++):""==F(this).val()&&"true"==F(this).attr("aria-required")&&void 0!==F(this).attr("data-pafe-form-builder-select-autocomplete")?(F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(requiredText),r++):(F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),0<F(this).closest("[data-pafe-signature]").length&&(F(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==F(this).val()&&0==F(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=F(this).attr("required")&&(F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(requiredText),r++))))}),r},F(document).on("click","[data-pafe-form-builder-submit-form-id]",function(){if(null==F(this).attr("data-pafe-form-builder-stripe-submit")){var w=F(this).data("pafe-form-builder-submit-form-id"),i=F(document).find("[data-pafe-form-builder-form-id="+w+"]"),$=F(this).data("pafe-form-builder-required-text"),k=[],x=0;formData=new FormData;var C=!1,n=F(this),o=n.closest(".elementor-element");if(i.each(function(){if(null==F(this).data("pafe-form-builder-stripe")&&null==F(this).data("pafe-form-builder-html")){var e,t,i=F(this).closest(".elementor-field-type-checkbox.elementor-field-required"),a=0;0<i.length&&(a=i.find("input[type=checkbox]:checked").length),null!=F(this).attr("oninvalid")&&($=F(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),null!=F(this).attr("data-pafe-is-repassword")&&""!=F(this).attr("data-pafe-is-repassword")&&(e=F('[name="form_fields['+F(this).attr("data-pafe-is-repassword")+']"]').val(),t=F(this).attr("data-pafe-repassword-msg"),String(e)!==String(F(this).val())?(this.setCustomValidity(t),x++,F(this).on("keyup",function(){this.setCustomValidity("")})):this.setCustomValidity("")),void 0!==F(this).attr("data-pafe-confirm-field")&&!1!==F(this).attr("data-pafe-confirm-field")&&(t=F('[name="form_fields['+F(this).attr("data-pafe-confirm-field")+']"]').val(),r=F(this).attr("data-pafe-confirm-msg"),String(t)!==String(F(this).val())?(this.setCustomValidity(r),x++,F(this).on("keyup",function(){this.setCustomValidity("")})):this.setCustomValidity("")),null!=F(this).attr("data-pafe-iban-field")&&(IBAN.isValid(F(this).val())||(n=F(this).attr("data-pafe-iban-msg"),this.setCustomValidity(n),x++,F(this).on("keyup",function(){this.setCustomValidity("")})));var r=F(this)[0].checkValidity(),n=F(F(this)[0]).next()[0];if(F(n).hasClass("flatpickr-mobile")&&(r=n.checkValidity()),!r&&0==F(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=F(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&null==F(this).data("pafe-form-builder-honeypot")&&0==F(this).closest("[data-pafe-signature]").length||0==a&&0<i.length&&"none"!=F(this).closest(".elementor-element").css("display"))"none"==F(this).css("display")||"none"==F(this).closest("div").css("display")||null!=F(this).data("pafe-form-builder-image-select")||0<i.length?(F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html($),0===(p=F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").next()).length||C||(F("html, body").animate({scrollTop:p.offset().top},500),C=!0)):C||null!=F(this).data("pafe-form-builder-image-select")||(F(this)[0].reportValidity(),C=!0),x++;else if(""==F(this).val()&&0==F(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"true"==F(this).attr("aria-required")&&void 0!==F(this).attr("data-pafe-form-builder-select-autocomplete"))F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html($),x++;else{null!=F(this).data("pafe-form-builder-image-select")&&(F(this).closest(".pafe-image-select-field").find(".image_picker_selector").find(".selected").length<F(this).data("pafe-form-builder-image-select-min-select")?(F(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").html(F(this).data("pafe-form-builder-image-select-min-select-message")),x++):F(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").remove());n=F(this).closest(".pafe-field-container").find("label"),r=F(this).closest(".pafe-field-container"),a=1;null!=n.attr("data-pafe-form-builder-image-upload-min-files")&&(a=parseInt(n.attr("data-pafe-form-builder-image-upload-min-files")),r.find(".pafe-form-builder-image-upload-uploaded").length<a?(r.find("[data-pafe-form-builder-image-upload-check]").html(n.attr("data-pafe-form-builder-image-upload-min-files-message")),x++):r.find("[data-pafe-form-builder-image-upload-check]").remove()),F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),null!=F(this).data("pafe-flatpickr-custom-options")&&""==F(this).val()&&0==F(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=F(this).attr("required")&&(F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html($),x++),0<F(this).closest("[data-pafe-signature]").length&&(F(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==F(this).val()&&0==F(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=F(this).attr("required")&&(F(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html($),x++));var o,s,l,d,c=F(this).attr("type"),u=F(this).attr("name"),i=F(this).closest("[data-pafe-form-builder-repeater-form-id]"),h="",p="",a="",n=-1,r=0;if(0<i.length&&($repeaterParents=F(this).parents("[data-pafe-form-builder-repeater-form-id]"),p=i.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var e=F(this).data("pafe-form-builder-repeater-id"),t=F(document).find('[data-pafe-form-builder-repeater-form-id="'+w+'"][data-pafe-form-builder-repeater-id="'+e+'"]');repeaterParentIndex=F(this).index()-t.index(),h+=e+"|index"+repeaterParentIndex+"|"+u.replace("[]","").replace("form_fields[","").replace("]","")+","}),a=i.data("pafe-form-builder-repeater-label"),s=F(document).find('[data-pafe-form-builder-repeater-id="'+i.data("pafe-form-builder-repeater-id")+'"]'),r=i.siblings('[data-pafe-form-builder-repeater-id="'+i.data("pafe-form-builder-repeater-id")+'"]').length+1,n=i.index()-s.index()),"file"==c)if(F(this).hasClass("error"))x++;else{let i=[];var f,u=F(this).attr("id").replace("form-field-","");F.each(F(this)[0].files,function(e,t){i.push(t.name),formData.append(u+"[]",t)}),(f={}).label=F(this).closest(".elementor-field-group").find(".elementor-field-label").html(),f.name=u,f.value="",f.type=F(this).attr("type"),f.upload=1,f.file_name=i,f.repeater_id=h,f.repeater_id_one=p,f.repeater_label=a,f.repeater_index=n,f.repeater_length=r,null!=F(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(f.repeater_remove_this_field="1"),null!=F(this).data("attach-files")&&(f["attach-files"]=1),k.push(f)}else{if(-1!==u.indexOf("[]")){var m=[];"checkbox"==c?F(this).closest(".elementor-element").find('[name="'+u+'"]:checked').each(function(){m.push(F(this).val())}):null==(m=F(this).val())&&(m=[]);for(var g,v,_=o="",b=[],y=0;y<m.length;y++)null!=F(this).data("pafe-form-builder-send-data-by-label")&&(g=m[y],"checkbox"==c?0<(v=F(this).closest(".elementor-element").find('[value="'+g+'"]')).length&&(_+=v.data("pafe-form-builder-send-data-by-label")+","):0<(v=F(this).find('[value="'+g+'"]')).length&&(_+=v.html()+",")),o+=m[y]+",",null!=F(this).attr("data-pafe-form-booking-item-options")&&(g=m[y],0<(v=F(this).closest(".elementor-element").find('[value="'+g+'"]')).length&&b.push(v.attr("data-pafe-form-booking-item-options")));o=o.replace(/,(\s+)?$/,"")}else"radio"==c||"checkbox"==c?(null!=F(this).data("pafe-form-builder-send-data-by-label")&&(_=F(this).closest(".elementor-element").find('[name="'+u+'"]:checked').data("pafe-form-builder-send-data-by-label")),o=(o=F(this).closest(".elementor-element").find('[name="'+u+'"]:checked').val())||""):(null!=F(this).data("pafe-form-builder-calculated-fields")?o=F(this).siblings(".pafe-calculated-fields-form").text():(null!=F(this).data("pafe-form-builder-send-data-by-label")&&(null!==F(this).val()&&(g=F(this).val().trim()),0<(v=F(this).find('[value="'+g+'"]')).length&&(_=v.html())),null!==F(this).val()&&(o=F(this).val().trim())),"tel"==c&&void 0!==F(this).attr("data-pafe-tel-field")&&(o=F(this).intlTelInput("getNumber")));null!=o&&((f={}).label=F(this).closest(".elementor-field-group").find(".elementor-field-label").html(),f.name=u.replace("[]","").replace("form_fields[","").replace("]",""),i=F(this).attr("data-pafe-form-builder-range-slider-options"),s=F(this).attr("data-pafe-field-type"),f.image_upload=!!s,null!=i&&((l=JSON.parse(i)).prefix||l.postfix)?(d=l.input_values_separator?o.split(l.input_values_separator):o.split(";"),F.each(d,function(e,t){d[e]=l.prefix?l.prefix+t:t+l.postfix}),f.value=l.input_values_separator?d.join(l.input_values_separator):d.join(";")):f.value=o,null!=m&&(f.value_multiple=m),f.type=F(this).attr("type"),void 0!==F(this).attr("data-pafe-form-builder-address-autocomplete")&&(f.lat=F(this).attr("data-pafe-form-builder-google-maps-lat"),f.lng=F(this).attr("data-pafe-form-builder-google-maps-lng"),f.zoom=F(this).attr("data-pafe-form-builder-google-maps-zoom")),void 0!==b&&0<b.length&&(f.booking=b),""!=_&&(f.value_label=_),0<F(this).closest(".elementor-field-type-calculated_fields").length&&(f.calculation_results=F(this).val().trim()),0==F(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&(f.repeater_id=h,f.repeater_id_one=p,f.repeater_label=a,f.repeater_index=n,f.repeater_length=r,null!=F(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(f.repeater_remove_this_field="1")),null!=F(this).attr("data-pafe-remove-value")&&"false"!=F(this).attr("data-pafe-remove-value")&&F(this).val()==F(this).attr("data-pafe-remove-value")&&(f.value=""),k.push(f))}}}}),0==x)if(F(document).find('[data-pafe-form-builder-form-id="'+w+'"]').closest(".elementor-element").css({opacity:.45}),F(this).closest(".elementor-element").css({opacity:.45}),F(this).closest(".elementor-element").addClass("elementor-form-waiting"),formData.append("action","pafe_ajax_form_builder"),formData.append("post_id",o.find('input[name="post_id"]').closest("[data-elementor-id]").data("elementor-id")),formData.append("form_id",o.find('input[name="form_id"]').val()),formData.append("fields",JSON.stringify(k)),formData.append("referrer",window.location.href),formData.append("remote_ip",F(document).find('input[name="remote_ip"][data-pafe-form-builder-hidden-form-id="'+w+'"]').val()),null!=F(this).data("pafe-form-builder-submit-post-edit")&&formData.append("edit",F(this).data("pafe-form-builder-submit-post-edit")),null!=F(this).data("pafe-form-builder-woocommerce-product-id")&&formData.append("product_id",F(this).data("pafe-form-builder-woocommerce-product-id")),null!=F(this).attr("data-pafe-form-builder-paypal-submit-transaction-id")&&formData.append("paypal_transaction_id",F(this).attr("data-pafe-form-builder-paypal-submit-transaction-id")),null!=F(this).data("pafe-form-builder-submit-recaptcha")){var t=F(this).data("pafe-form-builder-mollie-payment"),e=F(this).data("pafe-form-builder-submit-recaptcha");grecaptcha.ready(function(){grecaptcha.execute(e,{action:"create_comment"}).then(function(e){if(void 0!==t&&!1!==t){let t=new URL(window.location.href),e=new URLSearchParams(t.search);if(-1!=window.location.href.indexOf("#")){var i=window.location.href.slice(0,window.location.href.indexOf("#")),a=window.location.href.slice(window.location.href.indexOf("#")),r=new URL(i);let e=new URLSearchParams(r.search);t=""==e.toString()?i+"?pafe_action=mollie_payment"+a:i+"&pafe_action=mollie_payment"+a}else t=""==e.toString()?window.location.href+"?pafe_action=mollie_payment":window.location.href+"&pafe_action=mollie_payment";return formData.append("mollie_payment",!0),formData.append("mollie_redirect_url",t),void F.ajax({url:F("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",dataType:"json",data:formData,processData:!1,contentType:!1,success:function(e){if("open"==e.status){let i={mollie_payment_id:e.id,formName:w};formData.forEach(function(e,t){i[t]=e}),delete i.mollie_payment,localStorage.setItem("pafe_data_form_mollie_payment",JSON.stringify(i)),window.location.href=e._links.checkout.href}else console.log(e.status)},error:function(e){console.log("Mollie payment not success!")}})}formData.append("recaptcha",e),o.find(".elementor-message").removeClass("visible"),F.ajax({url:F("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(e){var t,i,a=JSON.parse(e);a.custom_message&&o.find("[data-pafe-form-builder-message]").html(a.custom_message),o.css({opacity:1}),o.removeClass("elementor-form-waiting"),F(document).find('[data-pafe-form-builder-form-id="'+w+'"]').closest(".elementor-element").css({opacity:1}),""!=e.trim()?(o.find(".elementor-message-success").addClass("visible"),o.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(o.find(".elementor-message-danger").addClass("visible"),o.find("[data-pafe-form-builder-trigger-failed]").trigger("click")),-1!==e.indexOf(",")&&o.find(".elementor-message").each(function(){var e;""!=a.post_url&&(e=F(this).html().replace("[post_url]",'<a href="'+a.post_url+'">'+a.post_url+"</a>"),F(this).html(e))}),0!=o.find('input[name="redirect"]').length&&(t=o.find('input[name="redirect"]').val().trim(),i=o.find('input[name="redirect"]').attr("data-pafe-form-builder-open-new-tab"),-1!==e.indexOf(",")&&"1"!=a.failed_status&&(""!=a.post_url&&"[post_url]"==t?window.location.href=a.post_url:""!=a.redirect&&("yes"==i?window.open(a.redirect,"_blank"):window.location.href=a.redirect))),0!=n.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+w+'"]').length&&n.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+w+'"]').trigger("click"),a.popup&&0!=F(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+w+'"]').length&&n.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+w+'"]').trigger("click"),0!=F(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+w+'"]').length&&n.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+w+'"]').trigger("click")}})})})}else{if(null!=F(this).data("pafe-form-builder-mollie-payment")){let t=new URL(window.location.href),e=new URLSearchParams(t.search);if(-1!=window.location.href.indexOf("#")){var a=window.location.href.slice(0,window.location.href.indexOf("#")),r=window.location.href.slice(window.location.href.indexOf("#")),i=new URL(a);let e=new URLSearchParams(i.search);t=""==e.toString()?a+"?pafe_action=mollie_payment"+r:a+"&pafe_action=mollie_payment"+r}else t=""==e.toString()?window.location.href+"?pafe_action=mollie_payment":window.location.href+"&pafe_action=mollie_payment";return formData.append("mollie_payment",!0),formData.append("mollie_redirect_url",t),void F.ajax({url:F("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",dataType:"json",data:formData,processData:!1,contentType:!1,success:function(e){if("open"==e.status){let i={mollie_payment_id:e.id,formName:w};formData.forEach(function(e,t){i[t]=e}),delete i.mollie_payment,localStorage.setItem("pafe_data_form_mollie_payment",JSON.stringify(i)),window.location.href=e._links.checkout.href}else console.log(e.status)},error:function(e){console.log("Mollie payment not success!")}})}o.find(".elementor-message").removeClass("visible"),F.ajax({url:F("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:formData,processData:!1,contentType:!1,success:function(e){var t,i,a;if((o.css({opacity:1}),o.removeClass("elementor-form-waiting"),F(document).find('[data-pafe-form-builder-form-id="'+w+'"]').closest(".elementor-element").css({opacity:1}),e)&&JSON.parse(e).limit_entries_status)return void o.find(".pafe-form-builder-alert--limit-entries .elementor-message").addClass("visible");-1!==e.indexOf(",")&&((t=JSON.parse(e)).custom_message&&o.find("[data-pafe-form-builder-message]").html(t.custom_message),o.find(".elementor-message").each(function(){var e;""!=t.post_url&&(e=F(this).html().replace("[post_url]",'<a href="'+t.post_url+'">'+t.post_url+"</a>"),F(this).html(e))}),"succeeded"!=t.payment_status&&"active"!=t.payment_status||o.find(".pafe-form-builder-alert--stripe .elementor-message-success").addClass("visible"),"pending"==t.payment_status&&o.find(".pafe-form-builder-alert--stripe .elementor-help-inline").addClass("visible"),"failed"!=t.payment_status&&"incomplete"!=t.payment_status||(o.find(".pafe-form-builder-alert--stripe .elementor-message-danger").addClass("visible"),F(document).find('[data-pafe-form-builder-form-id="'+w+'"]').closest(".elementor-element").css({opacity:1}),F(this).closest(".elementor-element").css({opacity:1})),""!=t.status?(o.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"),o.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(o.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible"),F(document).find('[data-pafe-form-builder-form-id="'+w+'"]').closest(".elementor-element").css({opacity:1}),F(this).closest(".elementor-element").css({opacity:1}),o.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),""!=t.register_message&&o.find(".pafe-form-builder-alert--mail .elementor-message-danger").html(t.register_message.replace(/###/g,",")))),0!=o.find('input[name="redirect"]').length&&(i=o.find('input[name="redirect"]').val().trim(),a=o.find('input[name="redirect"]').attr("data-pafe-form-builder-open-new-tab"),-1!==e.indexOf(",")&&"1"!=t.failed_status&&(""!=t.post_url&&"[post_url]"==i?window.location.href=t.post_url:""!=t.redirect&&("yes"==a?window.open(t.redirect,"_blank"):window.location.href=t.redirect))),0!=F(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+w+'"]').length&&n.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+w+'"]').trigger("click"),t.popup&&0!=F(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+w+'"]').length&&n.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+w+'"]').trigger("click"),0!=F(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+w+'"]').length&&n.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+w+'"]').trigger("click")}})}}});let o=new URLSearchParams(window.location.search);if("mollie_payment"===o.get("pafe_action")){o.delete("pafe_action");let e=window.location.href.replace(window.location.search,"?"+o.toString());e=new URL(e);let t=new URLSearchParams(e.search);t.toString()?window.history.pushState({},"",e.href):window.history.pushState({},"",e.href.replace("?",""));let i=localStorage.getItem("pafe_data_form_mollie_payment");i=JSON.parse(i);var s,l=i.formName;let r,a,n=F('[data-pafe-form-builder-mollie-payment="'+l+'"]').closest(".elementor-element");i&&(s=JSON.parse(i.fields),F.each(s,function(e,i){i.value&&("radio"==i.type?F('[data-pafe-form-builder-form-id="'+l+'"][name="form_fields['+i.name+']"][value="'+i.value+'"]').prop("checked",!0):"checkbox"==i.type?(a=i.value.split(","),F.each(a,function(e,t){F('[data-pafe-form-builder-form-id="'+l+'"][name="form_fields['+i.name+'][]"][value="'+t+'"]').prop("checked",!0)})):F('[data-pafe-form-builder-form-id="'+l+'"][name="form_fields['+i.name+']"]').val(i.value))}),F(document).find('[data-pafe-form-builder-form-id="'+l+'"]').closest(".elementor-element").css({opacity:.45}),F('[data-pafe-form-builder-mollie-payment="'+l+'"]').closest(".elementor-element").css({opacity:.45}),F('[data-pafe-form-builder-mollie-payment="'+l+'"]').closest(".elementor-element").addClass("elementor-form-waiting"),F.ajax({type:"post",dataType:"json",url:F("[data-pafe-ajax-url]").data("pafe-ajax-url"),data:{action:"pafe_mollie_get_payment",payment_id:i.mollie_payment_id},success:function(e){e.status?r="paid"==e.status?"succeeded":"pending"==e.status?"pending":"failed":console.log("Mollie payment error!")},error:function(e){console.log("Mollie payment error!")}}),F.ajax({url:F("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:i,success:function(e){var t,i,a;n.css({opacity:1}),n.removeClass("elementor-form-waiting"),F(document).find('[data-pafe-form-builder-form-id="'+l+'"]').closest(".elementor-element").css({opacity:1}),-1!==e.indexOf(",")&&((t=JSON.parse(e)).custom_message&&n.find("[data-pafe-form-builder-message]").html(t.custom_message),t.payment_status=r,n.find(".elementor-message").each(function(){var e;""!=t.post_url&&(e=F(this).html().replace("[post_url]",'<a href="'+t.post_url+'">'+t.post_url+"</a>"),F(this).html(e))}),"succeeded"!=t.payment_status&&"active"!=t.payment_status||n.find(".pafe-form-builder-alert--mollie .elementor-message-success").addClass("visible"),"pending"==t.payment_status&&n.find(".pafe-form-builder-alert--mollie .elementor-help-inline").addClass("visible"),"failed"!=t.payment_status&&"incomplete"!=t.payment_status||(n.find(".pafe-form-builder-alert--mollie .elementor-message-danger").addClass("visible"),F(document).find('[data-pafe-form-builder-form-id="'+l+'"]').closest(".elementor-element").css({opacity:1}),F(this).closest(".elementor-element").css({opacity:1})),""!=t.status?(n.find(".pafe-form-builder-alert--mail .elementor-message-success").addClass("visible"),n.find("[data-pafe-form-builder-trigger-success]").trigger("click")):(n.find(".pafe-form-builder-alert--mail .elementor-message-danger").addClass("visible"),F(document).find('[data-pafe-form-builder-form-id="'+l+'"]').closest(".elementor-element").css({opacity:1}),F(this).closest(".elementor-element").css({opacity:1}),n.find("[data-pafe-form-builder-trigger-failed]").trigger("click"),""!=t.register_message&&n.find(".pafe-form-builder-alert--mail .elementor-message-danger").html(t.register_message.replace(/###/g,",")))),0!=n.find('input[name="redirect"]').length&&(i=n.find('input[name="redirect"]').val().trim(),a=n.find('input[name="redirect"]').attr("data-pafe-form-builder-open-new-tab"),-1!==e.indexOf(",")&&"1"!=t.failed_status&&(""!=t.post_url&&"[post_url]"==i?window.location.href=t.post_url:""!=t.redirect&&("yes"==a?window.open(t.redirect,"_blank"):window.location.href=t.redirect))),0!=F(document).find('[data-pafe-form-builder-popup][data-pafe-form-builder-hidden-form-id="'+l+'"]').length&&$submit.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+l+'"]').trigger("click"),t.popup&&0!=F(document).find('[data-pafe-form-builder-popup-open][data-pafe-form-builder-hidden-form-id="'+l+'"]').length&&$submit.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+l+'"]').trigger("click"),0!=F(document).find('[data-pafe-form-builder-popup-close][data-pafe-form-builder-hidden-form-id="'+l+'"]').length&&$submit.closest(".elementor-widget-container").find('[data-pafe-form-builder-hidden-form-id="'+l+'"]').trigger("click")}}),localStorage.removeItem("pafe_data_form_mollie_payment"))}}),jQuery(document).ready(function($){function resizeSignature(){$(document).find("[data-pafe-signature] canvas").each(function(){var e=parseInt($(this).css("max-width").replace("px","")),t=(parseInt($(this).css("height").replace("px","")),parseInt($(this).closest(".elementor-form-fields-wrapper").width()));0<t&&(t<e||Number.isNaN(e)?$(this).attr("width",t):$(this).attr("width",e),$(this).attr("height",$(this).css("height")))})}function pafeConditionalLogicFormCheck(e){e.each(function(){var e,t,i,a,r=$(this),n=$(this).data("pafe-form-builder-conditional-logic-not-field"),o=r.data("pafe-form-builder-conditional-logic-speed"),s=r.data("pafe-form-builder-conditional-logic-easing"),l=r.data("pafe-form-builder-conditional-logic"),d=!0,c=$(this).closest("[data-pafe-form-builder-repeater-id]");if(l){a=null!=n?(t=(e=$(this)).closest(".elementor-location-popup").length,(i=$(this)).data("pafe-form-builder-conditional-logic-not-field-form-id")):(t=(e=$(this).closest(".elementor-element")).closest(".elementor-location-popup").length,(i=r.find("[data-pafe-form-builder-form-id]")).data("pafe-form-builder-form-id"));var u=!1;0<$(this).closest(".pafe-multi-step-form__content-item-button").length&&(u=!0,(e=$(this).closest(".pafe-multi-step-form__content-item-button")).find("[data-pafe-form-builder-conditional-logic]").css({display:"block"}));var h,p=JSON.stringify(l);-1!==p.indexOf("pafe")&&-1==p.indexOf("show")&&(d=!1),h=null!=n?(d=!0,1):i.attr("name").replace("[]","").replace("form_fields[","").replace("]","");for(var f=0,m=0,g="",v="",_=0;_<l.length;_++){S=null!=n?1:i.attr("name").replace("form_fields[","").replace("[]","").replace("]","");var b,y=l[_].pafe_conditional_logic_form_if.trim().replace('[field id="',"").replace('"]',""),w=l[_].pafe_conditional_logic_form_comparison_operators,k=l[_].pafe_conditional_logic_form_value,x=l[_].pafe_conditional_logic_form_type,C=f;if("number"==x&&(k=parseFloat(k)),h==S&&(m++,g=l[_].pafe_conditional_logic_form_and_or_operators,""!=y)){0<c.length&&0!=(b=c.find('[name="form_fields['+y+']"][data-pafe-form-builder-form-id="'+a+'"]')).length||(b=$(document).find('[name="form_fields['+y+']"][data-pafe-form-builder-form-id="'+a+'"]'));var F,A,S=b.attr("type");if(0<b.length){if(null!=(A=("radio"==S||"checkbox"==S?(0<c.length?c:$(document)).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+y+']"]:checked'):b).val())&&-1!==A.indexOf(";")&&(A=(A=A.split(";"))[0]),"number"==x&&(null==A?A=0:(A=parseFloat(A),isNaN(A)&&(A=0))),"not-empty"==w&&(""!=A&&0!=A||(f+=1)),"empty"==w&&(""==A&&0==A||(f+=1)),"="==w&&A!=k&&(f+=1),"!="==w&&A==k&&(f+=1),">"==w&&A<=k&&(f+=1),">="==w&&A<k&&(f+=1),"<"==w&&k<=A&&(f+=1),"<="==w&&k<A&&(f+=1),"unchecked"==w&&b.prop("checked")&&(f+=1),"checked"==w){let e=!1;$.each(b,function(){$(this).prop("checked")&&(e=!0)}),e||(f+=1)}"contains"==w&&(A&&-1!==A.indexOf(k)||(f+=1))}if(0<c.length&&0!=(F=c.find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+y+'][]"]')).length||(F=$(document).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+y+'][]"]')),0<F.length){A=(0<c.length?c:$(document)).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+y+'][]"]').attr("type");var I=F.val(),I=[];if("checkbox"==A?(0<c.length?c:$(document)).find('[data-pafe-form-builder-form-id="'+a+'"][name="form_fields['+y+'][]"]:checked').each(function(){I.push($(this).val())}):null==(I=F.val())&&(I=[]),"checked"==w&&I.length<=0&&(f+=1),"unchecked"==w&&0<I.length&&(f+=1),"not-empty"==w&&0==I.length&&(f+=1),"empty"==w&&0<I.length&&(f+=1),"="!=w&&"!="!=w&&">"!=w&&">="!=w&&"<"!=w&&"<="!=w||0==I.length&&(f+=1),"="==w)for(var D=0;D<I.length;D++)I[D]!=k&&(f+=1);if("!="==w)for(D=0;D<I.length;D++)I[D]==k&&(f+=1);if(">"==w)for(D=0;D<I.length;D++)I[D]<=k&&(f+=1);if(">="==w)for(D=0;D<I.length;D++)I[D]<k&&(f+=1);if("<"==w)for(D=0;D<I.length;D++)I[D]>=k&&(f+=1);if("<="==w)for(D=0;D<I.length;D++)I[D]>k&&(f+=1);"contains"==w&&-1===I.join().indexOf(k)&&(f+=1)}}var T,M=i;C==f&&null!=l[_]&&null!=l[_].pafe_conditional_logic_form_set_value&&-1!==l[_].pafe_conditional_logic_form_action.indexOf("set_value")&&(v=l[_].pafe_conditional_logic_form_set_value,null!=l[_].pafe_conditional_logic_form_set_value_for&&""!=l[_].pafe_conditional_logic_form_set_value_for?null==(T=0<c.length?(M=c.find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+l[_].pafe_conditional_logic_form_set_value_for+']"]'),c.find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+l[_].pafe_conditional_logic_form_set_value+']"]').val()):(M=$(document).find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+l[_].pafe_conditional_logic_form_set_value_for+']"]'),$(document).find('[data-pafe-form-builder-form-id="'+a+'"][name^="form_fields['+l[_].pafe_conditional_logic_form_set_value+']"]').val()))&&(T=l[_].pafe_conditional_logic_form_set_value):(M=i,0))}var P=i.find("option:first"),O=!1;"radio"!=M.attr("type")&&"checkbox"!=M.attr("type")||(O=!0);var N,E,p=i.data("pafe-form-builder-default-value");"or"==g&&f<m||"and"==g&&0==f?0<t?("hidden"!=i.attr("type")?e.hasClass("pafe-form-builder-conditional-logic-hidden")&&(u=!0,e.show().removeClass("pafe-form-builder-conditional-logic-hidden")):void 0!==i.attr("data-date-format")&&e.hasClass("pafe-form-builder-conditional-logic-hidden")&&(u=!0,e.show().removeClass("pafe-form-builder-conditional-logic-hidden")),M.each(function(){var e;""!=v&&O&&(v==$(this).val()&&!0!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!0)),"unchecked"==v||"checked"==v?"unchecked"==v?!1!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!1)):!0!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!0)):v==$(this).val()&&!0!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!0))),""==v||O||(e="or"==g?T:v,$(this).val()!==e&&(u=!0,$(this).val(e)))})):("hidden"!=i.attr("type")?($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),0<$paypal_element_button.length?!$paypal_element_button.hasClass("pafe-form-builder-conditional-logic-hidden")&&"block"===$paypal_element_button.css("display")||(u=!0,$paypal_element_button.slideDown(o,s,function(){$(this).attr("style","display: block;")}).removeClass("pafe-form-builder-conditional-logic-hidden")):!e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"block"===e.css("display")||(u=!0,e.slideDown(o,s,function(){$(this).attr("style","display: block;")}).removeClass("pafe-form-builder-conditional-logic-hidden"))):void 0!==i.attr("data-date-format")&&(!e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"block"===e.css("display")||(u=!0,e.slideDown(o,s,function(){$(this).attr("style","display: block;")}).removeClass("pafe-form-builder-conditional-logic-hidden"))),M.each(function(){var e;""!=v&&O&&(v==$(this).val()&&!0!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!0)),"unchecked"==v||"checked"==v?"unchecked"==v?!1!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!1)):!0!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!0)):v==$(this).val()&&!0!==$(this).prop("checked")&&(u=!0,$(this).prop("checked",!0))),""==v||O||(e="or"==g?T:v,$(this).val()!==e&&(u=!0,$(this).val(e)))})):0<t?(d&&(e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"none"===e.css("display")||(u=!0,e.hide().addClass("pafe-form-builder-conditional-logic-hidden")),null!=n&&(null!=(N=r.data("pafe-form-builder-repeater-id"))&&(u=!0,r.siblings('[data-pafe-form-builder-repeater-id="'+N+'"]').remove()),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i,a=$(this).data("pafe-form-builder-default-value");null!=a&&""!=a||Number.isInteger(a)?t?(i=a==$(this).val(),($(this).prop("checked")!==i||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(u=!0,$(this).prop("checked",i).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):$(this).val()!==$(this).attr("data-pafe-form-builder-default-value")&&(u=!0,$(this).val(a)):0!=e.length?$(this).val()!==e.val()&&(u=!0,$(this).val(e.val())):t?(!1!==$(this).prop("checked")||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(u=!0,$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue")):""!==$(this).val()&&(u=!0,$(this).val(""))}))),null==n&&(null!=p&&""!=p||Number.isInteger(p)?O?(E=p==i.val(),(i.prop("checked")!==E||i.hasClass("pafe-checked")||i.hasClass("pafe-checked-setvalue"))&&(u=!0,i.prop("checked",E).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):i.val()!==i.attr("data-pafe-form-builder-default-value")&&(u=!0,i.val(p)):0!=P.length?i.val()!==P.val()&&(u=!0,i.val(P.val())):O?(!1!==i.prop("checked")||i.hasClass("pafe-checked")||i.hasClass("pafe-checked-setvalue"))&&(u=!0,i.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue")):""!==i.val()&&(u=!0,i.val("")))):(d&&($paypal_element_button=e.closest(".elementor-widget-pafe-form-builder-submit").find(".pafe-form-builder-paypal"),0<$paypal_element_button.length?$paypal_element_button.hasClass("pafe-form-builder-conditional-logic-hidden")&&"none"===$paypal_element_button.css("display")||(u=!0,$paypal_element_button.slideUp(o,s).addClass("pafe-form-builder-conditional-logic-hidden")):e.hasClass("pafe-form-builder-conditional-logic-hidden")&&"none"===e.css("display")||(u=!0,e.slideUp(o,s).addClass("pafe-form-builder-conditional-logic-hidden")),null!=n&&(null!=(N=r.data("pafe-form-builder-repeater-id"))&&(u=!0,r.siblings('[data-pafe-form-builder-repeater-id="'+N+'"]').remove()),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i,a=$(this).data("pafe-form-builder-default-value");null!=a&&""!=a||Number.isInteger(a)?t?(i=a==$(this).val(),($(this).prop("checked")!==i||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(u=!0,$(this).prop("checked",i).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):$(this).val()!==$(this).attr("data-pafe-form-builder-default-value")&&(u=!0,$(this).val(a)):0!=e.length?$(this).val()!==e.val()&&(u=!0,$(this).val(e.val())):t?(!1!==$(this).prop("checked")||$(this).hasClass("pafe-checked")||$(this).hasClass("pafe-checked-setvalue"))&&(u=!0,$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue")):""!==$(this).val()&&(u=!0,$(this).val(""))}))),null==n&&(null!=p&&""!=p||Number.isInteger(p)?O?(E=p==i.val(),(e.prop("checked")!==E||e.hasClass("pafe-checked")||e.hasClass("pafe-checked-setvalue"))&&(u=!0,i.prop("checked",E).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"))):i.val()!==i.attr("data-pafe-form-builder-default-value")&&(u=!0,i.val(p)):0!=P.length?i.val()!==P.val()&&(u=!0,i.val(P.val())):O?(!1!==i.prop("checked")||i.hasClass("pafe-checked")||i.hasClass("pafe-checked-setvalue"))&&(u=!0,i.prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue")):""!=i.val()&&(u=!0,i.val("")))),u&&(0<(P=$(this).closest("[data-pafe-form-builder-repeater-form-id]")).length?($repeaterCalculatedFields=P.find("[data-pafe-form-builder-calculated-fields]"),$repeaterCalculatedFields.each(function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))})):pafeCalculatedFieldsForm("")),$(this).hasClass("elementor-field-type-signature")&&$(this).closest(".elementor-widget-pafe-form-builder-field").hasClass("pafe-form-builder-conditional-logic-hidden")&&resizeSignature()}})}function pafeScanConditionalLogic(){var e=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]");0<e.length&&pafeConditionalLogicFormCheck(e)}function FormatNumberBy3(e,t,i){var a=(e+"").split("."),r=Number(a[0]).toLocaleString("en-US"),n="";return 1<a.length&&(n="."+a[1]),e=(e=(e=(e=r+n).replace(/\./g,"|")).replace(/\,/g,i)).replace(/\|/g,t)}function round(e,t,i,a,r){e=Number(Math.round(e+"e"+t)+"e-"+t);if(""==r)return FormatNumberBy3(e,i,a);e=Number(e.toFixed(t)),a=FormatNumberBy3(e,i,a);return 0<t&&(Number.isInteger(e)?a+=i+"0".repeat(t):"number"!=typeof e||0<t-(i=a.length-a.indexOf(i)-1)&&(a+="0".repeat(t-i))),a}function roundValue(e,t,i){e=Number(Math.round(e+"e"+t)+"e-"+t);return""==i?e:Number(e.toFixed(t))}function evalWithVariables(e,t){try{return new Function("v","with (v) { return ("+e+")}")(t)}catch(e){return}}function pafeCalculatedFieldsForm(e){""!==e&&window["pafe-calculated-data"]||(window["pafe-calculated-data"]={});const O=window["pafe-calculated-data"];var t="[data-pafe-form-builder-calculated-fields]";""!=e&&(t="[data-pafe-form-builder-calculated-fields*='"+(e='[field id="'+e+'"]')+"'],[data-pafe-form-builder-calculated-fields-coupon-code='"+e+"']"),$(document).find(t).each(function(){var e=$(this).closest(".elementor-element"),t=$(this),h=t.data("pafe-form-builder-form-id"),i=t.data("pafe-form-builder-calculated-fields"),a=t.data("pafe-form-builder-calculated-fields-rounding-decimals"),p=t.data("pafe-form-builder-calculated-fields-rounding-decimals-decimals-symbol"),r=t.data("pafe-form-builder-calculated-fields-rounding-decimals-show"),f=t.data("pafe-form-builder-calculated-fields-rounding-decimals-seperators-symbol"),m=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(-1==i.indexOf("field id"))$(document).find('[name^="form_fields"][data-pafe-form-builder-form-id="'+h+'"]').each(function(e,t){if(null!=$(this).attr("id")){var i,a=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),r=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+a+']"]'),n=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+a+']"]').attr("type"),o=$(this).closest("[data-pafe-form-builder-repeater-form-id]");if(0<r.length&&("radio"==n||"checkbox"==n?i=(0<o.length?$(t.closest("[data-pafe-form-builder-repeater-form-id]")):$(document)).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+a+']"]:checked').val():null!==r.val()&&(i=r.val().trim()),null==i?i=0:(i=parseFloatWithRemoveSepChar(i,f,p),isNaN(i)&&(i=0)),0<o.length?(l=$(document).find('[data-pafe-form-builder-repeater-form-id="'+m.data("pafe-form-builder-repeater-form-id")+'"]'),d=m.index()-l.index(),O["pafe_"+a+"_piotnetpafe"+d+"x"]=i):O[a]=i),-1!==a.indexOf("[]")){a=a.replace("[]","");if(0<(r=(0<o.length?o:$(document)).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+a+'][]"]')).length){g=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+a+'][]"]').attr("type");var s=[];"checkbox"==g?0<o.length?o.find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+a+'][]"]:checked').each(function(e,t){s.push($(this).val())}):$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+a+'][]"]:checked').each(function(e,t){s.push($(this).val())}):null==(s=r.val())&&(s=[]);for(var l,d,c=0,u=0;u<s.length;u++)i=parseFloatWithRemoveSepChar(s[u],f,p),isNaN(i)&&(i=0),c+=i;0<o.length?(l=$(document).find('[data-pafe-form-builder-repeater-form-id="'+m.data("pafe-form-builder-repeater-form-id")+'"]'),d=m.index()-l.index(),O["pafe_"+a+"_piotnetpafe"+d+"x"]=c):O[a]=c}}}});else if(null!=(y=i.match(/\"(.*?)\"/g)))for(var n=0;n<y.length;n++){var o=y[n].replace('"',"").replace('"',""),s=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name^="form_fields['+o+']"]'),o=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+o+']"]');if(0<s.length){var l,d=s.attr("name").replace("form_fields[","").replace("]",""),c=s.attr("type");if(1<=o.length&&0==o.closest("[data-pafe-form-builder-repeater-id]").length&&("radio"==c||"checkbox"==c?l=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+']"]:checked').val():null!==o.val()&&(l=o.val().trim()),null==l?l=0:(l=parseFloatWithRemoveSepChar(l,f,p),isNaN(l)&&(l=0)),null!=o.attr("data-pafe-form-builder-date-range-days")&&(l=o.attr("data-pafe-form-builder-date-range-days")),null!=o.attr("data-pafe-form-builder-date-calculate")&&(l=o.attr("data-pafe-form-builder-date-calculate")),null!=o.attr("data-pafe-form-builder-form-booking-price")&&(l=o.attr("data-pafe-form-builder-form-booking-price")),O[d]=parseFloatWithRemoveSepChar(l,f,p),0<o.closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==o.closest(".elementor-element").css("display")&&(O[d]=0)),(1<o.length||1==o.length&&0<o.closest("[data-pafe-form-builder-repeater-id]").length)&&($repeater_field=o.closest("[data-pafe-form-builder-repeater-id]"),0<$repeater_field.length&&o.each(function(e,t){var i;null==(i="radio"==c||"checkbox"==c?$(t.closest("[data-pafe-form-builder-repeater-id]")).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+']"]:checked').val():$(this).val().trim())?i=0:(i=parseFloatWithRemoveSepChar(i,f,p),isNaN(i)&&(i=0)),null!=$(this).attr("data-pafe-form-builder-date-range-days")&&(i=$(this).attr("data-pafe-form-builder-date-range-days"));t=$(document).find('[data-pafe-form-builder-repeater-form-id="'+m.data("pafe-form-builder-repeater-form-id")+'"]'),t=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-t.index();0<$(this).closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$(this).closest(".elementor-element").css("display")&&(i=0),O["pafe_"+d+"_piotnetpafe"+t+"x"]=parseFloatWithRemoveSepChar(i,f,p)})),-1!==d.indexOf("[]")){d=d.replace("[]","");var u=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+'][]"]'),g=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+'][]"]').attr("type");if($repeater_field=$(this).closest("[data-pafe-form-builder-repeater-id]"),1==u.length||1<u.length&&0==$repeater_field.length){var v=[];"checkbox"==g?$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+'][]"]:checked').each(function(e,t){null!=$(this).attr("data-pafe-form-builder-form-booking-price")?v.push($(this).attr("data-pafe-form-builder-form-booking-price")):v.push($(this).val())}):null==(v=u.val())&&(v=[]);for(var _=0,b=0;b<v.length;b++)l=parseFloatWithRemoveSepChar(v[b],f,p),isNaN(l)&&(l=0),_+=l;0<u.closest("[data-pafe-form-builder-conditional-logic]").length&&u.closest(".elementor-element").hasClass("pafe-form-builder-conditional-logic-hidden")&&(void(_=0)!==(o=u.attr("data-pafe-form-builder-image-select"))&&!1!==o&&u.imagepicker({show_label:!0})),O[d]=_}0<$repeater_field.length&&(1<u.length||1==u.length&&$repeater_field.length)&&(u=$repeater_field.find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+'][]"]')).each(function(){g=$(document).find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+'][]"]').attr("type");var i=[];"checkbox"==g?$repeater_field.find('[data-pafe-form-builder-form-id="'+h+'"][name="form_fields['+d+'][]"]:checked').each(function(e,t){i.push($(this).val())}):null==(i=u.val())&&(i=[]);for(var e=_=0;e<i.length;e++)l=parseFloatWithRemoveSepChar(i[e],f,p),isNaN(l)&&(l=0),_+=l;var t=$(document).find('[data-pafe-form-builder-repeater-form-id="'+m.data("pafe-form-builder-repeater-form-id")+'"]'),t=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-t.index();0<$(this).closest("[data-pafe-form-builder-conditional-logic]").length&&"none"==$(this).closest(".elementor-element").css("display")&&(_=0),O["pafe_"+d+"_piotnetpafe"+t+"x"]=_})}}}var y,w=$(document).find('[data-pafe-form-builder-repeater-form-id="'+h+'"]'),k=$(this).closest("[data-pafe-form-builder-repeater-id]").index()-w.index();if(0<w.length){var x;window;for(S in O)0==S.indexOf("piotnet_")&&(O[S]=0);for(S in O)0==S.indexOf("pafe_")&&(x=S.split("_piotnetpafe")[0].replace("pafe_","piotnet_"),null==O[x]&&(O[x]=0),O[x]+=O[S]);for(S in O)0==S.indexOf("piotnet_")&&(x=S.replace("piotnet_",""),O[x]=O[S])}if(null!=(y=i.match(/\"(.*?)\"/g)))for(n=0;n<y.length;n++){var C,F,A,d=y[n].replace('"',"").replace('"',"");$fieldCalc=$(document).find('[data-pafe-form-builder-repeater-id] [data-pafe-form-builder-calculated-fields][name="form_fields['+d+']"]'),0<$fieldCalc.length&&(fieldCalcTotal=0,C=[],$fieldCalc.each(function(){var e=$(this).closest('[data-pafe-form-builder-repeater-form-id="'+h+'"]').attr("data-pafe-form-builder-repeater-number");C.indexOf(e)<0&&(C.push(e),fieldCalcTotal+=parseFloatWithRemoveSepChar($(this).val(),f,p))}),F=d,A=new RegExp(F,"g"),i=i.replace(A,fieldCalcTotal))}if(0<w.length)for(var S in O)0==S.indexOf("pafe_")&&-1!==S.indexOf("_piotnetpafe"+k+"x")&&(F=S.split("_piotnetpafe")[0].split("pafe_")[1],A=new RegExp(F,"g"),i=i.replace(A,S));if(null!=y)for(n=0;n<y.length;n++){d=y[n].replace('"',"").replace('"',"");null==O[d]&&(O[d]=0)}var I=evalWithVariables(i=i.replace(/\[field id=/g,"").replace(/\"]/g,"").replace(/\"/g,"").replace(/--/g,"+"),O);if(null!=$(this).attr("data-pafe-form-builder-calculated-fields-coupon-code")){w=$(document).find('[name="form_fields['+$(this).attr("data-pafe-form-builder-calculated-fields-coupon-code").replace('[field id="',"").replace('"]',"")+']"]');if(0<w.length){var D=w.eq(0),w=D.attr("data-pafe-coupon-code-list");void 0===w&&(w="[]");for(var T=JSON.parse(w),M=0;M<T.length;M++){var P=T[M];D.val()==P.pafe_coupon_code&&("percentage"==P.pafe_coupon_code_discount_type&&(I*=parseFloat((100-P.pafe_coupon_code_coupon_amount)/100)),"flat_amount"==P.pafe_coupon_code_discount_type&&(I-=parseFloat(P.pafe_coupon_code_coupon_amount)))}}}isNaN(I)||(e.find(".pafe-calculated-fields-form__value").html(round(I,a,p,f,r).replace("NaN",0)),e=t.val(),r=roundValue(I,a,r),t.val(r),e!==t.val()&&(0<t.closest(".pafe-form-builder-conditional-logic-hidden").length&&""==e||t.change(),pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))))})}function IDGenerator(){this.length=8,this.timestamp=+new Date;this.generate=function(){for(var e,t,i=this.timestamp.toString().split("").reverse(),a="",r=0;r<this.length;++r)a+=i[e=0,t=i.length-1,Math.floor(Math.random()*(t-e+1))+e];return a}}function generateRandomString(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=i.length,r=0;r<e;r++)t+=i.charAt(Math.floor(Math.random()*a));return t}function checkIsMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)}function isValidJSONString(e){try{JSON.parse(e)}catch(e){return}return 1}function setFieldValue(s,l){var d=s.find("option:first"),c=!1;"radio"!=s.attr("type")&&"checkbox"!=s.attr("type")||(c=!0);var u=s.closest(".elementor-element").find("[data-pafe-form-builder-image-upload]");s.data("pafe-form-builder-default-value");s.each(function(){if(""!=l&&c){for(var e=l.split(","),t=0;t<e.length;t++)e[t]==$(this).val()&&$(this).prop("checked",!0);"unchecked"==l||"checked"==l?"unchecked"==l?$(this).prop("checked",!1):$(this).prop("checked",!0):l==$(this).val()&&$(this).prop("checked",!0)}var i,a;if(""==l||c||0!=d.length||($(this).hasClass("elementor-date-field")&&0!=s.closest(".elementor-section").find("[data-pafe-form-builder-submit-update-user-profile]").length?$(this).attr("data-pafe-form-builder-value",l):$(this).val(l)),0!=d.length&&(i=$(this).find("option"),a=$(this),i.each(function(){$(this).attr("value")!=l&&$(this).html()!=l||(a.val($(this).attr("value")),null!=a.data("picker")&&a.data("picker").sync_picker_with_select())})),0!=u.length&&""!=l&&null!=l){var r,n=l.split(","),o=$(this).closest(".elementor-element").find("[data-pafe-form-builder-image-upload-label]");for(r in null==o.attr("multiple")&&o.addClass("pafe-form-builder-image-upload-label-hidden"),n)o.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploaded" style="background-image:url('+n[r]+')" data-pafe-form-builder-image-upload-placeholder=""><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item value="'+n[r]+'"><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')}$(this).change()})}function reInitFieldRepeater(e){e.attr("data-pafe-form-builder-repeater-number",generateRandomString(8));var t=e.find("[data-pafe-form-builder-image-upload]");0<t.length&&t.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")});t=e.find("[data-pafe-form-builder-image-select]");0<t.length&&t.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var a=$(this).data("pafe-form-builder-image-select"),r=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var n=$(this);r.each(function(e,t){var i;""==r.eq(0).attr("value").trim()&&0!=e&&(i=a[e-1].url,$(this).html(),$(this).attr("data-img-src",i),n.imagepicker({show_label:!0})),""!=r.eq(0).attr("value").trim()&&(i=a[e].url,$(this).html(),$(this).attr("data-img-src",i),n.imagepicker({show_label:!0}))})});t=e.find("[data-pafe-form-builder-spiner] .nice-number");0<t.length&&t.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),t=$(this).find(".elementor-field").prop("outerHTML");$(this).after(t),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})});t=e.find("[data-pafe-form-builder-repeater-id]");0<t.length&&t.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()}),e.find("[data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))}),e.find("[data-pafe-form-builder-form-id]").each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?$(this).val(i).change():0!=e.length?$(this).val(e.val()).change():t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")});t=e.find("[data-pafe-form-builder-select-autocomplete]");0<t.length&&t.each(function(){for(var e=JSON.parse($(this).attr("data-options")),t="",i=0;i<e.length;i++){var a=e[i];0<=a.indexOf("|")?t+='<option value="'+(a=a.split("|"))[0]+'">'+a[1]+"</option>":t+='<option value="'+a+'">'+a+"</option>"}$(this).html(t),$(this).closest(".elementor-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})});t=e.find(".elementor-date-field");0<t.length&&t.each(function(){var e,t;(e=$(this)).hasClass("elementor-use-native")||(t={minDate:$(e).attr("min")?flatpickr.parseDate($(e).attr("min"),"Y-m-d"):null,maxDate:$(e).attr("max")?flatpickr.parseDate($(e).attr("max"),"Y-m-d"):null,dateFormat:e.attr("data-date-format")||null,defaultDate:e.attr("data-pafe-form-builder-value")||null,allowInput:!0},e.flatpickr(t))});e=e.find(".elementor-time-field");0<e.length&&e.each(function(){var e;(e=$(this)).hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:e.attr("data-pafe-form-builder-value")||null})})}function pafeRepeaterFillValue(){$("[data-pafe-form-builder-repeater-value]").each(function(){var e=JSON.parse($(this).html().trim()),t=$(this).data("pafe-form-builder-repeater-value-form-id"),i=$(this).data("pafe-form-builder-repeater-value-id"),a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]');if(2<=e.length&&$('[data-pafe-form-builder-repeater-form-id] [data-pafe-form-builder-repeater-trigger-action="remove"]').show(),0<a.length){0<$(this).closest("[data-pafe-form-builder-repeater-form-id]").length&&(a=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]'));for(var r,n=0;n<e.length-1;n++)a.eq(0).after(a.eq(0).prop("outerHTML"));for(r in(a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]')).each(function(e,t){0!=e&&reInitFieldRepeater($(this))}),a=$(document).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+i+'"]'),e){var o,s=e[r];for(o in s)if("object"!=typeof s[o])setFieldValue(a.eq(r).find('[name^="form_fields['+o+']"]'),s[o]);else{for(var l=a.eq(r).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+o+'"]'),n=0;n<s[o].length-1;n++)l.eq(0).after(l.eq(0).prop("outerHTML"));(l=a.eq(r).find('[data-pafe-form-builder-repeater-form-id="'+t+'"][data-pafe-form-builder-repeater-id="'+o+'"]')).each(function(e,t){0!=e&&reInitFieldRepeater($(this))});var d,c=s[o];for(d in c)for(var u in c[d])"object"!=typeof c[d][u]&&setFieldValue(l.eq(d).find('[name^="form_fields['+u+']"]'),c[d][u])}}i=a.find("[data-pafe-form-builder-conditional-logic]");0<i.length&&pafeConditionalLogicFormCheck(i),pafeCalculatedFieldsForm(""),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+t+'"]').change()}})}function pafePreviewSubmission(){var e=$(document).find("[data-pafe-form-builder-preview-submission]");0<e.length&&e.each(function(){var m=$(this).attr("data-pafe-form-builder-preview-submission"),e=$(document).find("[data-pafe-form-builder-form-id="+m+"]"),g=[],t=new FormData,i=$(this);i.closest(".elementor-element");e.each(function(){if(null==$(this).data("pafe-form-builder-stripe")&&null==$(this).data("pafe-form-builder-html")){var e=$(this).closest(".elementor-field-type-checkbox.elementor-field-required");0<e.length&&e.find("input[type=checkbox]:checked").length,$(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html("");var t,i,a=$(this).attr("type"),r=$(this).attr("name"),n=$(this).closest("[data-pafe-form-builder-repeater-form-id]"),o="",s="",l="",d=-1,e=0;if(0<n.length&&($repeaterParents=$(this).parents("[data-pafe-form-builder-repeater-form-id]"),s=n.data("pafe-form-builder-repeater-id"),$repeaterParents.each(function(){var e=$(this).data("pafe-form-builder-repeater-id"),t=$(document).find('[data-pafe-form-builder-repeater-form-id="'+m+'"][data-pafe-form-builder-repeater-id="'+e+'"]');repeaterParentIndex=$(this).index()-t.index(),o+=e+"|index"+repeaterParentIndex+"|"+r.replace("[]","").replace("form_fields[","").replace("]","")+","}),l=n.data("pafe-form-builder-repeater-label"),i=$(document).find('[data-pafe-form-builder-repeater-id="'+n.data("pafe-form-builder-repeater-id")+'"]'),e=n.siblings('[data-pafe-form-builder-repeater-id="'+n.data("pafe-form-builder-repeater-id")+'"]').length+1,d=n.index()-i.index()),-1!==r.indexOf("[]")){var c=[];"checkbox"==a?$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').each(function(){c.push($(this).val())}):null==(c=$(this).val())&&(c=[]);for(var u,h,p=t="",f=0;f<c.length;f++)null!=$(this).data("pafe-form-builder-send-data-by-label")&&(u=c[f],"checkbox"==a?0<(h=$(this).closest(".elementor-element").find('[value="'+u+'"]')).length&&(p+=h.data("pafe-form-builder-send-data-by-label")+","):0<(h=$(this).find('[value="'+u+'"]')).length&&(p+=h.html()+",")),t+=c[f]+",";t=t.replace(/,(\s+)?$/,"")}else t="radio"==a||"checkbox"==a?(null!=$(this).data("pafe-form-builder-send-data-by-label")&&(p=$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').data("pafe-form-builder-send-data-by-label")),$(this).closest(".elementor-element").find('[name="'+r+'"]:checked').val()):null!=$(this).data("pafe-form-builder-calculated-fields")?$(this).siblings(".pafe-calculated-fields-form").text():(null!=$(this).data("pafe-form-builder-send-data-by-label")&&(u=$(this).val().trim(),0<(h=$(this).find('[value="'+u+'"]')).length&&(p=h.html())),$(this).val().trim());null!=t&&((i={}).label=$(this).closest(".elementor-field-group").find(".elementor-field-label").html(),i.name=r.replace("[]","").replace("form_fields[","").replace("]",""),i.value=t,null!=c&&(i.value_multiple=c),i.type=$(this).attr("type"),void 0!==$(this).attr("data-pafe-form-builder-address-autocomplete")&&(i.lat=$(this).attr("data-pafe-form-builder-google-maps-lat"),i.lng=$(this).attr("data-pafe-form-builder-google-maps-lng"),i.zoom=$(this).attr("data-pafe-form-builder-google-maps-zoom")),""!=p&&(i.value_label=p),0<$(this).closest(".elementor-field-type-calculated_fields").length&&(i.calculation_results=$(this).val().trim()),0==$(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&(i.repeater_id=o,i.repeater_id_one=s,i.repeater_label=l,i.repeater_index=d,i.repeater_length=e,null!=$(this).data("pafe-form-builder-remove-this-field-from-repeater")&&(i.repeater_remove_this_field="1"),g.push(i)))}}),t.append("action","pafe_ajax_form_builder_preview_submission"),t.append("fields",JSON.stringify(g)),null!=i.attr("data-pafe-form-builder-preview-submission-remove-empty-fields")&&t.append("remove_empty_fields",""),null!=i.attr("data-pafe-form-builder-preview-submission-custom-list-fields")&&t.append("custom_list_fields",i.attr("data-pafe-form-builder-preview-submission-custom-list-fields")),$.ajax({url:$("[data-pafe-ajax-url]").data("pafe-ajax-url"),type:"POST",data:t,processData:!1,contentType:!1,success:function(e){i.html(e)}})})}function bookingLoad(e){var t,i=e.val(),a=e.attr("data-pafe-form-builder-form-id"),e=$(document).find('[data-pafe-form-booking-item][data-pafe-form-builder-form-id="'+a+'"]');0<e.length&&((t=(e=e.eq(0)).closest("[data-pafe-form-booking]")).addClass("pafe-form-booking--loading"),a=JSON.parse(e.attr("data-pafe-form-booking-item-options")),a={action:"pafe_form_booking",date:i,post_id:0<e.closest("[data-pafe-form-builder-step-item-id]").length?e.closest("[data-pafe-form-builder-step-item-id]").attr("data-pafe-form-builder-step-item-id"):0<e.closest("[data-elementor-id]").length?e.closest("[data-elementor-id]").attr("data-elementor-id"):a.pafe_form_booking_post_id,element_id:a.pafe_form_booking_element_id,form_booking:t.attr("data-pafe-form-booking")},$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),a,function(e){t.html(e),pafeCalculatedFieldsForm(""),t.removeClass("pafe-form-booking--loading")}))}function bookingItemLoad(){$(document).find("[data-pafe-form-booking]").each(function(){var e,t=$(this).find("[data-pafe-form-booking-item]").eq(0),i=JSON.parse(t.attr("data-pafe-form-booking-item-options")),a=JSON.parse($(this).attr("data-pafe-form-booking")).pafe_form_booking_form_id,r=t.closest("[data-pafe-form-booking]");void 0!==i.pafe_form_booking_date_field?(e="#form-field-"+i.pafe_form_booking_date_field.replace('[field id="',"").replace('"]',""),(e=$(document).find(e+'[data-pafe-form-builder-form-id="'+a+'"]')).addClass("pafe-form-booking-date"),bookingLoad(e)):(e=i.pafe_form_booking_date,t.attr("data-pafe-form-builder-form-id"),i=i,i={action:"pafe_form_booking",date:e,post_id:0<t.closest("[data-pafe-form-builder-step-item-id]").length?t.closest("[data-pafe-form-builder-step-item-id]").attr("data-pafe-form-builder-step-item-id"):0<t.closest("[data-elementor-id]").length?t.closest("[data-elementor-id]").attr("data-elementor-id"):i.pafe_form_booking_post_id,element_id:i.pafe_form_booking_element_id,form_booking:r.attr("data-pafe-form-booking")},$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),i,function(e){r.html(e),pafeCalculatedFieldsForm(""),r.removeClass("pafe-form-booking--loading")}))})}function delayForNumberFieldtype(t,i){var a=0;return function(){var e=this;clearTimeout(a),a=setTimeout(function(){t.apply(e)},i)}}function paymentMethodsSelectField(){$("[data-pafe-form-builder-payment-methods-select-field]").each(function(){var e=$(this).attr("type"),t=$(this).attr("data-pafe-form-builder-form-id"),t=$(document).find('[data-pafe-form-builder-submit-form-id="'+t+'"]');(e="radio"==e||"checkbox"==e?$(this).closest(".elementor-element").find("input:checked").val():$(this).val().trim())!=$(this).attr("data-pafe-form-builder-payment-methods-select-field-value-for-stripe")?void 0!==t.attr("data-pafe-form-builder-stripe-currency")&&t.removeAttr("data-pafe-form-builder-stripe-submit"):void 0!==t.attr("data-pafe-form-builder-stripe-currency")&&t.attr("data-pafe-form-builder-stripe-submit",""),e!=$(this).attr("data-pafe-form-builder-payment-methods-select-field-value-for-paypal")?void 0!==t.attr("data-pafe-form-builder-paypal-submit-enable")&&(t.removeAttr("data-pafe-form-builder-paypal-submit"),t.closest(".elementor-element").find(".pafe-form-builder-paypal").hide()):void 0!==t.attr("data-pafe-form-builder-paypal-submit-enable")&&(t.attr("data-pafe-form-builder-paypal-submit",""),t.closest(".elementor-element").find(".pafe-form-builder-paypal").show())})}$.applyDataMask(),pafeScanConditionalLogic(),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(200,function(){pafeScanConditionalLogic();var e=$(document).find("[data-piotnetgrid-grid-carousel]");0<e.length&&e.trigger("grid_carousels")})),$(document).on("elementor/popup/show",function(e,t,i){pafeScanConditionalLogic()}),pafeCalculatedFieldsForm(""),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(200,function(){pafeCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))})),$(document).on("keyup change","[data-pafe-form-builder-image-upload]",function(){var e,r=$(this).closest("label"),n=$(this).closest(".elementor-element"),o=1e3;void 0!==r.attr("data-pafe-form-builder-image-upload-max-files")&&(o=parseInt(r.attr("data-pafe-form-builder-image-upload-max-files")),e=n.find(".pafe-form-builder-image-upload-placeholder.pafe-form-builder-image-upload-uploaded:not(.pafe-form-builder-image-upload-delete)").length,o-=e),$.each($(this)[0].files,function(e,t){var a,i;0<o?(--o,"gif"!=(i=(i=t.name).substring(i.lastIndexOf(".")+1).toLowerCase())&&"png"!=i&&"jpg"!=i&&"jpeg"!=i||("undefined"!=typeof FileReader?("multiple"!=r.attr("multiple")&&r.hide(0),a=(new IDGenerator).generate(),(i=new FileReader).onload=function(e){image=new Image,image.src=e.target.result,r.before('<div class="pafe-form-builder-image-upload-placeholder pafe-form-builder-image-upload-uploading" style="background-image:url('+e.target.result+')" data-pafe-form-builder-image-upload-placeholder="'+a+'"><input type="text" style="display:none;" data-pafe-form-builder-image-upload-item><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--remove" data-pafe-form-builder-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="pafe-form-builder-image-upload-button pafe-form-builder-image-upload-button--uploading" data-pafe-form-builder-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')},i.readAsDataURL(t),(i=new FormData).append("upload",t),$.ajax({url:$("[data-pafe-form-builder-tinymce-upload]").data("pafe-form-builder-tinymce-upload"),type:"POST",data:i,processData:!1,contentType:!1,success:function(e){var t,i=JSON.parse(e),e=$(document).find('[data-pafe-form-builder-image-upload-placeholder="'+a+'"]');1==e.length&&(e.removeClass("pafe-form-builder-image-upload-uploading").addClass("pafe-form-builder-image-upload-uploaded"),e.find("input").attr("value",i.location),t="",n.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]").each(function(){t+=$(this).val()+","}),t=t.replace(/.$/,""),n.find("[data-pafe-form-builder-form-id]").attr("value",t),n.find("[data-pafe-form-builder-form-id]").val(t),n.find("[data-pafe-form-builder-form-id]").change())}})):alert("Your browser does not support")),0==o&&r.hide(0)):r.hide(0)})}),$(document).on("click","[data-pafe-form-builder-image-upload-button-remove]",function(){var e=$(this).closest(".pafe-form-builder-image-upload-placeholder");e.css({display:"none"}),e.addClass("pafe-form-builder-image-upload-delete");var t=$(this).closest(".elementor-element"),i=t.find("[data-pafe-form-builder-image-upload-placeholder]:not(.pafe-form-builder-image-upload-delete) [data-pafe-form-builder-image-upload-item]"),a="",e=t.find("[data-pafe-form-builder-image-upload-label]");0==i.length&&e.show(0),"multiple"==e.attr("multiple")&&e.show(0),i.each(function(){a+=$(this).val()+","}),a=a.replace(/.$/,""),t.find("[data-pafe-form-builder-form-id]").val(a),t.find("[data-pafe-form-builder-form-id]").change()}),$('[data-pafe-form-builder-form-id][type="hidden"]').each(function(){$(this).closest(".elementor-widget-pafe-form-builder-field").addClass("elementor-widget-pafe-form-builder-field-hidden")}),$(document).on("click","[data-pafe-form-builder-repeater-form-id-trigger]",function(e){e.preventDefault();var formID=$(this).data("pafe-form-builder-repeater-form-id-trigger"),repeaterID=$(this).data("pafe-form-builder-repeater-id-trigger"),repeaterTriggerAction=$(this).data("pafe-form-builder-repeater-trigger-action"),$repeater=$(document).find('[data-pafe-form-builder-repeater-form-id="'+formID+'"][data-pafe-form-builder-repeater-id="'+repeaterID+'"]'),$repeaterParent,$conditionals;if("add"==repeaterTriggerAction){if($(document).find('[data-pafe-form-builder-repeater-id="'+repeaterID+'"] [data-pafe-form-builder-repeater-trigger-action="remove"]').show(),0<$repeater.length){0<$(this).closest("[data-pafe-form-builder-repeater-form-id]").length&&($repeater=$(this).closest("[data-pafe-form-builder-repeater-form-id]").find('[data-pafe-form-builder-repeater-form-id="'+formID+'"][data-pafe-form-builder-repeater-id="'+repeaterID+'"]'));var repeaterLimit=$repeater.eq(0).attr("data-pafe-form-builder-repeater-limit");if(0==repeaterLimit||0<repeaterLimit&&$repeater.eq($repeater.length-1).siblings('[data-pafe-form-builder-repeater-id="'+repeaterID+'"]').length<repeaterLimit-1){$repeater.eq($repeater.length-1).siblings('[data-pafe-form-builder-repeater-id="'+repeaterID+'"]').length==repeaterLimit-2&&$(this).hide(),$repeater.eq($repeater.length-1).after($repeater.eq(0).prop("outerHTML"));var $repeaterNew=$repeater.eq($repeater.length-1).next();$repeaterNew.attr("data-pafe-form-builder-repeater-number",generateRandomString(8));var $radioField=$repeaterNew.find('input[type="radio"]');$radioField.each(function(e,t){var i=$(this).attr("id");$(this).attr("id",i+$repeater.length+e),$(this).siblings("label").attr("for",i+$repeater.length+e)});var $checkboxField=$repeaterNew.find('input[type="checkbox"]');$checkboxField.each(function(e,t){var i=$(this).attr("id");$(this).attr("id",i+$repeater.length+e),$(this).siblings("label").attr("for",i+$repeater.length+e)});var $conditionals=$repeaterNew.find("[data-pafe-form-builder-conditional-logic]");0<$conditionals.length&&pafeConditionalLogicFormCheck($conditionals),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+formID+'"]').change();var $imageUploadField=$repeaterNew.find("[data-pafe-form-builder-image-upload]");0<$imageUploadField.length&&$imageUploadField.each(function(){$imageUploadedFieldWidget=$(this).closest(".elementor-element"),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-placeholder]").remove(),$imageUploadedFieldWidget.find("[data-pafe-form-builder-image-upload-label]").show(0),$imageUploadedFieldWidget.find("[data-pafe-form-builder-form-id]").val("")}),$repeaterNew.find("[data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))});var $imageSelect=$repeaterNew.find("[data-pafe-form-builder-image-select]");0<$imageSelect.length&&$imageSelect.each(function(){$(this).closest(".elementor-field").find(".image_picker_selector").remove();var a=$(this).data("pafe-form-builder-image-select"),r=$(this).find("option");$(this).closest(".elementor-field").addClass("pafe-image-select-field");var n=$(this);r.each(function(e,t){var i;""==r.eq(0).attr("value").trim()&&0!=e&&(i=a[e-1].url,$(this).html(),$(this).attr("data-img-src",i),n.imagepicker({show_label:!0})),""!=r.eq(0).attr("value").trim()&&(i=a[e].url,$(this).html(),$(this).attr("data-img-src",i),n.imagepicker({show_label:!0}))})});var $rangeSlider=$repeaterNew.find("[data-pafe-form-builder-range-slider]");0<$rangeSlider.length&&$rangeSlider.each(function(){$(this).closest(".elementor-element").find(".irs").remove();for(var e={},t=$(this).data("pafe-form-builder-range-slider").split(","),i=0;i<t.length;i++){var a,r=t[i].trim().split(":");null!=r[0]&&null!=r[1]&&(a=r[1].trim().replace('"',"").replace('"',""),e[r[0]]="false"==a||"true"==a?"false"!=a:a)}e.onStart=function(e){},$(this).ionRangeSlider(e),$(this).addClass("irs-hidden-input")});var $niceNumber=$repeaterNew.find("[data-pafe-form-builder-spiner] .nice-number");0<$niceNumber.length&&$niceNumber.each(function(){var e=$(this).closest("[data-pafe-form-builder-spiner]"),t=$(this).find(".elementor-field").prop("outerHTML");$(this).after(t),$(this).remove(),e.find(".elementor-field").niceNumber({autoSize:!1})});var $repeaterSub=$repeaterNew.find("[data-pafe-form-builder-repeater-id]");0<$repeaterSub.length&&(pafeConditionalLogicFormCheck($repeaterSub),$repeaterSub.each(function(){var e=$(this).data("pafe-form-builder-repeater-id");$(this).siblings('[data-pafe-form-builder-repeater-id="'+e+'"]').remove()}));var $fieldsInside=$repeaterNew.find("[data-pafe-form-builder-form-id]");$fieldsInside.each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?(t&&(i=$(this).attr("data-value")),$(this).val(i).change()):0!=e.length?$(this).val(e.val()).change():t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")});var $selectAutocomplete=$repeaterNew.find("[data-pafe-form-builder-select-autocomplete]");0<$selectAutocomplete.length&&$selectAutocomplete.each(function(){for(var e=JSON.parse($(this).attr("data-options")),t="",i=0;i<e.length;i++){var a=e[i];0<=a.indexOf("|")?t+='<option value="'+(a=a.split("|"))[1]+'">'+a[0]+"</option>":t+='<option value="'+a+'">'+a+"</option>"}$(this).html(t),$(this).closest(".elementor-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})});var $dateField=$repeaterNew.find(".elementor-date-field"),addDatePicker;0<$dateField.length&&!checkIsMobile()&&(addDatePicker=function addDatePicker($element){var minDate,maxDate,options,options;$element.hasClass("elementor-use-native")||(minDate=$($element).attr("min")?flatpickr.parseDate($($element).attr("min"),"Y-m-d"):null,maxDate=$($element).attr("max")?flatpickr.parseDate($($element).attr("max"),"Y-m-d"):null,options={minDate:minDate,maxDate:maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onReady:function(e){e=parseInt(e[0]/864e5,10);$element.attr("data-pafe-form-builder-date-calculate",e)},onClose:function(e){e=parseInt(e[0]/864e5,10);$element.attr("data-pafe-form-builder-date-calculate",e)}},null!=$element.data("pafe-form-builder-date-range")&&(options={minDate:minDate,maxDate:maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-pafe-form-builder-value")||null,allowInput:!0,animate:!1,onClose:function(date){var startDay=flatpickr.formatDate(date[0],"m/d/Y"),endDay=flatpickr.formatDate(date[1],"m/d/Y"),newStartDate=new Date(startDay).getTime(),newEndDate=new Date(endDay).getTime(),newStartDate=eval(newStartDate/1e3+3600),newEndDate=eval(newEndDate/1e3+3600),countDays=eval(newEndDate-newStartDate),countDays=eval(countDays/86400+1);$element.attr("data-pafe-form-builder-date-range-days",countDays)},mode:"range"}),"english"!=$element.data("pafe-form-builder-date-language")&&(options.locale=$element.attr("data-pafe-form-builder-date-language")),$element.hasClass("flatpickr-custom-options")&&(options=isValidJSONString($element.attr("data-pafe-flatpickr-custom-options"))?JSON.parse($element.attr("data-pafe-flatpickr-custom-options")):$element.attr("data-pafe-flatpickr-custom-options")),$element.flatpickr(options))},$dateField.each(function(){addDatePicker($(this))})),window.pafeIntlTelInput=function(e,t){0<e.length&&(e.each(function(){$(this).intlTelInput({autoHideDialCode:!0,autoPlaceholder:"off",dropdownContainer:document.body,formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:t,nationalMode:!1,preferredCountries:["US"],separateDialCode:!0,utilsScript:""})}),"rtl"==$("html").attr("dir")&&$("body").addClass("iti-rtl"))};var $pafeTelField=$(document).find("[data-pafe-tel-field]");if(0<$pafeTelField.length){let countryCode="",data={action:"pafe_get_country_code"};$.ajax(ajaxurl,{data:data,timeout:5e3,success:function(e){"error"!=e&&(countryCode=e),pafeIntlTelInput($pafeTelField,countryCode)},error:function(e){pafeIntlTelInput($pafeTelField,countryCode)}})}var $timeField=$repeaterNew.find(".elementor-time-field"),addTimePicker;0<$timeField.length&&!checkIsMobile()&&(addTimePicker=function(e){e.hasClass("elementor-use-native")||e.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:e.attr("data-pafe-form-builder-value")||null})},$timeField.each(function(){addTimePicker($(this))}))}}}else $(document).find('[data-pafe-form-builder-repeater-id-trigger="'+repeaterID+'"]').show(),2==$repeater.length&&$(document).find('[data-pafe-form-builder-repeater-id="'+repeaterID+'"] [data-pafe-form-builder-repeater-trigger-action="'+repeaterTriggerAction+'"]').hide(),1<$repeater.length&&($repeaterParent=$(this).closest('[data-pafe-form-builder-repeater-form-id="'+formID+'"]'),0<$repeaterParent.siblings('[data-pafe-form-builder-repeater-form-id="'+formID+'"]').length&&$(this).closest('[data-pafe-form-builder-repeater-form-id="'+formID+'"]').remove(),$conditionals=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]"),0<$conditionals.length&&pafeConditionalLogicFormCheck($conditionals),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic][data-pafe-form-builder-form-id="'+formID+'"]').change(),$(document).find('body:not(.elementor-editor-active) [data-pafe-form-builder-form-id="'+formID+'"]').change(),pafeCalculatedFieldsForm(""))}),$("[data-pafe-form-builder-repeater-id]").each(function(){var e=$(this).data("pafe-form-builder-repeater-form-id"),t="pafe-end-repeater"+$(this).data("pafe-form-builder-repeater-id");$(this).after('<div class="elementor-element elementor-element-7d558e4 elementor-widget elementor-widget-pafe-form-builder-field elementor-widget-pafe-form-builder-field-hidden" data-element_type="widget" data-widget_type="pafe-form-builder-field.default" style="opacity: 0.45;"><div class="elementor-widget-container"><div class="elementor-form-fields-wrapper elementor-labels-above"><div class="elementor-field-type-hidden elementor-field-group elementor-column elementor-field-group-'+t+' elementor-col-100"><div data-pafe-form-builder-required=""></div><input size="1" class="elementor-field elementor-size- " type="hidden" name="form_fields['+t+']" id="form-field-'+t+'" autocomplete="on" data-pafe-form-builder-default-value="" value="" data-pafe-form-builder-value="" data-pafe-form-builder-form-id="'+e+'"></div></div></div></div>')}),$("[data-pafe-form-builder-delete-post]").click(function(e){e.preventDefault();var e={action:"pafe_delete_post",id:$(this).data("pafe-form-builder-delete-post"),force_delete:$(this).data("pafe-form-builder-delete-post-force")},t=$(this).data("pafe-form-builder-delete-post-redirect");$.post($("[data-pafe-ajax-url]").data("pafe-ajax-url"),e,function(e){""!=e.trim()&&(window.location.href=t)})}),$('[data-pafe-form-builder-repeater-form-id] [data-pafe-form-builder-repeater-trigger-action="remove"]').hide(),setTimeout(pafeRepeaterFillValue(),1e3),setTimeout(pafePreviewSubmission(),1e3),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(250,function(){pafePreviewSubmission()})),bookingItemLoad(),$(document).on("elementor/popup/show",function(e,t,i){bookingItemLoad()}),$(document).on("change",".pafe-form-booking-date",function(){bookingLoad($(this))}),$(document).on("change","[data-pafe-form-booking-item]",function(){var e,t;$(this).is(":checked")?($(this).closest(".pafe-form-booking__item").addClass("active"),null!=$(this).attr("data-pafe-form-booking-item-radio")&&((e=$(this).closest(".pafe-form-booking__item").siblings()).find("input").prop("checked",!1),e.removeClass("active"),void 0!==(t=JSON.parse($(this).attr("data-pafe-form-booking-item-options"))).pafe_form_booking_slot_quantity_field&&(e="#form-field-"+t.pafe_form_booking_slot_quantity_field.replace('[field id="',"").replace('"]',""),t=$(this).attr("data-pafe-form-builder-form-booking-availble"),$(e).attr("max",t)))):$(this).closest(".pafe-form-booking__item").removeClass("active")}),$(document).on("click","[data-pafe-form-builder-trigger-success],[data-pafe-form-builder-trigger-failed]",function(){bookingItemLoad()}),$(document).on("change keyup paste",'[type="number"][data-pafe-form-builder-form-id]',delayForNumberFieldtype(function(e){var t=$(this).val(),i=$(this).attr("min"),a=$(this).attr("max"),r=!1;parseInt(i)>parseInt(t)?(r=!0,$(this).val(i)):parseInt(t)>parseInt(a)&&(r=!0,$(this).val(a)),r&&$(this).change()},500)),$('[type="number"][data-pafe-form-builder-form-id]').bind("paste",function(e){var a=this,r=$(this).attr("min"),n=$(this).attr("max");setTimeout(function(e){var t=!1,i=$(a).val();parseInt(r)>parseInt(i)?(t=!0,$(a).val(r)):parseInt(i)>parseInt(n)&&(t=!0,$(a).val(n)),t&&$(this).change()},0)}),$(document).on("click","[data-pafe-form-builder-trigger-success]",function(){var e;0==$(this).closest(".elementor-element").find("[data-pafe-form-builder-submit-update-user-profile]").length&&(e=$(this).attr("data-pafe-form-builder-trigger-success"),$(document).find('[data-pafe-form-builder-form-id="'+e+'"]').each(function(){var e=$(this).find("option:first"),t=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(t=!0);var i=$(this).data("pafe-form-builder-default-value");null!=i&&""!=i||Number.isInteger(i)?t?($(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"),i==$(this).val()&&$(this).prop("checked",!0)):$(this).val(i):0!=e.length?$(this).val(e.val()):t?$(this).prop("checked",!1).removeClass("pafe-checked").removeClass("pafe-checked-setvalue"):$(this).val("")}),0<(e=$(document).find("body:not(.elementor-editor-active) [data-pafe-form-builder-conditional-logic]")).length&&pafeConditionalLogicFormCheck(e)),0!==$('[data-pafe-submit-hide="true"]').length&&$(".pafe-form-builder-button").hide()}),$(document).on("elementor/popup/show",function(e,t,i){$(document).find(".dialog-widget [data-mask]").each(function(){$(this).mask($(this).attr("data-mask"))})}),paymentMethodsSelectField(),$(document).on("change","[data-pafe-form-builder-payment-methods-select-field]",function(){paymentMethodsSelectField()}),$("[data-pafe-form-builder-submit-update-user-profile]").each(function(){for(var e=$(this).attr("data-pafe-form-builder-submit-form-id"),t=JSON.parse($(this).attr("data-pafe-form-builder-submit-update-user-profile")),i=0;i<t.length;i++)setFieldValue($(document).find('[data-pafe-form-builder-form-id="'+e+'"][name^="form_fields['+t[i].field_id+']"]'),t[i].user_meta_value)}),setTimeout(pafeLivePreview(),1e3),$(document).on("keyup change","[data-pafe-form-builder-form-id]",$.debounce(100,function(){pafeLivePreview($(this))})),$(document).on("click",'[data-pafe-show_password-icon="true"]',function(){var e=$(this).attr("data-pafe-password-name"),t=$(this).closest(".pafe-field-container").find('[name="form_fields['+e+']"]').attr("type"),i=$(this).closest(".pafe-field-container").find("#eyeIcon-"+e);"password"===t?($(this).closest(".pafe-field-container").find('[name="form_fields['+e+']"]').attr("type","text"),i.addClass("fa-eye-slash")):($(this).closest(".pafe-field-container").find('[name="form_fields['+e+']"]').attr("type","password"),i.removeClass("fa-eye-slash"))});const submitKeyboard=$('[data-pafe-submit-keyboard="true"]');function pafe_nl2br(e,t){return null==e?"":(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(t||void 0===t?"<br />":"<br>")+"$2")}function pafeLivePreview(t){var e,n,i,a,r;0<$(document).find("[data-pafe-form-builder-live-preview]").length&&(e=$(t).closest("section").attr("data-pafe-form-builder-repeater-form-id"),n=$(t).val(),r=$(t).attr("type"),a=$(t).attr("id"),r=r||$(t).attr("data-pafe-field-type"),void 0!==a&&(i=[],a=$(t).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),"checkbox"==r&&($.each($('input[name="'+$(t).attr("name")+'"]:checked'),function(){var e=$(t).hasClass("pafe-preview-label")?$(this).closest(".elementor-field-option").find("label").text():$(this).val();i.push(e)}),n=i.join(", ")),"radio"==r&&(n=$(t).hasClass("pafe-preview-label")?$(t).closest(".elementor-field-option").find("label").text():$(t).val()),"select"==r&&(n=$(t).hasClass("pafe-preview-label")?$(t).find('[value="'+n+'"]').text():n),(e?$(t).closest("section").find('[data-pafe-form-builder-live-preview="'+a+'"]'):(n=pafe_nl2br($(t).val()),$(document).find('[data-pafe-form-builder-live-preview="'+a+'"]'))).each(function(){if($(this).hasClass("pafe-live-preivew-image")){n=$(t).val();var a=$(this).data("image-width"),r=$(this).data("image-height"),e=$(t).val()?$(t).val().split(","):[];let i="";e&&$.each(e,function(e,t){i+='<img width="'+a+'" height="'+r+'" src="'+t+'"/>'}),$(this).html(i)}else $(this).html(n)})))}$.each(submitKeyboard,function(e,t){var i=this,a=$(this).attr("data-pafe-form-builder-submit-form-id");$('[data-pafe-form-builder-form-id="'+a+'"]').on("keyup",function(e){13===e.keyCode&&$(i).trigger("click")})}),$(document).on("change",'.elementor-field-option input[type="checkbox"]',function(e){var t=$(this).closest(".elementor-field-group").find('.elementor-field-option input[type="checkbox"]'),i=$(this).data("pafe-checkbox-limit-multiple");t.filter(":checked").length>i&&(this.checked=!1)}),$(".pafe-select-type-select2").each(function(){$(this).select2({tags:!0})})}),function(t){"object"==typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(e){t(e)}):t(jQuery)}(function(r,n){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}for(var o=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (日本)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["North Macedonia (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1,["5288","5289"]],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1,["18"]]],t=0;t<o.length;t++){var i=o[t];o[t]={name:i[0],iso2:i[1],dialCode:i[2],priority:i[3]||0,areaCodes:i[4]||null}}var a={getInstance:function(e){e=e.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[e]},instances:{},documentReady:function(){return"complete"===document.readyState}};"object"==typeof window&&(window.intlTelInputGlobals=a);function s(t){f(window.intlTelInputGlobals.instances,function(e){window.intlTelInputGlobals.instances[e][t]()})}var l,d,c,u=0,h={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},p=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],f=function(e,t){for(var i=Object.keys(e),a=0;a<i.length;a++)t(i[a],e[i[a]])},m=(l=g,(d=[{key:"_init",value:function(){var e,t,i=this;this.d.nationalMode&&(this.d.autoHideDialCode=!1),this.d.separateDialCode&&(this.d.autoHideDialCode=this.d.nationalMode=!1),this.g=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.g&&(document.body.classList.add("iti-mobile"),this.d.dropdownContainer||(this.d.dropdownContainer=document.body)),"undefined"!=typeof Promise?(e=new Promise(function(e,t){i.h=e,i.i=t}),t=new Promise(function(e,t){i.i0=e,i.i1=t}),this.promise=Promise.all([e,t])):(this.h=this.i=function(){},this.i0=this.i1=function(){}),this.s={},this._b(),this._f(),this._h(),this._i(),this._i3()}},{key:"_b",value:function(){this._d(),this._d2(),this._e(),this.d.localizedCountries&&this._d0(),(this.d.onlyCountries.length||this.d.localizedCountries)&&this.p.sort(this._d1)}},{key:"_c",value:function(e,t,i){t.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=t.length),this.q.hasOwnProperty(t)||(this.q[t]=[]);for(var a=0;a<this.q[t].length;a++)if(this.q[t][a]===e)return;i=i!==n?i:this.q[t].length;this.q[t][i]=e}},{key:"_d",value:function(){var t,i;this.d.onlyCountries.length?(t=this.d.onlyCountries.map(function(e){return e.toLowerCase()}),this.p=o.filter(function(e){return-1<t.indexOf(e.iso2)})):this.d.excludeCountries.length?(i=this.d.excludeCountries.map(function(e){return e.toLowerCase()}),this.p=o.filter(function(e){return-1===i.indexOf(e.iso2)})):this.p=o}},{key:"_d0",value:function(){for(var e=0;e<this.p.length;e++){var t=this.p[e].iso2.toLowerCase();this.d.localizedCountries.hasOwnProperty(t)&&(this.p[e].name=this.d.localizedCountries[t])}}},{key:"_d1",value:function(e,t){return e.name.localeCompare(t.name)}},{key:"_d2",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.q={};for(var e=0;e<this.p.length;e++){var t=this.p[e];this.dialCodes[t.dialCode]||(this.dialCodes[t.dialCode]=!0),this._c(t.iso2,t.dialCode,t.priority)}for(var i=0;i<this.p.length;i++){var a=this.p[i];if(a.areaCodes)for(var r=this.q[a.dialCode][0],n=0;n<a.areaCodes.length;n++){for(var o=a.areaCodes[n],s=1;s<o.length;s++){var l=a.dialCode+o.substr(0,s);this._c(r,l),this._c(a.iso2,l)}this._c(a.iso2,a.dialCode+o)}}}},{key:"_e",value:function(){this.preferredCountries=[];for(var e=0;e<this.d.preferredCountries.length;e++){var t=this.d.preferredCountries[e].toLowerCase(),t=this._y(t,!1,!0);t&&this.preferredCountries.push(t)}}},{key:"_e2",value:function(e,t,i){var a=document.createElement(e);return t&&f(t,function(e,t){return a.setAttribute(e,t)}),i&&i.appendChild(a),a}},{key:"_f",value:function(){this.a.hasAttribute("autocomplete")||this.a.form&&this.a.form.hasAttribute("autocomplete")||this.a.setAttribute("autocomplete","off");var e="iti";this.d.allowDropdown&&(e+=" iti--allow-dropdown"),this.d.separateDialCode&&(e+=" iti--separate-dial-code"),this.d.customContainer&&(e+=" ",e+=this.d.customContainer);var t,i,a=this._e2("div",{class:e});this.a.parentNode.insertBefore(a,this.a),this.k=this._e2("div",{class:"iti__flag-container"},a),a.appendChild(this.a),this.selectedFlag=this._e2("div",{class:"iti__selected-flag",role:"combobox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-owns":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false"},this.k),this.l=this._e2("div",{class:"iti__flag"},this.selectedFlag),this.d.separateDialCode&&(this.t=this._e2("div",{class:"iti__selected-dial-code"},this.selectedFlag)),this.d.allowDropdown&&(this.selectedFlag.setAttribute("tabindex","0"),this.u=this._e2("div",{class:"iti__arrow"},this.selectedFlag),this.m=this._e2("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"}),this.preferredCountries.length&&(this._g(this.preferredCountries,"iti__preferred",!0),this._e2("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.m)),this._g(this.p,"iti__standard"),this.d.dropdownContainer?(this.dropdown=this._e2("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.m)):this.k.appendChild(this.m)),this.d.hiddenInput&&(t=this.d.hiddenInput,!(i=this.a.getAttribute("name"))||-1!==(e=i.lastIndexOf("["))&&(t="".concat(i.substr(0,e),"[").concat(t,"]")),this.hiddenInput=this._e2("input",{type:"hidden",name:t}),a.appendChild(this.hiddenInput))}},{key:"_g",value:function(e,t,i){for(var a="",r=0;r<e.length;r++){var n=e[r],o=i?"-preferred":"";a+="<li class='iti__country ".concat(t,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(n.iso2).concat(o,"' role='option' data-dial-code='").concat(n.dialCode,"' data-country-code='").concat(n.iso2,"' aria-selected='false'>"),a+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(n.iso2,"'></div></div>"),a+="<span class='iti__country-name'>".concat(n.name,"</span>"),a+="<span class='iti__dial-code'>+".concat(n.dialCode,"</span>"),a+="</li>"}this.m.insertAdjacentHTML("beforeend",a)}},{key:"_h",value:function(){var e=this.a.getAttribute("value"),t=this.a.value,i=e&&"+"===e.charAt(0)&&(!t||"+"!==t.charAt(0))?e:t,a=this._5(i),r=this._w(i),n=this.d,o=n.initialCountry,e=n.nationalMode,t=n.autoHideDialCode,n=n.separateDialCode;a&&!r?this._v(i):"auto"!==o&&(o?this._z(o.toLowerCase()):a&&r?this._z("us"):(this.j=(this.preferredCountries.length?this.preferredCountries:this.p)[0].iso2,i||this._z(this.j)),i||e||t||n||(this.a.value="+".concat(this.s.dialCode))),i&&this._u(i)}},{key:"_i",value:function(){this._j(),this.d.autoHideDialCode&&this._l(),this.d.allowDropdown&&this._i2(),this.hiddenInput&&this._i0()}},{key:"_i0",value:function(){var e=this;this._a14=function(){e.hiddenInput.value=e.getNumber()},this.a.form&&this.a.form.addEventListener("submit",this._a14)}},{key:"_i1",value:function(){for(var e=this.a;e&&"LABEL"!==e.tagName;)e=e.parentNode;return e}},{key:"_i2",value:function(){var t=this;this._a9=function(e){t.m.classList.contains("iti__hide")?t.a.focus():e.preventDefault()};var e=this._i1();e&&e.addEventListener("click",this._a9),this._a10=function(){!t.m.classList.contains("iti__hide")||t.a.disabled||t.a.readOnly||t._n()},this.selectedFlag.addEventListener("click",this._a10),this._a11=function(e){t.m.classList.contains("iti__hide")&&-1!==["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(e.key)&&(e.preventDefault(),e.stopPropagation(),t._n()),"Tab"===e.key&&t._2()},this.k.addEventListener("keydown",this._a11)}},{key:"_i3",value:function(){var e=this;this.d.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.d.utilsScript):window.addEventListener("load",function(){window.intlTelInputGlobals.loadUtils(e.d.utilsScript)}):this.i0(),"auto"===this.d.initialCountry?this._i4():this.h()}},{key:"_i4",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,"function"==typeof this.d.geoIpLookup&&this.d.geoIpLookup(function(e){window.intlTelInputGlobals.autoCountry=e.toLowerCase(),setTimeout(function(){return s("handleAutoCountry")})},function(){return s("rejectAutoCountryPromise")}))}},{key:"_j",value:function(){var e=this;this._a12=function(){e._v(e.a.value)&&e._m2CountryChange()},this.a.addEventListener("keyup",this._a12),this._a13=function(){setTimeout(e._a12)},this.a.addEventListener("cut",this._a13),this.a.addEventListener("paste",this._a13)}},{key:"_j2",value:function(e){var t=this.a.getAttribute("maxlength");return t&&e.length>t?e.substr(0,t):e}},{key:"_l",value:function(){var e=this;this._a8=function(){e._l2()},this.a.form&&this.a.form.addEventListener("submit",this._a8),this.a.addEventListener("blur",this._a8)}},{key:"_l2",value:function(){var e;"+"===this.a.value.charAt(0)&&((e=this._m(this.a.value))&&this.s.dialCode!==e||(this.a.value=""))}},{key:"_m",value:function(e){return e.replace(/\D/g,"")}},{key:"_m2",value:function(e){var t=document.createEvent("Event");t.initEvent(e,!0,!0),this.a.dispatchEvent(t)}},{key:"_n",value:function(){this.m.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._o(),this.b&&(this._x(this.b,!1),this._3(this.b,!0)),this._p(),this.u.classList.add("iti__arrow--up"),this._m2("open:countrydropdown")}},{key:"_n2",value:function(e,t,i){i&&!e.classList.contains(t)?e.classList.add(t):!i&&e.classList.contains(t)&&e.classList.remove(t)}},{key:"_o",value:function(){var e,t,i,a,r,n=this;this.d.dropdownContainer&&this.d.dropdownContainer.appendChild(this.dropdown),this.g||(e=this.a.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop,i=e.top+t,r=this.m.offsetHeight,a=i+this.a.offsetHeight+r<t+window.innerHeight,r=t<i-r,this._n2(this.m,"iti__country-list--dropup",!a&&r),this.d.dropdownContainer&&(r=!a&&r?0:this.a.offsetHeight,this.dropdown.style.top="".concat(i+r,"px"),this.dropdown.style.left="".concat(e.left+document.body.scrollLeft,"px"),this._a4=function(){return n._2()},window.addEventListener("scroll",this._a4)))}},{key:"_o2",value:function(e){for(var t=e;t&&t!==this.m&&!t.classList.contains("iti__country");)t=t.parentNode;return t===this.m?null:t}},{key:"_p",value:function(){var t=this;this._a0=function(e){e=t._o2(e.target);e&&t._x(e,!1)},this.m.addEventListener("mouseover",this._a0),this._a1=function(e){e=t._o2(e.target);e&&t._1(e)},this.m.addEventListener("click",this._a1);var e=!0;this._a2=function(){e||t._2(),e=!1},document.documentElement.addEventListener("click",this._a2);var i="",a=null;this._a3=function(e){e.preventDefault(),"ArrowUp"===e.key||"Up"===e.key||"ArrowDown"===e.key||"Down"===e.key?t._q(e.key):"Enter"===e.key?t._r():"Escape"===e.key?t._2():/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(e.key)&&(a&&clearTimeout(a),i+=e.key.toLowerCase(),t._s(i),a=setTimeout(function(){i=""},1e3))},document.addEventListener("keydown",this._a3)}},{key:"_q",value:function(e){var t="ArrowUp"===e||"Up"===e?this.c.previousElementSibling:this.c.nextElementSibling;t&&(t.classList.contains("iti__divider")&&(t="ArrowUp"===e||"Up"===e?t.previousElementSibling:t.nextElementSibling),this._x(t,!0))}},{key:"_r",value:function(){this.c&&this._1(this.c)}},{key:"_s",value:function(e){for(var t=0;t<this.p.length;t++)if(this._t(this.p[t].name,e)){var i=this.m.querySelector("#iti-".concat(this.id,"__item-").concat(this.p[t].iso2));this._x(i,!1),this._3(i,!0);break}}},{key:"_t",value:function(e,t){return e.substr(0,t.length).toLowerCase()===t}},{key:"_u",value:function(e){var t,i,a=e;this.d.formatOnDisplay&&window.intlTelInputUtils&&this.s&&(t=!this.d.separateDialCode&&(this.d.nationalMode||"+"!==a.charAt(0)),e=(i=intlTelInputUtils.numberFormat).NATIONAL,i=i.INTERNATIONAL,i=t?e:i,a=intlTelInputUtils.formatNumber(a,this.s.iso2,i)),a=this._7(a),this.a.value=a}},{key:"_v",value:function(e){var t=e,i=this.s.dialCode,a="1"===i;t&&this.d.nationalMode&&a&&"+"!==t.charAt(0)&&("1"!==t.charAt(0)&&(t="1".concat(t)),t="+".concat(t)),this.d.separateDialCode&&i&&"+"!==t.charAt(0)&&(t="+".concat(i).concat(t));var e=this._5(t,!0),a=this._m(t),r=null;if(e){var n=this.q[this._m(e)],e=-1!==n.indexOf(this.s.iso2)&&a.length<=e.length-1;if(!("1"===i&&this._w(a)||e))for(var o=0;o<n.length;o++)if(n[o]){r=n[o];break}}else"+"===t.charAt(0)&&a.length?r="":t&&"+"!==t||(r=this.j);return null!==r&&this._z(r)}},{key:"_w",value:function(e){e=this._m(e);if("1"!==e.charAt(0))return!1;e=e.substr(1,3);return-1!==p.indexOf(e)}},{key:"_x",value:function(e,t){var i=this.c;i&&i.classList.remove("iti__highlight"),this.c=e,this.c.classList.add("iti__highlight"),t&&this.c.focus()}},{key:"_y",value:function(e,t,i){for(var a=t?o:this.p,r=0;r<a.length;r++)if(a[r].iso2===e)return a[r];if(i)return null;throw new Error("No country data for '".concat(e,"'"))}},{key:"_z",value:function(e){var t=this.s.iso2?this.s:{};this.s=e?this._y(e,!1,!1):{},this.s.iso2&&(this.j=this.s.iso2),this.l.setAttribute("class","iti__flag iti__".concat(e));var i,a=e?"".concat(this.s.name,": +").concat(this.s.dialCode):"Unknown";return this.selectedFlag.setAttribute("title",a),this.d.separateDialCode&&(i=this.s.dialCode?"+".concat(this.s.dialCode):"",this.t.innerHTML=i,i=this.selectedFlag.offsetWidth||this._z2(),this.a.style.paddingLeft="".concat(i+6,"px")),this._0(),this.d.allowDropdown&&((i=this.b)&&(i.classList.remove("iti__active"),i.setAttribute("aria-selected","false")),e&&((i=this.m.querySelector("#iti-".concat(this.id,"__item-").concat(e,"-preferred"))||this.m.querySelector("#iti-".concat(this.id,"__item-").concat(e))).setAttribute("aria-selected","true"),i.classList.add("iti__active"),this.b=i,this.selectedFlag.setAttribute("aria-activedescendant",i.getAttribute("id")))),t.iso2!==e}},{key:"_z2",value:function(){var e=this.a.parentNode.cloneNode();e.style.visibility="hidden",document.body.appendChild(e);var t=this.k.cloneNode();e.appendChild(t);var i=this.selectedFlag.cloneNode(!0);t.appendChild(i);i=i.offsetWidth;return e.parentNode.removeChild(e),i}},{key:"_0",value:function(){var e="aggressive"===this.d.autoPlaceholder||!this.e&&"polite"===this.d.autoPlaceholder;window.intlTelInputUtils&&e&&(e=intlTelInputUtils.numberType[this.d.placeholderNumberType],e=this.s.iso2?intlTelInputUtils.getExampleNumber(this.s.iso2,this.d.nationalMode,e):"",e=this._7(e),"function"==typeof this.d.customPlaceholder&&(e=this.d.customPlaceholder(e,this.s)),this.a.setAttribute("placeholder",e))}},{key:"_1",value:function(e){var t=this._z(e.getAttribute("data-country-code"));this._2(),this._4(e.getAttribute("data-dial-code"),!0),this.a.focus();e=this.a.value.length;this.a.setSelectionRange(e,e),t&&this._m2CountryChange()}},{key:"_2",value:function(){this.m.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.u.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._a3),document.documentElement.removeEventListener("click",this._a2),this.m.removeEventListener("mouseover",this._a0),this.m.removeEventListener("click",this._a1),this.d.dropdownContainer&&(this.g||window.removeEventListener("scroll",this._a4),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._m2("close:countrydropdown")}},{key:"_3",value:function(e,t){var i=this.m,a=window.pageYOffset||document.documentElement.scrollTop,r=i.offsetHeight,n=i.getBoundingClientRect().top+a,o=n+r,s=e.offsetHeight,l=e.getBoundingClientRect().top+a,d=l+s,e=l-n+i.scrollTop,a=r/2-s/2;l<n?(t&&(e-=a),i.scrollTop=e):o<d&&(t&&(e+=a),s=r-s,i.scrollTop=e-s)}},{key:"_4",value:function(e,t){var i=this.a.value,e="+".concat(e);if("+"===i.charAt(0))var a=this._5(i),a=a?i.replace(a,e):e;else{if(this.d.nationalMode||this.d.separateDialCode)return;if(i)a=e+i;else{if(!t&&this.d.autoHideDialCode)return;a=e}}this.a.value=a}},{key:"_5",value:function(e,t){var i="";if("+"===e.charAt(0))for(var a="",r=0;r<e.length;r++){var n=e.charAt(r);if(!isNaN(parseInt(n,10))){if(a+=n,t)this.q[a]&&(i=e.substr(0,r+1));else if(this.dialCodes[a]){i=e.substr(0,r+1);break}if(a.length===this.countryCodeMaxLen)break}}return i}},{key:"_6",value:function(){var e=this.a.value.trim(),t=this.s.dialCode,i=this._m(e);return(this.d.separateDialCode&&"+"!==e.charAt(0)&&t&&i?"+".concat(t):"")+e}},{key:"_7",value:function(e){var t=e;return!this.d.separateDialCode||(e=this._5(t))&&(e=" "===t[(e="+".concat(this.s.dialCode)).length]||"-"===t[e.length]?e.length+1:e.length,t=t.substr(e)),this._j2(t)}},{key:"_m2CountryChange",value:function(){this._m2("countrychange")}},{key:"handleAutoCountry",value:function(){"auto"===this.d.initialCountry&&(this.j=window.intlTelInputGlobals.autoCountry,this.a.value||this.setCountry(this.j),this.h())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.a.value&&this._u(this.a.value),this._0()),this.i0()}},{key:"destroy",value:function(){var e,t=this.a.form;this.d.allowDropdown&&(this._2(),this.selectedFlag.removeEventListener("click",this._a10),this.k.removeEventListener("keydown",this._a11),(e=this._i1())&&e.removeEventListener("click",this._a9)),this.hiddenInput&&t&&t.removeEventListener("submit",this._a14),this.d.autoHideDialCode&&(t&&t.removeEventListener("submit",this._a8),this.a.removeEventListener("blur",this._a8)),this.a.removeEventListener("keyup",this._a12),this.a.removeEventListener("cut",this._a13),this.a.removeEventListener("paste",this._a13),this.a.removeAttribute("data-intl-tel-input-id");t=this.a.parentNode;t.parentNode.insertBefore(this.a,t),t.parentNode.removeChild(t),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._6(),this.s.iso2):""}},{key:"getNumber",value:function(e){if(window.intlTelInputUtils){var t=this.s.iso2;return intlTelInputUtils.formatNumber(this._6(),t,e)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._6(),this.s.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.s}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var e=this.s.iso2;return intlTelInputUtils.getValidationError(this._6(),e)}return-99}},{key:"isValidNumber",value:function(){var e=this._6().trim(),t=this.d.nationalMode?this.s.iso2:"";return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(e,t):null}},{key:"setCountry",value:function(e){e=e.toLowerCase();this.l.classList.contains("iti__".concat(e))||(this._z(e),this._4(this.s.dialCode,!1),this._m2CountryChange())}},{key:"setNumber",value:function(e){var t=this._v(e);this._u(e),t&&this._m2CountryChange()}},{key:"setPlaceholderNumberType",value:function(e){this.d.placeholderNumberType=e,this._0()}}])&&e(l.prototype,d),c&&e(l,c),g);function g(e,t){var i=this;(function(e){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")})(this),this.id=u++,this.a=e,this.b=null,this.c=null;var a=t||{};this.d={},f(h,function(e,t){i.d[e]=a.hasOwnProperty(e)?a[e]:t}),this.e=Boolean(e.getAttribute("placeholder"))}a.getCountryData=function(){return o};function v(e,t,i){var a=document.createElement("script");a.onload=function(){s("handleUtils"),t&&t()},a.onerror=function(){s("rejectUtilsScriptPromise"),i&&i()},a.className="iti-load-utils",a.async=!0,a.src=e,document.body.appendChild(a)}a.loadUtils=function(i){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,"undefined"!=typeof Promise)return new Promise(function(e,t){return v(i,e,t)});v(i)}return null},a.defaults=h,a.version="17.0.16",r.fn.intlTelInput=function(t){var i,a=arguments;return t===n||"object"==typeof t?this.each(function(){var e;r.data(this,"plugin_intlTelInput")||((e=new m(this,t))._init(),window.intlTelInputGlobals.instances[e.id]=e,r.data(this,"plugin_intlTelInput",e))}):"string"==typeof t&&"_"!==t[0]?(this.each(function(){var e=r.data(this,"plugin_intlTelInput");e instanceof m&&"function"==typeof e[t]&&(i=e[t].apply(e,Array.prototype.slice.call(a,1))),"destroy"===t&&r.data(this,"plugin_intlTelInput",null)}),i!==n?i:this):void 0}}),jQuery(document).ready(function(i){window.pafeIntlTelInput=function(e,t){0<e.length&&(e.each(function(){i(this).intlTelInput({autoHideDialCode:!0,autoPlaceholder:"off",dropdownContainer:document.body,formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:t,nationalMode:!1,preferredCountries:["US"],separateDialCode:!0,utilsScript:""})}),"rtl"==i("html").attr("dir")&&i("body").addClass("iti-rtl"))};var a=i(document).find("[data-pafe-tel-field]");if(0<a.length){let t="";var e={action:"pafe_get_country_code"};i.ajax(ajaxurl,{data:e,timeout:5e3,success:function(e){"error"!=e&&(t=e),pafeIntlTelInput(a,t)},error:function(e){pafeIntlTelInput(a,t)}})}}),jQuery(document).ready(function(l){function d(e){e=e.find("[data-pafe-signature] canvas.not-resize");0<e.length&&e.each(function(){var e=parseInt(l(this).css("max-width").replace("px","")),t=(parseInt(l(this).css("height").replace("px","")),parseInt(l(this).closest(".elementor-form-fields-wrapper").width()));0<t&&(t<e?l(this).attr("width",t):l(this).attr("width",e),l(this).removeClass("not-resize"))})}function e(e){var t=e.closest(".pafe-multi-step-form__content-item");t.find("[data-pafe-form-builder-form-id]").data("pafe-form-builder-form-id");t.removeClass("active"),t.next().addClass("active");var i=t.next().index();e.closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(i).addClass("active");var a,r=e.closest("[data-pafe-multi-step-form-scroll-to-top]");0<r.length&&(a=l("[data-pafe-break-point-md]").data("pafe-break-point-md"),(i=l("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(e=window.innerWidth)&&l("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),a<=e&&e<i&&l("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),e<a&&l("html, body").animate({scrollTop:r.offset().top-r.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)),d(t.next())}l(document).on("click",'[data-pafe-form-builder-nav="next"]',function(){var e,t,i=l(this).data("pafe-form-builder-nav-form-id"),a=l(this).closest(".pafe-multi-step-form__content-item"),r=a.find("[data-pafe-form-builder-form-id="+i+"]"),n=l(this).data("pafe-form-builder-required-text"),o=0,s=!1;r.each(function(){var e,t,i,a;null==l(this).data("pafe-form-builder-stripe")&&null==l(this).data("pafe-form-builder-html")&&((i=0)<(a=l(this).closest(".elementor-field-type-checkbox.elementor-field-required")).length&&(i=a.find("input[type=checkbox]:checked").length),null!=l(this).attr("oninvalid")&&(n=l(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')","")),t=l(this)[0].checkValidity(),e=l(l(this)[0]).next()[0],l(e).hasClass("flatpickr-mobile")&&(t=e.checkValidity()),(!t||0==i&&0<a.length)&&0==l(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"none"!=l(this).closest("[data-pafe-form-builder-conditional-logic]").css("display")&&null==l(this).data("pafe-form-builder-honeypot")&&0==l(this).closest("[data-pafe-signature]").length||0==i&&0<a.length&&"none"!=l(this).closest(".elementor-element").css("display")?("none"==l(this).css("display")||"none"==l(this).closest("div").css("display")||null!=l(this).data("pafe-form-builder-image-select")||0<a.length?l(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(n):s||null!=l(this).data("pafe-form-builder-image-select")||(l(this)[0].reportValidity(),s=!0),o++):""==l(this).val()&&0==l(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&"true"==l(this).attr("aria-required")&&void 0!==l(this).attr("data-pafe-form-builder-select-autocomplete")?(l(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(n),o++):(null!=l(this).data("pafe-form-builder-image-select")&&(l(this).closest(".pafe-image-select-field").find(".image_picker_selector").find(".selected").length<l(this).data("pafe-form-builder-image-select-min-select")?(l(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").html(l(this).data("pafe-form-builder-image-select-min-select-message")).fadeIn(),o++):l(this).closest(".elementor-field-group").find("[data-pafe-image_select_min_select_check]").fadeOut()),t=l(this).closest(".pafe-field-container").find("label"),i=l(this).closest(".pafe-field-container"),a=1,null!=t.attr("data-pafe-form-builder-image-upload-min-files")&&(a=parseInt(t.attr("data-pafe-form-builder-image-upload-min-files")),i.find(".pafe-form-builder-image-upload-uploaded").length<a?(i.find("[data-pafe-form-builder-image-upload-check]").html(t.attr("data-pafe-form-builder-image-upload-min-files-message")),o++):i.find("[data-pafe-form-builder-image-upload-check]").remove()),l(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(""),null!=l(this).data("pafe-flatpickr-custom-options")&&""==l(this).val()&&0==l(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=l(this).attr("required")&&(l(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(n),o++),0<l(this).closest("[data-pafe-signature]").length&&(l(this).closest("[data-pafe-signature]").find("[data-pafe-signature-export]").trigger("click"),""==l(this).val()&&0==l(this).closest(".pafe-form-builder-conditional-logic-hidden").length&&null!=l(this).attr("required")&&(l(this).closest(".elementor-field-group").find("[data-pafe-form-builder-required]").html(n),o++))))}),0==o&&(a.removeClass("active"),a.next().addClass("active"),t=a.next().index(),l(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(t).addClass("active"),0<(e=l(this).closest("[data-pafe-multi-step-form-scroll-to-top]")).length&&(i=l("[data-pafe-break-point-md]").data("pafe-break-point-md"),(r=l("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(t=window.innerWidth)&&l("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),i<=t&&t<r&&l("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),t<i&&l("html, body").animate({scrollTop:e.offset().top-e.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300)),d(a.next()))}),l(document).on("change","[data-pafe-form-builder-multi-step-form-autonext]",function(){e(l(this))}),l(document).on("click",".image_picker_selector>li>div",function(){0<l(this).closest(".elementor-field").find("[data-pafe-form-builder-multi-step-form-autonext]").length&&e(l(this))}),l(document).on("click",'[data-pafe-form-builder-nav="prev"]',function(){l(this).data("pafe-form-builder-nav-form-id");var e=l(this).closest(".pafe-multi-step-form__content-item");e.removeClass("active"),e.prev().addClass("active");var t=e.index();l(this).closest(".pafe-multi-step-form").find(".pafe-multi-step-form__progressbar-item").eq(t).removeClass("active");var i,a=l(this).closest("[data-pafe-multi-step-form-scroll-to-top]");0<a.length&&(i=l("[data-pafe-break-point-md]").data("pafe-break-point-md"),(e=l("[data-pafe-break-point-lg]").data("pafe-break-point-lg"))<=(t=window.innerWidth)&&l("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-desktop")},300),i<=t&&t<e&&l("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-tablet")},300),t<i&&l("html, body").animate({scrollTop:a.offset().top-a.data("pafe-multi-step-form-scroll-to-top-offset-mobile")},300))})}),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e){if(!(e=s(String(e||"").toLowerCase()))||!e.length)return[];for(var t,i,a=[],r=e.split(/ +/),n=0,o=r.length;n<o;n++){if(t=l(r[n]),this.settings.diacritics)for(i in d)d.hasOwnProperty(i)&&(t=t.replace(new RegExp(i,"g"),d[i]));a.push({string:r[n],regex:new RegExp(t,"i")})}return a},e.prototype.iterator=function(e,t){(o(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var r,n,o,s;e=this.prepareSearch(e,t),n=e.tokens,r=e.options.fields,o=n.length,s=e.options.nesting;function l(e,t){var i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(e=t.string.length/e.length,0===i&&(e+=.5),e):0}var d,c=(d=r.length)?1===d?function(e,t){return l(f(t,r[0],s),e)}:function(e,t){for(var i=0,a=0;i<d;i++)a+=l(f(t,r[i],s),e);return a/d}:function(){return 0};return o?1===o?function(e){return c(n[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,a=0;i<o;i++){if((t=c(n[i],e))<=0)return 0;a+=t}return a/o}:function(e){for(var t=0,i=0;t<o;t++)i+=c(n[t],e);return i/o}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var t,a,r,n,o,s,l,d=this,c=!(e=d.prepareSearch(e,i)).query&&i.sort_empty||i.sort,u=function(e,t){return"$score"===e?t.score:f(d.items[t.id],e,i.nesting)},h=[];if(c)for(t=0,a=c.length;t<a;t++)!e.query&&"$score"===c[t].field||h.push(c[t]);if(e.query){for(l=!0,t=0,a=h.length;t<a;t++)if("$score"===h[t].field){l=!1;break}l&&h.unshift({field:"$score",direction:"desc"})}else for(t=0,a=h.length;t<a;t++)if("$score"===h[t].field){h.splice(t,1);break}for(s=[],t=0,a=h.length;t<a;t++)s.push("desc"===h[t].direction?-1:1);return(n=h.length)?1===n?(r=h[0].field,o=s[0],function(e,t){return o*p(u(r,e),u(r,t))}):function(e,t){for(var i,a=0;a<n;a++)if(i=h[a].field,i=s[a]*p(u(i,e),u(i,t)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=n({},t)).fields,a=t.sort,r=t.sort_empty;return i&&!o(i)&&(t.fields=[i]),a&&!o(a)&&(t.sort=[a]),r&&!o(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,i){var a,r,t=this,n=this.prepareSearch(e,i);return i=n.options,e=n.query,r=i.score||t.getScoreFunction(n),e.length?t.iterator(t.items,function(e,t){a=r(e),(!1===i.filter||0<a)&&n.items.push({score:a,id:t})}):t.iterator(t.items,function(e,t){n.items.push({score:1,id:t})}),(t=t.getSortFunction(n,i))&&n.items.sort(t),n.total=n.items.length,"number"==typeof i.limit&&(n.items=n.items.slice(0,i.limit)),n};var p=function(e,t){return"number"==typeof e&&"number"==typeof t||(e=i(String(e||"")),t=i(String(t||""))),t<e?1:e<t?-1:0},n=function(e,t){for(var i,a,r=1,n=arguments.length;r<n;r++)if(a=arguments[r])for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);return e},f=function(e,t,i){if(e&&t){if(!i)return e[t];for(var a=t.split(".");a.length&&(e=e[a.shift()]););return e}},s=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},l=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},i=function(){var e,t,i,a,r="",n={};for(i in d)if(d.hasOwnProperty(i))for(a=d[i].substring(2,d[i].length-1),r+=a,e=0,t=a.length;e<t;e++)n[a.charAt(e)]=i;var o=new RegExp("["+r+"]","g");return function(e){return e.replace(o,function(e){return n[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={mixin:function(a){a.plugins={},a.prototype.initializePlugins=function(e){var t,i,a,r=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},n.isArray(e))for(t=0,i=e.length;t<i;t++)"string"==typeof e[t]?r.push(e[t]):(this.plugins.settings[e[t].name]=e[t].options,r.push(e[t].name));else if(e)for(a in e)e.hasOwnProperty(a)&&(this.plugins.settings[a]=e[a],r.push(a));for(;r.length;)this.require(r.shift())},a.prototype.loadPlugin=function(e){var t=this.plugins,i=a.plugins[e];if(!a.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');t.requested[e]=!0,t.loaded[e]=i.fn.apply(this,[this.plugins.settings[e]||{}]),t.names.push(e)},a.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},a.define=function(e,t){a.plugins[e]={name:e,fn:t}}}},n={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(k,c,e){"use strict";k.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};function a(){}a.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},a.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=a.prototype[t[i]]};function l(e){return void 0!==e}function x(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function s(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function i(t,i,e){var a,r=t.trigger,n={};for(a in t.trigger=function(){var e=arguments[0];if(-1===i.indexOf(e))return r.apply(t,arguments);n[e]=arguments},e.apply(t,[]),t.trigger=r,n)n.hasOwnProperty(a)&&r.apply(t,n[a])}function d(e){var t,i,a={};return"selectionStart"in e?(a.start=e.selectionStart,a.length=e.selectionEnd-a.start):document.selection&&(e.focus(),t=document.selection.createRange(),i=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),a.start=t.text.length-i,a.length=i),a}function u(e,t){return e?(w.$testInput||(w.$testInput=k("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),w.$testInput.text(e),function(e,t,i){var a,r,n={};if(i)for(a=0,r=i.length;a<r;a++)n[i[a]]=e.css(i[a]);else n=e.css();t.css(n)}(t,w.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),w.$testInput.width()):0}function g(o){function e(e,t){var i,a,r,n;t=t||{},(e=e||window.event||{}).metaKey||e.altKey||!t.force&&!1===o.data("grow")||(a=o.val(),e.type&&"keydown"===e.type.toLowerCase()&&(r=48<=(i=e.keyCode)&&i<=57||65<=i&&i<=90||96<=i&&i<=111||186<=i&&i<=222||32===i,46===i||8===i?(t=d(o[0])).length?a=a.substring(0,t.start)+a.substring(t.start+t.length):8===i&&t.start?a=a.substring(0,t.start-1)+a.substring(t.start+1):46===i&&void 0!==t.start&&(a=a.substring(0,t.start)+a.substring(t.start+1)):r&&(r=e.shiftKey,n=String.fromCharCode(e.keyCode),a+=n=r?n.toUpperCase():n.toLowerCase())),n=o.attr("placeholder"),!a&&n&&(a=n),(a=u(a,o)+4)!==s&&(s=a,o.width(a),o.triggerHandler("resize")))}var s=null;o.on("keydown keyup update blur",e),e()}var v=/Mac/.test(navigator.userAgent),_=v?91:17,b=v?18:17,y=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,t={before:function(e,t,i){var a=e[t];e[t]=function(){return i.apply(e,arguments),a.apply(e,arguments)}},after:function(t,e,i){var a=t[e];t[e]=function(){var e=a.apply(t,arguments);return i.apply(t,arguments),e}}},w=function(e,t){var i,a,r=this,n=e[0];n.selectize=r;var o,s,l,d=window.getComputedStyle&&window.getComputedStyle(n,null);if(d=(d=d?d.getPropertyValue("direction"):n.currentStyle&&n.currentStyle.direction)||e.parents("[dir]:first").attr("dir")||"",k.extend(r,{order:0,settings:t,$input:e,tabIndex:e.attr("tabindex")||"",tagType:"select"===n.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(d),eventNS:".selectize"+ ++w.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:e.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===t.loadThrottle?r.onSearchChange:(o=r.onSearchChange,s=t.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(l),l=window.setTimeout(function(){o.apply(e,t)},s)})}),r.sifter=new c(this.options,{diacritics:t.diacritics}),r.settings.options){for(i=0,a=r.settings.options.length;i<a;i++)r.registerOption(r.settings.options[i]);delete r.settings.options}if(r.settings.optgroups){for(i=0,a=r.settings.optgroups.length;i<a;i++)r.registerOptionGroup(r.settings.optgroups[i]);delete r.settings.optgroups}r.settings.mode=r.settings.mode||(1===r.settings.maxItems?"single":"multi"),"boolean"!=typeof r.settings.hideSelected&&(r.settings.hideSelected="multi"===r.settings.mode),r.initializePlugins(r.settings.plugins),r.setupCallbacks(),r.setupTemplates(),r.setup()};return a.mixin(w),void 0!==e?e.mixin(w):(e=(e={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||{},console.error("Selectize: Dependency MicroPlugin is missing"),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())),k.extend(w.prototype,{setup:function(){var e,i,a,t=this,r=t.settings,n=t.eventNS,o=k(window),s=k(document),l=t.$input,d=t.settings.mode,c=l.attr("class")||"",u=k("<div>").addClass(r.wrapperClass).addClass(c).addClass(d),h=k("<div>").addClass(r.inputClass).addClass("items").appendTo(u),p=k('<input type="text" autocomplete="off" />').appendTo(h).attr("tabindex",l.is(":disabled")?"-1":t.tabIndex),f=k(r.dropdownParent||u),m=k("<div>").addClass(r.dropdownClass).addClass(d).hide().appendTo(f),d=k("<div>").addClass(r.dropdownContentClass).appendTo(m);(f=l.attr("id"))&&(p.attr("id",f+"-selectized"),k("label[for='"+f+"']").attr("for",f+"-selectized")),t.settings.copyClassesToDropdown&&m.addClass(c),u.css({width:l[0].style.width}),t.plugins.names.length&&(e="plugin-"+t.plugins.names.join(" plugin-"),u.addClass(e),m.addClass(e)),(null===r.maxItems||1<r.maxItems)&&1===t.tagType&&l.attr("multiple","multiple"),t.settings.placeholder&&p.attr("placeholder",r.placeholder),!t.settings.splitOn&&t.settings.delimiter&&(e=t.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),t.settings.splitOn=new RegExp("\\s*"+e+"+\\s*")),l.attr("autocorrect")&&p.attr("autocorrect",l.attr("autocorrect")),l.attr("autocapitalize")&&p.attr("autocapitalize",l.attr("autocapitalize")),p[0].type=l[0].type,t.$wrapper=u,t.$control=h,t.$control_input=p,t.$dropdown=m,t.$dropdown_content=d,m.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(e){e.stopImmediatePropagation()}),m.on("mouseenter","[data-selectable]",function(){return t.onOptionHover.apply(t,arguments)}),m.on("mousedown click","[data-selectable]",function(){return t.onOptionSelect.apply(t,arguments)}),d="mousedown",m="*:not(input)",a=function(){return t.onItemSelect.apply(t,arguments)},(i=h).on(d,m,function(e){for(var t=e.target;t&&t.parentNode!==i[0];)t=t.parentNode;return e.currentTarget=t,a.apply(this,[e])}),g(p),h.on({mousedown:function(){return t.onMouseDown.apply(t,arguments)},click:function(){return t.onClick.apply(t,arguments)}}),p.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return t.onKeyDown.apply(t,arguments)},keyup:function(){return t.onKeyUp.apply(t,arguments)},keypress:function(){return t.onKeyPress.apply(t,arguments)},resize:function(){t.positionDropdown.apply(t,[])},blur:function(){return t.onBlur.apply(t,arguments)},focus:function(){return t.ignoreBlur=!1,t.onFocus.apply(t,arguments)},paste:function(){return t.onPaste.apply(t,arguments)}}),s.on("keydown"+n,function(e){t.isCmdDown=e[v?"metaKey":"ctrlKey"],t.isCtrlDown=e[v?"altKey":"ctrlKey"],t.isShiftDown=e.shiftKey}),s.on("keyup"+n,function(e){e.keyCode===b&&(t.isCtrlDown=!1),16===e.keyCode&&(t.isShiftDown=!1),e.keyCode===_&&(t.isCmdDown=!1)}),s.on("mousedown"+n,function(e){if(t.isFocused){if(e.target===t.$dropdown[0]||e.target.parentNode===t.$dropdown[0])return!1;t.$control.has(e.target).length||e.target===t.$control[0]||t.blur(e.target)}}),o.on(["scroll"+n,"resize"+n].join(" "),function(){t.isOpen&&t.positionDropdown.apply(t,arguments)}),o.on("mousemove"+n,function(){t.ignoreHover=!1}),this.revertSettings={$children:l.children().detach(),tabindex:l.attr("tabindex")},l.attr("tabindex",-1).hide().after(t.$wrapper),k.isArray(r.items)&&(t.setValue(r.items),delete r.items),y&&l.on("invalid"+n,function(e){e.preventDefault(),t.isInvalid=!0,t.refreshState()}),t.updateOriginalInput(),t.refreshItems(),t.refreshState(),t.updatePlaceholder(),t.isSetup=!0,l.is(":disabled")&&t.disable(),t.on("change",this.onChange),l.data("selectize",t),l.addClass("selectized"),t.trigger("initialize"),!0===r.preload&&t.onSearchChange("")},setupTemplates:function(){var i=this.settings.labelField,a=this.settings.optgroupLabelField,e={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[a])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=k.extend({},e,this.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]])&&this.on(e,t)},onClick:function(e){this.isFocused&&this.isOpen||(this.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,i=e.isDefaultPrevented();if(k(e.target),t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():i||t.setActiveItem(null),!1}else i||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var r=this;r.isFull()||r.isInputHidden||r.isLocked?e.preventDefault():r.settings.splitOn&&setTimeout(function(){var e=r.$control_input.val();if(e.match(r.settings.splitOn))for(var t=k.trim(e).split(r.settings.splitOn),i=0,a=t.length;i<a;i++)r.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t,i=(e.target,this.$control_input[0],this);if(!i.isLocked){switch(e.keyCode){case 65:if(i.isCmdDown)return void i.selectAll();break;case 27:return void(i.isOpen&&(e.preventDefault(),e.stopPropagation(),i.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:return!i.isOpen&&i.hasOptions?i.open():i.$activeOption&&(i.ignoreHover=!0,(t=i.getAdjacentOption(i.$activeOption,1)).length&&i.setActiveOption(t,!0,!0)),void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:return i.$activeOption&&(i.ignoreHover=!0,(t=i.getAdjacentOption(i.$activeOption,-1)).length&&i.setActiveOption(t,!0,!0)),void e.preventDefault();case 13:return void(i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),e.preventDefault()));case 37:return void i.advanceSelection(-1,e);case 39:return void i.advanceSelection(1,e);case 9:return i.settings.selectOnTab&&i.isOpen&&i.$activeOption&&(i.onOptionSelect({currentTarget:i.$activeOption}),i.isFull()||e.preventDefault()),void(i.settings.create&&i.createItem()&&e.preventDefault());case 8:case 46:return void i.deleteSelection(e)}return!i.isFull()&&!i.isInputHidden||(v?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()}9!==e.keyCode&&e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();e=t.$control_input.val()||"";t.lastValue!==e&&(t.lastValue=e,t.onSearchChange(e),t.refreshOptions(),t.trigger("type",e))},onSearchChange:function(t){var i=this,a=i.settings.load;a&&(i.loadedSearches.hasOwnProperty(t)||(i.loadedSearches[t]=!0,i.load(function(e){a.apply(i,[t,e])})))},onFocus:function(e){var t=this,i=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);e=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),t&&t.focus&&t.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")};i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,e):e()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(t=k(e.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(t=t.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(t),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(t)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){i(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var i,a,r,n,o,s,l=this;if("single"!==l.settings.mode){if(!(e=k(e)).length)return k(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if("mousedown"===(a=t&&t.type.toLowerCase())&&l.isShiftDown&&l.$activeItems.length){for(s=l.$control.children(".active:last"),r=Array.prototype.indexOf.apply(l.$control[0].childNodes,[s[0]]),(n=Array.prototype.indexOf.apply(l.$control[0].childNodes,[e[0]]))<r&&(s=r,r=n,n=s),i=r;i<=n;i++)o=l.$control[0].childNodes[i],-1===l.$activeItems.indexOf(o)&&(k(o).addClass("active"),l.$activeItems.push(o));t.preventDefault()}else"mousedown"===a&&l.isCtrlDown||"keydown"===a&&this.isShiftDown?e.hasClass("active")?(a=l.$activeItems.indexOf(e[0]),l.$activeItems.splice(a,1),e.removeClass("active")):l.$activeItems.push(e.addClass("active")[0]):(k(l.$activeItems).removeClass("active"),l.$activeItems=[e.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(e,t,i){var a,r,n,o,s=this;s.$activeOption&&s.$activeOption.removeClass("active"),s.$activeOption=null,(e=k(e)).length&&(s.$activeOption=e.addClass("active"),!t&&l(t)||(a=s.$dropdown_content.height(),r=s.$activeOption.outerHeight(!0),t=s.$dropdown_content.scrollTop()||0,e=(o=n=s.$activeOption.offset().top-s.$dropdown_content.offset().top+t)-a+r,a+t<n+r?s.$dropdown_content.stop().animate({scrollTop:e},i?s.settings.scrollDuration:0):n<t&&s.$dropdown_content.stop().animate({scrollTop:o},i?s.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}},search:function(e){var t,i,a,r=this,n=r.settings,o=this.getSearchOptions();if(n.score&&"function"!=typeof(a=r.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==r.lastQuery?(r.lastQuery=e,i=r.sifter.search(e,k.extend(o,{score:a})),r.currentResults=i):i=k.extend(!0,{},r.currentResults),n.hideSelected)for(t=i.items.length-1;0<=t;t--)-1!==r.items.indexOf(x(i.items[t].id))&&i.items.splice(t,1);return i},refreshOptions:function(e){var t,i,a,r,n,o,s,l,d,c,u,h,p,f;void 0===e&&(e=!0);var m,g,v=this,_=k.trim(v.$control_input.val()),b=v.search(_),y=v.$dropdown_content,w=v.$activeOption&&x(v.$activeOption.attr("data-value")),$=b.items.length;for("number"==typeof v.settings.maxOptions&&($=Math.min($,v.settings.maxOptions)),r={},n=[],t=0;t<$;t++)for(o=v.options[b.items[t].id],s=v.render("option",o),l=o[v.settings.optgroupField]||"",i=0,a=(d=k.isArray(l)?l:[l])&&d.length;i<a;i++)l=d[i],v.optgroups.hasOwnProperty(l)||(l=""),r.hasOwnProperty(l)||(r[l]=document.createDocumentFragment(),n.push(l)),r[l].appendChild(s);for(this.settings.lockOptgroupOrder&&n.sort(function(e,t){return(v.optgroups[e].$order||0)-(v.optgroups[t].$order||0)}),c=document.createDocumentFragment(),t=0,$=n.length;t<$;t++)l=n[t],v.optgroups.hasOwnProperty(l)&&r[l].childNodes.length?((u=document.createDocumentFragment()).appendChild(v.render("optgroup_header",v.optgroups[l])),u.appendChild(r[l]),c.appendChild(v.render("optgroup",k.extend({},v.optgroups[l],{html:(m=u,g=void 0,(g=document.createElement("div")).appendChild(m.cloneNode(!0)),g.innerHTML),dom:u})))):c.appendChild(r[l]);if(y.html(c),v.settings.highlight&&(y.removeHighlight(),b.query.length&&b.tokens.length))for(t=0,$=b.tokens.length;t<$;t++)!function(e,t){if("string"!=typeof t||t.length){var o="string"==typeof t?new RegExp(t,"i"):t,s=function(e){var t=0;if(3===e.nodeType){var i,a,r=e.data.search(o);0<=r&&0<e.data.length&&(a=e.data.match(o),(i=document.createElement("span")).className="highlight",(r=e.splitText(r)).splitText(a[0].length),a=r.cloneNode(!0),i.appendChild(a),r.parentNode.replaceChild(i,r),t=1)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var n=0;n<e.childNodes.length;++n)n+=s(e.childNodes[n]);return t};e.each(function(){s(this)})}}(y,b.tokens[t].regex);if(!v.settings.hideSelected)for(t=0,$=v.items.length;t<$;t++)v.getOption(v.items[t]).addClass("selected");(h=v.canCreate(_))&&(y.prepend(v.render("option_create",{input:_})),f=k(y[0].childNodes[0])),v.hasOptions=0<b.items.length||h,v.hasOptions?(0<b.items.length?((w=w&&v.getOption(w))&&w.length?p=w:"single"===v.settings.mode&&v.items.length&&(p=v.getOption(v.items[0])),p&&p.length||(p=f&&!v.settings.addPrecedence?v.getAdjacentOption(f,1):y.find("[data-selectable]:first"))):p=f,v.setActiveOption(p),e&&!v.isOpen&&v.open()):(v.setActiveOption(null),e&&v.isOpen&&v.close())},addOption:function(e){var t,i,a,r=this;if(k.isArray(e))for(t=0,i=e.length;t<i;t++)r.addOption(e[t]);else(a=r.registerOption(e))&&(r.userOptions[a]=!0,r.lastQuery=null,r.trigger("option_add",a,e))},registerOption:function(e){var t=x(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=x(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var i,a,r,n=this;if(e=x(e),i=x(t[n.settings.valueField]),null!==e&&n.options.hasOwnProperty(e)){if("string"!=typeof i)throw new Error("Value must be set in option data");r=n.options[e].$order,i!==e&&(delete n.options[e],-1!==(a=n.items.indexOf(e))&&n.items.splice(a,1,i)),t.$order=t.$order||r,n.options[i]=t,a=n.renderCache.item,r=n.renderCache.option,a&&(delete a[e],delete a[i]),r&&(delete r[e],delete r[i]),-1!==n.items.indexOf(i)&&(e=n.getItem(e),t=k(n.render("item",t)),e.hasClass("active")&&t.addClass("active"),e.replaceWith(t)),n.lastQuery=null,n.isOpen&&n.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=x(e);var a=i.renderCache.item,r=i.renderCache.option;a&&delete a[e],r&&delete r[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var i=this;i.loadedSearches={},i.userOptions={},i.renderCache={};var a=i.options;k.each(i.options,function(e,t){-1==i.items.indexOf(e)&&delete a[e]}),i.options=i.sifter.items=a,i.lastQuery=null,i.trigger("option_clear")},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var i=this.$dropdown.find("[data-selectable]"),t=i.index(e)+t;return 0<=t&&t<i.length?i.eq(t):k()},getElementWithValue:function(e,t){if(void 0!==(e=x(e))&&null!==e)for(var i=0,a=t.length;i<a;i++)if(t[i].getAttribute("data-value")===e)return k(t[i]);return k()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var i=this.$control[0].childNodes,a=0;a<i.length;a++)this.buffer.appendChild(i[a]);for(var r=k.isArray(e)?e:[e],a=0,n=r.length;a<n;a++)this.isPending=a<n-1,this.addItem(r[a],t);e=this.$control[0];e.insertBefore(this.buffer,e.firstChild),this.buffer=null},addItem:function(n,o){i(this,o?[]:["change"],function(){var e,t,i,a=this,r=a.settings.mode;n=x(n),-1===a.items.indexOf(n)?a.options.hasOwnProperty(n)&&("single"===r&&a.clear(o),"multi"===r&&a.isFull()||(e=k(a.render("item",a.options[n])),i=a.isFull(),a.items.splice(a.caretPos,0,n),a.insertAtCaret(e),a.isPending&&(i||!a.isFull())||a.refreshState(),a.isSetup&&(t=a.$dropdown_content.find("[data-selectable]"),a.isPending||(i=a.getOption(n),i=a.getAdjacentOption(i,1).attr("data-value"),a.refreshOptions(a.isFocused&&"single"!==r),i&&a.setActiveOption(a.getOption(i))),!t.length||a.isFull()?a.close():a.isPending||a.positionDropdown(),a.updatePlaceholder(),a.trigger("item_add",n,e),a.isPending||a.updateOriginalInput({silent:o})))):"single"===r&&a.close()})},removeItem:function(e,t){var i,a,r=this,n=e instanceof k?e:r.getItem(e);e=x(n.attr("data-value")),-1!==(i=r.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(a=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(a,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,n))},createItem:function(e,i){var a=this,r=a.caretPos;e=e||k.trim(a.$control_input.val()||"");var n=arguments[arguments.length-1];if("function"!=typeof n&&(n=function(){}),"boolean"!=typeof i&&(i=!0),!a.canCreate(e))return n(),!1;a.lock();var t,o,s="function"==typeof a.settings.create?this.settings.create:function(e){var t={};return t[a.settings.labelField]=e,t[a.settings.valueField]=e,t},l=(o=!(t=function(e){if(a.unlock(),!e||"object"!=typeof e)return n();var t=x(e[a.settings.valueField]);if("string"!=typeof t)return n();a.setTextboxValue(""),a.addOption(e),a.setCaret(r),a.addItem(t),a.refreshOptions(i&&"single"!==a.settings.mode),n(e)}),function(){o||(o=!0,t.apply(this,arguments))}),e=s.apply(this,[e,l]);return void 0!==e&&l(e),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!k.isEmptyObject(e.options)).toggleClass("has-items",0<e.items.length),e.$control_input.data("grow",!t&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,a,r,n=this;if(e=e||{},1===n.tagType){for(a=[],t=0,i=n.items.length;t<i;t++)r=n.options[n.items[t]][n.settings.labelField]||"",a.push('<option value="'+s(n.items[t])+'" selected="selected">'+s(r)+"</option>");a.length||this.$input.attr("multiple")||a.push('<option value="" selected="selected"></option>'),n.$input.html(a.join(""))}else n.$input.val(n.getValue()),n.$input.attr("value",n.$input.val());n.isSetup&&(e.silent||n.trigger("change",n.$input.val()))},updatePlaceholder:function(){var e;this.settings.placeholder&&(e=this.$control_input,this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0}))},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring||e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),i=e[0],e=this.buffer||this.$control[0];0===t?e.insertBefore(i,e.firstChild):e.insertBefore(i,e.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(e){var t,i,a,r,n,o=this,s=e&&8===e.keyCode?-1:1,l=d(o.$control_input[0]);if(o.$activeOption&&!o.settings.hideSelected&&(r=o.getAdjacentOption(o.$activeOption,-1).attr("data-value")),a=[],o.$activeItems.length){for(n=o.$control.children(".active:"+(0<s?"last":"first")),n=o.$control.children(":not(input)").index(n),0<s&&n++,t=0,i=o.$activeItems.length;t<i;t++)a.push(k(o.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(o.isFocused||"single"===o.settings.mode)&&o.items.length&&(s<0&&0===l.start&&0===l.length?a.push(o.items[o.caretPos-1]):0<s&&l.start===o.$control_input.val().length&&a.push(o.items[o.caretPos]));if(!a.length||"function"==typeof o.settings.onDelete&&!1===o.settings.onDelete.apply(o,[a]))return!1;for(void 0!==n&&o.setCaret(n);a.length;)o.removeItem(a.pop());return o.showInput(),o.positionDropdown(),o.refreshOptions(!0),r&&((r=o.getOption(r)).length&&o.setActiveOption(r)),!0},advanceSelection:function(e,t){var i,a,r,n=this;0!==e&&(n.rtl&&(e*=-1),r=0<e?"last":"first",i=d(n.$control_input[0]),n.isFocused&&!n.isInputHidden?(a=n.$control_input.val().length,(e<0?0!==i.start||0!==i.length:i.start!==a)||a||n.advanceCaret(e,t)):(r=n.$control.children(".active:"+r)).length&&(r=n.$control.children(":not(input)").index(r),n.setActiveItem(null),n.setCaret(0<e?r+1:r)))},advanceCaret:function(e,t){var i,a=this;0!==e&&(i=0<e?"next":"prev",a.isShiftDown?(i=a.$control_input[i]()).length&&(a.hideInput(),a.setActiveItem(i),t&&t.preventDefault()):a.setCaret(a.caretPos+e))},setCaret:function(e){var t=this;if(e="single"===t.settings.mode?t.items.length:Math.max(0,Math.min(t.items.length,e)),!t.isPending)for(var i,a=t.$control.children(":not(input)"),r=0,n=a.length;r<n;r++)i=k(a[r]).detach(),r<e?t.$control_input.before(i):t.$control.append(i);t.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var e=this,t=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),0==--w.count&&w.$testInput&&(w.$testInput.remove(),w.$testInput=void 0),k(window).off(t),k(document).off(t),k(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var i,a,r="",n=!1,o=this;return"option"!==e&&"item"!==e||(n=!!(i=x(t[o.settings.valueField]))),n&&(l(o.renderCache[e])||(o.renderCache[e]={}),o.renderCache[e].hasOwnProperty(i))?o.renderCache[e][i]:(r=k(o.settings.render[e].apply(this,[t,s])),"option"===e||"option_create"===e?t[o.settings.disabledField]||r.attr("data-selectable",""):"optgroup"===e&&(a=t[o.settings.optgroupValueField]||"",r.attr("data-group",a),t[o.settings.disabledField]&&r.attr("data-disabled","")),"option"!==e&&"item"!==e||r.attr("data-value",i||""),n&&(o.renderCache[e][i]=r[0]),r[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),w.count=0,w.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},k.fn.selectize=function(a){function r(e,o){function s(e){return"string"==typeof(e=u&&e.attr(u))&&e.length?JSON.parse(e):null}function l(e,t){e=k(e);var i,a=x(e.val());(a||c.allowEmptyOption)&&(d.hasOwnProperty(a)?t&&((i=d[a][m])?k.isArray(i)?i.push(t):d[a][m]=[i,t]:d[a][m]=t):((i=s(e)||{})[h]=i[h]||e.text(),i[p]=i[p]||a,i[f]=i[f]||e.prop("disabled"),i[m]=i[m]||t,d[a]=i,n.push(i),e.is(":selected")&&o.items.push(a)))}var t,i,a,r,n=o.options,d={};for(o.maxItems=e.attr("multiple")?null:1,t=0,i=(r=e.children()).length;t<i;t++)"optgroup"===(a=r[t].tagName.toLowerCase())?function(e){var t,i,a,r,n;for((a=(e=k(e)).attr("label"))&&((r=s(e)||{})[g]=a,r[v]=a,r[f]=e.prop("disabled"),o.optgroups.push(r)),t=0,i=(n=k("option",e)).length;t<i;t++)l(n[t],a)}(r[t]):"option"===a&&l(r[t])}var n=k.fn.selectize.defaults,c=k.extend({},n,a),u=c.dataAttr,h=c.labelField,p=c.valueField,f=c.disabledField,m=c.optgroupField,g=c.optgroupLabelField,v=c.optgroupValueField;return this.each(function(){var e,t,i;this.selectize||(e=k(this),t=this.tagName.toLowerCase(),(i=e.attr("placeholder")||e.attr("data-placeholder"))||c.allowEmptyOption||(i=e.children('option[value=""]').text()),("select"===t?r:function(e,t){var i,a,r,n,o=e.attr(u);if(o)for(t.options=JSON.parse(o),i=0,a=t.options.length;i<a;i++)t.items.push(t.options[i][p]);else{e=k.trim(e.val()||"");if(c.allowEmptyOption||e.length){for(i=0,a=(r=e.split(c.delimiter)).length;i<a;i++)(n={})[h]=r[i],n[p]=r[i],t.options.push(n);t.items=r}}})(e,i={placeholder:i,options:[],optgroups:[],items:[]}),new w(e,k.extend(!0,{},n,i,a)))})},k.fn.selectize.defaults=w.defaults,k.fn.selectize.support={validity:y},w.define("drag_drop",function(e){if(!k.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var a,t,i,r;"multi"===this.settings.mode&&((a=this).lock=(r=a.lock,function(){var e=a.$control.data("sortable");return e&&e.disable(),r.apply(a,arguments)}),a.unlock=(i=a.unlock,function(){var e=a.$control.data("sortable");return e&&e.enable(),i.apply(a,arguments)}),a.setup=(t=a.setup,function(){t.apply(this,arguments);var i=a.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:a.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=a.$activeItems?a.$activeItems.slice():null,t=[];i.children("[data-value]").each(function(){t.push(k(this).attr("data-value"))}),a.setValue(t),a.setActiveItem(e)}})}))}),w.define("dropdown_header",function(e){var t,i=this;e=k.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),i.setup=(t=i.setup,function(){t.apply(i,arguments),i.$dropdown_header=k(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)})}),w.define("optgroup_columns",function(o){var a,s=this;o=k.extend({equalizeWidth:!0,equalizeHeight:!0},o),this.getAdjacentOption=function(e,t){var i=e.closest("[data-group]").find("[data-selectable]"),t=i.index(e)+t;return 0<=t&&t<i.length?i.eq(t):k()},this.onKeyDown=(a=s.onKeyDown,function(e){var t,i;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?a.apply(this,arguments):(s.ignoreHover=!0,t=(i=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((t=(i=(i=37===e.keyCode?i.prev("[data-group]"):i.next("[data-group]")).find("[data-selectable]")).eq(Math.min(i.length-1,t))).length&&this.setActiveOption(t)))});function e(){var e,t,i,a,r,n=k("[data-group]",s.$dropdown_content);if((t=n.length)&&s.$dropdown_content.width()){if(o.equalizeHeight){for(e=i=0;e<t;e++)i=Math.max(i,n.eq(e).height());n.css({height:i})}o.equalizeWidth&&(r=s.$dropdown_content.innerWidth()-l(),a=Math.round(r/t),n.css({width:a}),1<t&&(a=r-a*(t-1),n.eq(t-1).css({width:a})))}}var l=function(){var e,t=l.width,i=document;return void 0===t&&((e=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=l.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t};(o.equalizeHeight||o.equalizeWidth)&&(t.after(this,"positionDropdown",e),t.after(this,"refreshOptions",e))}),w.define("remove_button",function(e){var n,t,i,a,o;e=k.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),"single"!==this.settings.mode?(a=n=this,o='<a href="javascript:void(0)" class="'+(t=e).className+'" tabindex="-1" title="'+s(t.title)+'">'+t.label+"</a>",n.setup=(i=a.setup,function(){var r;t.append&&(r=a.settings.render.item,a.settings.render.item=function(e){return t=r.apply(n,arguments),i=o,a=t.search(/(<\/[^>]+>\s*)$/),t.substring(0,a)+i+t.substring(a);var t,i,a}),i.apply(n,arguments),n.$control.on("click","."+t.className,function(e){e.preventDefault(),a.isLocked||(e=k(e.currentTarget).parent(),a.setActiveItem(e),a.deleteSelection()&&a.setCaret(a.items.length))})})):function(r,t){t.className="remove-single";var i,n=r,o='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+s(t.title)+'">'+t.label+"</a>";r.setup=(i=n.setup,function(){var e,a;t.append&&(e=k(n.$input.context).attr("id"),k("#"+e),a=n.settings.render.item,n.settings.render.item=function(e){return t=a.apply(r,arguments),i=o,k("<span>").append(t).append(i);var t,i}),i.apply(r,arguments),r.$control.on("click","."+t.className,function(e){e.preventDefault(),n.isLocked||n.clear()})})}(this,e)}),w.define("restore_on_backspace",function(i){var a,e=this;i.text=i.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(a=e.onKeyDown,function(e){var t;return 8===e.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(t=this.caretPos-1)&&t<this.items.length?(t=this.options[this.items[t]],this.deleteSelection(e)&&(this.setTextboxValue(i.text.apply(this,[t])),this.refreshOptions(!0)),void e.preventDefault()):a.apply(this,arguments)})}),w}),jQuery(document).ready(function(a){function e(e,i){(e=e.find("[data-pafe-form-builder-select-autocomplete]")).length&&i.each(e,function(e,t){i(t).selectize({dropdownParent:null})})}a(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",e)}),a(document).on("elementor/popup/show",function(e,t,i){a(document).find(".dialog-widget [data-pafe-form-builder-select-autocomplete]").each(function(){var e='[data-id="'+a(this).closest("[data-id]").data("id")+'"]';a(this).selectize({dropdownParent:e})})})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.SignaturePad=t()}(this,function(){"use strict";function d(e,t,i){this.x=e,this.y=t,this.time=i||(new Date).getTime()}function a(e,t,i,a){this.startPoint=e,this.control1=t,this.control2=i,this.endPoint=a}function h(e,t){var i,a,r,n,o,s,l,d,c=this,t=t||{};function u(){d=!1===r.leading?0:Date.now(),l=null,s=i.apply(n,o),l||(n=o=null)}this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=(i=h.prototype._strokeUpdate,a=this.throttle,l=null,d=0,r=r||{},function(){var e=Date.now();d||!1!==r.leading||(d=e);var t=a-(e-d);return n=this,o=arguments,t<=0||a<t?(l&&(clearTimeout(l),l=null),d=e,s=i.apply(n,o),l||(n=o=null)):l||!1===r.trailing||(l=setTimeout(u,t)),s}):this._strokeMoveUpdate=h.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(c._mouseButtonDown=!0,c._strokeBegin(e))},this._handleMouseMove=function(e){c._mouseButtonDown&&c._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&c._mouseButtonDown&&(c._mouseButtonDown=!1,c._strokeEnd(e))},this._handleTouchStart=function(e){1===e.targetTouches.length&&(e=e.changedTouches[0],c._strokeBegin(e))},this._handleTouchMove=function(e){e.preventDefault();e=e.targetTouches[0];c._strokeMoveUpdate(e)},this._handleTouchEnd=function(e){e.target===c._canvas&&(e.preventDefault(),c._strokeEnd(e))},this.on()}return d.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},d.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},d.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},a.prototype.length=function(){for(var e=0,t=void 0,i=void 0,a=0;a<=10;a+=1){var r,n=a/10,o=this._point(n,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(n,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);0<a&&(r=o-t,n=s-i,e+=Math.sqrt(r*r+n*n)),t=o,i=s}return e},a.prototype._point=function(e,t,i,a,r){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*a*(1-e)*e*e+r*e*e*e},h.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},h.prototype.fromDataURL=function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=new Image,r=i.ratio||window.devicePixelRatio||1,n=i.width||this._canvas.width/r,o=i.height||this._canvas.height/r;this._reset(),a.src=e,a.onload=function(){t._ctx.drawImage(a,0,0,n,o)},this._isEmpty=!1},h.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var i=arguments.length,a=Array(1<i?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return(t=this._canvas).toDataURL.apply(t,[e].concat(a))},h.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},h.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},h.prototype.isEmpty=function(){return this._isEmpty},h.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},h.prototype._strokeUpdate=function(e){var t=e.clientX,i=e.clientY,e=this._createPoint(t,i),t=this._data[this._data.length-1],i=t&&t[t.length-1],t=i&&e.distanceTo(i)<this.minDistance;i&&t||(t=(i=this._addPoint(e)).curve,i=i.widths,t&&i&&this._drawCurve(t,i.start,i.end),this._data[this._data.length-1].push({x:e.x,y:e.y,time:e.time,color:this.penColor}))},h.prototype._strokeEnd=function(e){var t,i=2<this.points.length,a=this.points[0];!i&&a&&this._drawDot(a),a&&(i=(t=this._data[this._data.length-1])[t.length-1],a.equals(i)||t.push({x:a.x,y:a.y,time:a.time,color:this.penColor})),"function"==typeof this.onEnd&&this.onEnd(e)},h.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},h.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},h.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},h.prototype._createPoint=function(e,t,i){var a=this._canvas.getBoundingClientRect();return new d(e-a.left,t-a.top,i||(new Date).getTime())},h.prototype._addPoint=function(e){var t=this.points;if(t.push(e),2<t.length){3===t.length&&t.unshift(t[0]);var i=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,e=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,i=new a(t[1],i,e,t[2]),e=this._calculateCurveWidths(i);return t.shift(),{curve:i,widths:e}}return{}},h.prototype._calculateCurveControlPoints=function(e,t,i){var a=e.x-t.x,r=e.y-t.y,n=t.x-i.x,o=t.y-i.y,s=(e.x+t.x)/2,l=(e.y+t.y)/2,e=(t.x+i.x)/2,i=(t.y+i.y)/2,r=Math.sqrt(a*a+r*r),o=Math.sqrt(n*n+o*o),r=o/(r+o),o=e+(s-e)*r,r=i+(l-i)*r,o=t.x-o,r=t.y-r;return{c1:new d(s+o,l+r),c2:new d(e+o,i+r)}},h.prototype._calculateCurveWidths=function(e){var t=e.startPoint,i=e.endPoint,e={start:null,end:null},i=this.velocityFilterWeight*i.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,t=this._strokeWidth(i);return e.start=this._lastWidth,e.end=t,this._lastVelocity=i,this._lastWidth=t,e},h.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},h.prototype._drawPoint=function(e,t,i){var a=this._ctx;a.moveTo(e,t),a.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1},h.prototype._drawCurve=function(e,t,i){var a=this._ctx,r=i-t,n=Math.floor(e.length());a.beginPath();for(var o=0;o<n;o+=1){var s=o/n,l=s*s,d=l*s,c=1-s,u=c*c,h=u*c,p=h*e.startPoint.x;p+=3*u*s*e.control1.x,p+=3*c*l*e.control2.x,p+=d*e.endPoint.x;h=h*e.startPoint.y;h+=3*u*s*e.control1.y,h+=3*c*l*e.control2.y,h+=d*e.endPoint.y;d=t+d*r;this._drawPoint(p,h,d)}a.closePath(),a.fill()},h.prototype._drawDot=function(e){var t=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,i),t.closePath(),t.fill()},h.prototype._fromData=function(e,t,i){for(var a=0;a<e.length;a+=1){var r=e[a];if(1<r.length)for(var n=0;n<r.length;n+=1){var o=r[n],s=new d(o.x,o.y,o.time),l=o.color;0===n?(this.penColor=l,this._reset(),this._addPoint(s)):n!==r.length-1&&(s=(o=this._addPoint(s)).curve,o=o.widths,s&&o&&t(s,o,l))}else this._reset(),i(r[0])}},h.prototype._toSVG=function(){var a=this,e=this._data,t=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=t.width/i,i=t.height/i,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"width",t.width),n.setAttributeNS(null,"height",t.height),this._fromData(e,function(e,t,i){var a=document.createElement("path");isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y)||(e="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3),a.setAttribute("d",e),a.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),a.setAttribute("stroke",i),a.setAttribute("fill","none"),a.setAttribute("stroke-linecap","round"),n.appendChild(a))},function(e){var t=document.createElement("circle"),i="function"==typeof a.dotSize?a.dotSize():a.dotSize;t.setAttribute("r",i),t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("fill",e.color),n.appendChild(t)});r='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+r+" "+i+'" width="'+r+'" height="'+i+'">',i=n.innerHTML;if(void 0===i){var o=document.createElement("dummy"),s=n.childNodes;o.innerHTML="";for(var l=0;l<s.length;l+=1)o.appendChild(s[l].cloneNode(!0));i=o.innerHTML}return"data:image/svg+xml;base64,"+btoa(r+i+"</svg>")},h.prototype.fromData=function(e){var i=this;this.clear(),this._fromData(e,function(e,t){return i._drawCurve(e,t.start,t.end)},function(e){return i._drawDot(e)}),this._data=e},h.prototype.toData=function(){return this._data},h}),function(){function e(e,s){(e=e.find("[data-pafe-signature] canvas")).length&&s.each(e,function(e,t){var i,a=new SignaturePad(t,{onEnd:function(){i=a.toDataURL("image/png")}}),r=s(t).closest("[data-pafe-signature]"),n=r.find("[data-pafe-signature-clear]"),o=r.find("[data-pafe-signature-export]");n.click(function(){a.clear(),i=a.toDataURL("image/png")}),o.click(function(){var e;a.isEmpty()?r.find(".elementor-field").val(""):(e=a.toDataURL(),r.find(".elementor-field").val(e))}),window.addEventListener("resize",function(){var e=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),a.fromDataURL(i)})})}jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pafe-form-builder-field.default",e)})}(),jQuery(document).ready(function(i){i(document).find("[data-pafe-signature] canvas").each(function(){var e=parseInt(i(this).css("max-width").replace("px","")),t=(parseInt(i(this).css("height").replace("px","")),parseInt(i(this).closest(".elementor-form-fields-wrapper").width()));0<t&&(t<e||Number.isNaN(e)?i(this).attr("width",t):i(this).attr("width",e),i(this).attr("height",i(this).css("height")))})}),jQuery(document).ready(function(e){});
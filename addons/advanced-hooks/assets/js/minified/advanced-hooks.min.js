(s=>{AstraAdvancedHooks={init:function(){AstraAdvancedHooks.bind(),AstraAdvancedHooks.php_snippet_area(),AstraAdvancedHooks.action_description(),AstraAdvancedHooks.bind_tooltip(),AstraAdvancedHooks.initLayoutSettings(),AstraAdvancedHooks.timeDurationEnabled(),astraCustomHookVars.is_complete_package&&document.body.classList.contains("block-editor-page")&&wp.data.subscribe(function(){setTimeout(function(){AstraAdvancedHooks.code_editor_switcher()},1)}),"undefined"!=typeof wp&&void 0!==wp.domReady&&AstraAdvancedHooks.initSiteBuilderBackButton()},timeDurationEnabled:function(){var d=s("#ast-advanced-time-duration-start-dt"),i=s("#ast-advanced-time-duration-end-dt"),e=s("#ast-advanced-time-duration-enabled");s(".ast-advanced-time-duration-enabled").toggle(e.is(":checked")),e.change(function(){s(".ast-advanced-time-duration-enabled").toggle(this.checked),this.checked||(d.val(""),i.val(""))}),d.datetimepicker({timeFormat:"HH:mm:ss",onClose:function(e,t){var a;""!==i.val()?(a=d.datetimepicker("getDate"),i.datetimepicker("getDate")<a&&i.datetimepicker("setDate",a)):i.val(e)},onSelect:function(e){i.datetimepicker("option","minDate",d.datetimepicker("getDate"))}}),i.datetimepicker({timeFormat:"HH:mm:ss",onClose:function(e,t){var a,o;""!==d.val()?(a=d.datetimepicker("getDate"),(o=i.datetimepicker("getDate"))<a&&d.datetimepicker("setDate",o)):d.val(e)},onSelect:function(e){d.datetimepicker("option","maxDate",i.datetimepicker("getDate"))}})},code_editor_switcher:function(){var e,t;s(".edit-post-header-toolbar .ast-advanced-hook-enable-php-wrapper").length||(e=s("#editor"),t=s(s("#astra-editor-button-switch-mode").html()),e.find(".edit-post-header-toolbar").append(t))},bind:function(){s("li#toplevel_page_"+astraCustomHookVars.home_slug+", li#toplevel_page_"+astraCustomHookVars.home_slug+" > a").removeClass("wp-not-current-submenu").addClass("wp-has-current-submenu"),s("li#toplevel_page_"+astraCustomHookVars.home_slug+' a[href="edit.php?post_type=astra-advanced-hook"]').parent().addClass("current"),s("li#menu-appearance.wp-has-current-submenu, li#menu-appearance.wp-has-current-submenu > a").removeClass("wp-has-current-submenu"),s('input[name="ast-advanced-hook-header[sticky]"]').on("change",AstraAdvancedHooks.stickyHeaderChanged),s('input[name="ast-advanced-hook-footer[sticky]"]').on("change",AstraAdvancedHooks.stickyFooterChanged),s('select[name="ast-advanced-hook-layout"]').on("change",AstraAdvancedHooks.layoutChanged),s('select[name="ast-advanced-hook-content[location]"]').on("change",AstraAdvancedHooks.contentLocationChanged)},bind_tooltip:function(){s(".ast-advanced-hook-heading-help").tooltip({content:function(){return s(this).prop("title")},tooltipClass:"ast-advanced-hook-ui-tooltip",position:{my:"center top",at:"center bottom+10"},hide:{duration:200},show:{duration:200}})},php_snippet_area:function(){var e=window.location.href,a=s(".ast-advanced-hook-enable-php-btn").children(".ast-advanced-hook-with-php");-1<e.indexOf("&code_editor")?(a.val("enabled"),s("body").addClass("astra-php-snippt-enabled")):-1<e.indexOf("&wordpress_editor")&&(a.val(""),s("body").removeClass("astra-php-snippt-enabled")),s(document).on("click",".ast-advanced-hook-enable-php-btn",function(e){e.preventDefault();var e=s(this).data("editor-type"),t=encodeURI(window.location.href);-1<t.indexOf("&code_editor")||"code_editor"==e?(a.val("enabled"),s("body").addClass("astra-php-snippt-enabled"),t=t.replace("&code_editor",""),window.location.replace(t+"&wordpress_editor")):-1<t.indexOf("&wordpress_editor")||"wordpress_editor"==e?(a.val(""),s("body").removeClass("astra-php-snippt-enabled"),t=t.replace("&wordpress_editor",""),window.location.replace(t+"&code_editor")):s("body").hasClass("block-editor-page")?window.location=t+"&code_editor":window.location=t+"&wordpress_editor"})},action_description:function(){s("#ast-advanced-hook-action").on("change",function(e){var t=s(this).next(".ast-advanced-hook-action-desc"),a=s(this).find("option:selected").attr("data-desc");"custom_hook"===s("#ast-advanced-hook-action").val()?s(".ast-custom-action-wrap").show():s(".ast-custom-action-wrap").hide(),void 0!==a&&""!=a?(t.removeClass("ast-no-desc"),t.text(a)):(t.addClass("ast-no-desc"),t.text(""))})},initLayoutSettings:function(){var e=s("#ast-advanced-hook-layout").val(),t=s("#ast-advanced-hook-action").val(),a=s('input[name="ast-advanced-hook-header[sticky]"]'),o=s('input[name="ast-advanced-hook-footer[sticky]"]'),d=s("#ast-advanced-hook-content-location").val();s(".ast-layout-content-after-blocks, .ast-layout-content-before-heading, .ast-layout-content-location-required, .ast-inside-content-notice").hide(),"header"==e?(s(".ast-layout-hooks-required").hide(),s(".ast-layout-header-required").show(),s(".ast-layout-required").show(),s(".ast-layout-footer-required").hide(),s(".ast-404-layout-required").hide()):"hooks"==e?(s(".ast-layout-header-required").hide(),s(".ast-layout-hooks-required").show(),s(".ast-layout-required").show(),s(".ast-layout-footer-required").hide(),s(".ast-404-layout-required").hide(),"custom_hook"===t?s(".ast-custom-action-wrap").show():s(".ast-custom-action-wrap").hide()):"footer"==e?(s(".ast-layout-header-required").hide(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-footer-required").show(),s(".ast-layout-required").show(),s(".ast-404-layout-required").hide()):"404-page"==e?(s(".ast-404-layout-required").show(),s(".ast-target-rules-user").show(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-header-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-target-rules-display").hide(),s(".ast-target-rules-exclude").hide()):"content"==e?(s(".ast-layout-content-required").show(),s(".ast-target-rules-user").show(),s(".ast-target-rules-display").show(),s(".ast-layout-content-location-required").show(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-header-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-404-layout-required").hide(),s(".ast-inside-content-notice").show(),("after_blocks"===d?(s(".ast-layout-content-after-blocks").show(),s(".ast-inside-content-blocks-notice")):(s(".ast-layout-content-before-heading").show(),s(".ast-inside-content-heading-notice"))).show()):(s(".ast-layout-content-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-layout-header-required").hide(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-required").hide(),s(".ast-404-layout-required").hide()),a.is(":checked")&&"header"==e?s(".ast-layout-header-sticky-required").show():s(".ast-layout-header-sticky-required").hide(),o.is(":checked")&&"footer"==e?s(".ast-layout-footer-sticky-required").show():s(".ast-layout-footer-sticky-required").hide()},stickyHeaderChanged:function(){s(this).is(":checked")?s(".ast-layout-header-sticky-required").show():s(".ast-layout-header-sticky-required").hide()},stickyFooterChanged:function(){s(this).is(":checked")?s(".ast-layout-footer-sticky-required").show():s(".ast-layout-footer-sticky-required").hide()},layoutChanged:function(){var e=s(this).val(),t=s("#ast-advanced-hook-content-location").val(),a=s('input[name="ast-advanced-hook-header[sticky]"]'),o=s('input[name="ast-advanced-hook-footer[sticky]"]');s(".ast-layout-content-after-blocks").hide(),s(".ast-layout-content-before-heading").hide(),s(".ast-layout-content-location-required").hide(),s(".ast-inside-content-notice").hide(),"header"==e?(s(".ast-layout-hooks-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-layout-header-required").show(),s(".ast-layout-required").show(),s(".ast-layout-content-required").hide(),s(".ast-404-layout-required").hide()):"hooks"==e?(s(".ast-layout-header-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-layout-hooks-required").show(),s(".ast-layout-required").show(),s(".ast-layout-content-required").hide(),s(".ast-404-layout-required").hide()):"footer"==e?(s(".ast-layout-header-required").hide(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-footer-required").show(),s(".ast-layout-required").show(),s(".ast-layout-content-required").hide(),s(".ast-404-layout-required").hide()):"404-page"==e?(s(".ast-404-layout-required").show(),s(".ast-target-rules-user").show(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-header-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-layout-content-required").hide(),s(".ast-target-rules-display").hide(),s(".ast-target-rules-exclude").hide()):"content"==e?(s(".ast-layout-content-required").show(),s(".ast-target-rules-user").show(),s(".ast-target-rules-display").show(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-header-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-404-layout-required").hide(),s(".ast-layout-content-location-required").show(),s(".ast-inside-content-notice").show(),s("after_blocks"===t?".ast-layout-content-after-blocks":".ast-layout-content-before-heading").show()):(s(".ast-layout-content-required").hide(),s(".ast-layout-header-required").hide(),s(".ast-layout-footer-required").hide(),s(".ast-layout-hooks-required").hide(),s(".ast-layout-required").hide(),s(".ast-404-layout-required").hide(),s(".ast-layout-content-required").hide()),a.is(":checked")&&"header"==e?s(".ast-layout-header-sticky-required").show():s(".ast-layout-header-sticky-required").hide(),o.is(":checked")&&"footer"==e?s(".ast-layout-footer-sticky-required").show():s(".ast-layout-footer-sticky-required").hide()},contentLocationChanged:function(){"before_headings"==s(this).val()?(s(".ast-layout-content-after-blocks").hide(),s(".ast-layout-content-before-heading").show()):(s(".ast-layout-content-after-blocks").show(),s(".ast-layout-content-before-heading").hide())},initSiteBuilderBackButton:function(){wp.domReady(function(){if(document.body&&document.body.classList.contains("post-type-astra-advanced-hook")){let t=window.astCustomLayout&&window.astCustomLayout.siteBuilderUrl?window.astCustomLayout.siteBuilderUrl:"/wp-admin/admin.php?page=theme-builder";function e(){var e=document.querySelector(".edit-post-fullscreen-mode-close");e&&e.href&&e.href.includes("edit.php?post_type=astra-advanced-hook")&&(e.href=t)}e(),void 0!==wp.data&&void 0!==wp.data.subscribe&&wp.data.subscribe(function(){e()})}})}},s(function(){AstraAdvancedHooks.init()})})(jQuery);
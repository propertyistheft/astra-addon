const productVariation=()=>{const t=document.querySelectorAll(".ast-single-variation"),e=document.querySelector(".reset_variations");e&&e.addEventListener("click",t=>{const e=document.querySelectorAll(".ast-single-variation");e.forEach(t=>{t.classList.remove("active"),t.style.opacity="1",t.style.pointerEvents="inherit"})}),t&&t.forEach(t=>{t.addEventListener("click",t=>{const e=t.target.closest(".ast-variation-button-group");if(e){const r=e.querySelectorAll(".ast-single-variation");r&&r.forEach(t=>{t.classList.remove("active")})}const a=document.querySelector(".ast-product-single-variable form .variations");a&&(allVariationSelector=a.querySelectorAll("select"),allVariationButton=a.querySelectorAll(".ast-variation-button-group"),allVariationSelector&&allVariationButton&&setTimeout(()=>{allVariationSelector.forEach(t=>{const e=t.querySelectorAll("option"),a=[],o=(e.forEach(t=>{a.push(t.getAttribute("value"))}),t.nextElementSibling),i=o.querySelectorAll(".ast-single-variation");i.forEach(t=>{a.includes(t.getAttribute("data-slug"))?(t.style.opacity="1",t.style.pointerEvents="inherit"):(t.style.opacity=".5",t.style.pointerEvents="none")})})},100));var o=t.target.getAttribute("data-slug");const i=t.target.closest("td").querySelector("select");o&&i&&(t.target.classList.add("active"),i.value=o,i.dispatchEvent(new Event("change",{bubbles:!0})))})})};document.addEventListener("DOMContentLoaded",function(t){productVariation()}),document.addEventListener("astUpdateSingleProductVariations",function(){productVariation()});
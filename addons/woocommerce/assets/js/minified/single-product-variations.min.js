const productVariation=()=>{const t=document.querySelectorAll(".ast-single-variation"),e=document.querySelector(".reset_variations");e&&e.addEventListener("click",t=>{const e=document.querySelectorAll(".ast-single-variation");e.forEach(t=>{t.classList.remove("active"),t.style.opacity="1",t.style.pointerEvents="inherit"})}),t&&t.forEach(t=>{t.addEventListener("click",t=>{const e=t.target.closest(".ast-variation-button-group");if(e){const n=e.querySelectorAll(".ast-single-variation");n&&n.forEach(t=>{t.classList.remove("active")})}const a=document.querySelector(".ast-product-single-variable form .variations");a&&(allVariationSelector=a.querySelectorAll("select"),allVariationButton=a.querySelectorAll(".ast-variation-button-group"),allVariationSelector&&allVariationButton&&setTimeout(()=>{allVariationSelector.forEach(t=>{const e=t.querySelectorAll("option"),a=[],i=(e.forEach(t=>{a.push(t.getAttribute("value"))}),t.nextElementSibling),o=i.querySelectorAll(".ast-single-variation");o.forEach(t=>{a.includes(t.getAttribute("data-slug"))?(t.style.opacity="1",t.style.pointerEvents="inherit"):(t.style.opacity=".5",t.style.pointerEvents="none")})})},100));var i=t.target.getAttribute("data-slug");const o=t.target.closest("td").querySelector("select");i&&o&&(t.target.classList.add("active"),o.value=i,o.dispatchEvent(new Event("change",{bubbles:!0})))})})};document.addEventListener("DOMContentLoaded",function(t){productVariation()}),document.addEventListener("astUpdateSingleProductVariations",function(){productVariation()}),jQuery(".composite_data").on("wc-composite-initializing",function(t,e){e.actions.add_action("component_scripts_initialized",function(){productVariation()},100)});
function makeGalleryAccessible(){let i=document.querySelectorAll(".woocommerce-product-gallery-thumbnails__wrapper .ast-woocommerce-product-gallery__image");var e,t;i.length&&(i.forEach((e,a)=>{e.setAttribute("tabindex","0");var t=e.querySelector("img"),t=t&&t.getAttribute("alt")||"Product image "+(a+1);e.setAttribute("aria-label","View "+t),e.classList.contains("flex-active-slide")?e.setAttribute("aria-current","true"):e.setAttribute("aria-current","false"),e.addEventListener("keydown",function(e){var t,r;"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click(),i.forEach(e=>{e.setAttribute("aria-current","false")}),this.setAttribute("aria-current","true")),"Tab"!==e.key||e.shiftKey||a!==i.length-1||document.querySelector(".ast-single-product-thumbnails")&&-1!==(r=(t=Array.from(document.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')).filter(e=>{e=window.getComputedStyle(e);return"none"!==e.display&&"hidden"!==e.visibility})).indexOf(this))&&r<t.length-1&&(e.preventDefault(),t[r+1].focus())}),e.addEventListener("click",function(){i.forEach(e=>{e.setAttribute("aria-current","false")}),this.setAttribute("aria-current","true")})}),e=document.querySelector(".flex-prev"),t=document.querySelector(".flex-next"),e&&(e.setAttribute("aria-label","Previous image"),e.classList.contains("flex-disabled")?e.setAttribute("aria-disabled","true"):(e.setAttribute("aria-disabled","false"),e.setAttribute("tabindex","0"))),t)&&(t.setAttribute("aria-label","Next image"),t.classList.contains("flex-disabled")?t.setAttribute("aria-disabled","true"):(t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0")))}function triggerGalleryImageMutation(){let b=document.querySelector(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image img");if(b){let u=b?.getAttributeNames().map(e=>({name:e,value:b.getAttribute(e)}))||[],o=(u.push({name:"srcset",value:""}),document.querySelector("#ast-vertical-slider-inner")),c=document.querySelector("#ast-vertical-navigation-prev"),s=document.querySelector("#ast-vertical-navigation-next"),n=!1,d=new MutationObserver(e=>{for(var t of e)if("attributes"===t.type&&"src"===t.attributeName){if(n)return;n=!0;var r=t.target?.getAttribute("src"),i=document.querySelectorAll(".woocommerce-product-gallery-thumbnails__wrapper .ast-woocommerce-product-gallery__image"),l=t.target?.getAttribute("data-src");let e=!1;for(let a=1;a<i.length;a++){let t=i[a],r=t?.querySelector("img");if(r)if(l===r?.getAttribute("data-original-src")){e=!0,d.disconnect(),u.forEach(({name:e,value:t})=>b?.setAttribute(e,t)),setTimeout(()=>{var e;t?.click(),o&&"function"==typeof MoveSlide&&(e=r.clientHeight+10,o?.setAttribute("ast-translate",(a-4)*e),MoveSlide("next",c,s)),n=!1,d.observe(b,{attributes:!0})},50);break}}e||(d.disconnect(),i[0]&&((t=i[0])?.querySelector("img")?.setAttribute("src",r),t?.querySelector("img")?.setAttribute("data-original-src",l),t?.click()),o&&"function"==typeof MoveSlide&&MoveSlide("prev",c,s),setTimeout(()=>n=!1),d.observe(b,{attributes:!0}))}});b&&d.observe(b,{attributes:!0})}}document.addEventListener("DOMContentLoaded",function(){triggerGalleryImageMutation(),makeGalleryAccessible()});